function yx(r,s){for(var a=0;a<s.length;a++){const o=s[a];if(typeof o!="string"&&!Array.isArray(o)){for(const c in o)if(c!=="default"&&!(c in r)){const u=Object.getOwnPropertyDescriptor(o,c);u&&Object.defineProperty(r,c,u.get?u:{enumerable:!0,get:()=>o[c]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const m of u.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function a(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(c){if(c.ep)return;c.ep=!0;const u=a(c);fetch(c.href,u)}})();function um(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var yl={exports:{}},Lr={},jl={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh;function jx(){if(dh)return Ee;dh=1;var r=Symbol.for("react.element"),s=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),g=Symbol.iterator;function k(C){return C===null||typeof C!="object"?null:(C=g&&C[g]||C["@@iterator"],typeof C=="function"?C:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function S(C,P,X){this.props=C,this.context=P,this.refs=w,this.updater=X||N}S.prototype.isReactComponent={},S.prototype.setState=function(C,P){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,P,"setState")},S.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function _(){}_.prototype=S.prototype;function T(C,P,X){this.props=C,this.context=P,this.refs=w,this.updater=X||N}var I=T.prototype=new _;I.constructor=T,j(I,S.prototype),I.isPureReactComponent=!0;var V=Array.isArray,ee=Object.prototype.hasOwnProperty,F={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function Y(C,P,X){var oe,pe={},ye=null,ke=null;if(P!=null)for(oe in P.ref!==void 0&&(ke=P.ref),P.key!==void 0&&(ye=""+P.key),P)ee.call(P,oe)&&!q.hasOwnProperty(oe)&&(pe[oe]=P[oe]);var G=arguments.length-2;if(G===1)pe.children=X;else if(1<G){for(var Z=Array(G),ne=0;ne<G;ne++)Z[ne]=arguments[ne+2];pe.children=Z}if(C&&C.defaultProps)for(oe in G=C.defaultProps,G)pe[oe]===void 0&&(pe[oe]=G[oe]);return{$$typeof:r,type:C,key:ye,ref:ke,props:pe,_owner:F.current}}function M(C,P){return{$$typeof:r,type:C.type,key:P,ref:C.ref,props:C.props,_owner:C._owner}}function B(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function J(C){var P={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(X){return P[X]})}var D=/\/+/g;function le(C,P){return typeof C=="object"&&C!==null&&C.key!=null?J(""+C.key):P.toString(36)}function W(C,P,X,oe,pe){var ye=typeof C;(ye==="undefined"||ye==="boolean")&&(C=null);var ke=!1;if(C===null)ke=!0;else switch(ye){case"string":case"number":ke=!0;break;case"object":switch(C.$$typeof){case r:case s:ke=!0}}if(ke)return ke=C,pe=pe(ke),C=oe===""?"."+le(ke,0):oe,V(pe)?(X="",C!=null&&(X=C.replace(D,"$&/")+"/"),W(pe,P,X,"",function(ne){return ne})):pe!=null&&(B(pe)&&(pe=M(pe,X+(!pe.key||ke&&ke.key===pe.key?"":(""+pe.key).replace(D,"$&/")+"/")+C)),P.push(pe)),1;if(ke=0,oe=oe===""?".":oe+":",V(C))for(var G=0;G<C.length;G++){ye=C[G];var Z=oe+le(ye,G);ke+=W(ye,P,X,Z,pe)}else if(Z=k(C),typeof Z=="function")for(C=Z.call(C),G=0;!(ye=C.next()).done;)ye=ye.value,Z=oe+le(ye,G++),ke+=W(ye,P,X,Z,pe);else if(ye==="object")throw P=String(C),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.");return ke}function te(C,P,X){if(C==null)return C;var oe=[],pe=0;return W(C,oe,"","",function(ye){return P.call(X,ye,pe++)}),oe}function he(C){if(C._status===-1){var P=C._result;P=P(),P.then(function(X){(C._status===0||C._status===-1)&&(C._status=1,C._result=X)},function(X){(C._status===0||C._status===-1)&&(C._status=2,C._result=X)}),C._status===-1&&(C._status=0,C._result=P)}if(C._status===1)return C._result.default;throw C._result}var ue={current:null},se={transition:null},de={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:se,ReactCurrentOwner:F};function L(){throw Error("act(...) is not supported in production builds of React.")}return Ee.Children={map:te,forEach:function(C,P,X){te(C,function(){P.apply(this,arguments)},X)},count:function(C){var P=0;return te(C,function(){P++}),P},toArray:function(C){return te(C,function(P){return P})||[]},only:function(C){if(!B(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Ee.Component=S,Ee.Fragment=a,Ee.Profiler=c,Ee.PureComponent=T,Ee.StrictMode=o,Ee.Suspense=f,Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Ee.act=L,Ee.cloneElement=function(C,P,X){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var oe=j({},C.props),pe=C.key,ye=C.ref,ke=C._owner;if(P!=null){if(P.ref!==void 0&&(ye=P.ref,ke=F.current),P.key!==void 0&&(pe=""+P.key),C.type&&C.type.defaultProps)var G=C.type.defaultProps;for(Z in P)ee.call(P,Z)&&!q.hasOwnProperty(Z)&&(oe[Z]=P[Z]===void 0&&G!==void 0?G[Z]:P[Z])}var Z=arguments.length-2;if(Z===1)oe.children=X;else if(1<Z){G=Array(Z);for(var ne=0;ne<Z;ne++)G[ne]=arguments[ne+2];oe.children=G}return{$$typeof:r,type:C.type,key:pe,ref:ye,props:oe,_owner:ke}},Ee.createContext=function(C){return C={$$typeof:m,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:u,_context:C},C.Consumer=C},Ee.createElement=Y,Ee.createFactory=function(C){var P=Y.bind(null,C);return P.type=C,P},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(C){return{$$typeof:p,render:C}},Ee.isValidElement=B,Ee.lazy=function(C){return{$$typeof:b,_payload:{_status:-1,_result:C},_init:he}},Ee.memo=function(C,P){return{$$typeof:v,type:C,compare:P===void 0?null:P}},Ee.startTransition=function(C){var P=se.transition;se.transition={};try{C()}finally{se.transition=P}},Ee.unstable_act=L,Ee.useCallback=function(C,P){return ue.current.useCallback(C,P)},Ee.useContext=function(C){return ue.current.useContext(C)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(C){return ue.current.useDeferredValue(C)},Ee.useEffect=function(C,P){return ue.current.useEffect(C,P)},Ee.useId=function(){return ue.current.useId()},Ee.useImperativeHandle=function(C,P,X){return ue.current.useImperativeHandle(C,P,X)},Ee.useInsertionEffect=function(C,P){return ue.current.useInsertionEffect(C,P)},Ee.useLayoutEffect=function(C,P){return ue.current.useLayoutEffect(C,P)},Ee.useMemo=function(C,P){return ue.current.useMemo(C,P)},Ee.useReducer=function(C,P,X){return ue.current.useReducer(C,P,X)},Ee.useRef=function(C){return ue.current.useRef(C)},Ee.useState=function(C){return ue.current.useState(C)},Ee.useSyncExternalStore=function(C,P,X){return ue.current.useSyncExternalStore(C,P,X)},Ee.useTransition=function(){return ue.current.useTransition()},Ee.version="18.3.1",Ee}var uh;function pi(){return uh||(uh=1,jl.exports=jx()),jl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hh;function wx(){if(hh)return Lr;hh=1;var r=pi(),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,c=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function m(p,f,v){var b,g={},k=null,N=null;v!==void 0&&(k=""+v),f.key!==void 0&&(k=""+f.key),f.ref!==void 0&&(N=f.ref);for(b in f)o.call(f,b)&&!u.hasOwnProperty(b)&&(g[b]=f[b]);if(p&&p.defaultProps)for(b in f=p.defaultProps,f)g[b]===void 0&&(g[b]=f[b]);return{$$typeof:s,type:p,key:k,ref:N,props:g,_owner:c.current}}return Lr.Fragment=a,Lr.jsx=m,Lr.jsxs=m,Lr}var mh;function Nx(){return mh||(mh=1,yl.exports=wx()),yl.exports}var e=Nx(),x=pi();const rn=um(x),kx=yx({__proto__:null,default:rn},[x]);var Ka={},wl={exports:{}},bt={},Nl={exports:{}},kl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ph;function Sx(){return ph||(ph=1,function(r){function s(se,de){var L=se.length;se.push(de);e:for(;0<L;){var C=L-1>>>1,P=se[C];if(0<c(P,de))se[C]=de,se[L]=P,L=C;else break e}}function a(se){return se.length===0?null:se[0]}function o(se){if(se.length===0)return null;var de=se[0],L=se.pop();if(L!==de){se[0]=L;e:for(var C=0,P=se.length,X=P>>>1;C<X;){var oe=2*(C+1)-1,pe=se[oe],ye=oe+1,ke=se[ye];if(0>c(pe,L))ye<P&&0>c(ke,pe)?(se[C]=ke,se[ye]=L,C=ye):(se[C]=pe,se[oe]=L,C=oe);else if(ye<P&&0>c(ke,L))se[C]=ke,se[ye]=L,C=ye;else break e}}return de}function c(se,de){var L=se.sortIndex-de.sortIndex;return L!==0?L:se.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var m=Date,p=m.now();r.unstable_now=function(){return m.now()-p}}var f=[],v=[],b=1,g=null,k=3,N=!1,j=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(se){for(var de=a(v);de!==null;){if(de.callback===null)o(v);else if(de.startTime<=se)o(v),de.sortIndex=de.expirationTime,s(f,de);else break;de=a(v)}}function V(se){if(w=!1,I(se),!j)if(a(f)!==null)j=!0,he(ee);else{var de=a(v);de!==null&&ue(V,de.startTime-se)}}function ee(se,de){j=!1,w&&(w=!1,_(Y),Y=-1),N=!0;var L=k;try{for(I(de),g=a(f);g!==null&&(!(g.expirationTime>de)||se&&!J());){var C=g.callback;if(typeof C=="function"){g.callback=null,k=g.priorityLevel;var P=C(g.expirationTime<=de);de=r.unstable_now(),typeof P=="function"?g.callback=P:g===a(f)&&o(f),I(de)}else o(f);g=a(f)}if(g!==null)var X=!0;else{var oe=a(v);oe!==null&&ue(V,oe.startTime-de),X=!1}return X}finally{g=null,k=L,N=!1}}var F=!1,q=null,Y=-1,M=5,B=-1;function J(){return!(r.unstable_now()-B<M)}function D(){if(q!==null){var se=r.unstable_now();B=se;var de=!0;try{de=q(!0,se)}finally{de?le():(F=!1,q=null)}}else F=!1}var le;if(typeof T=="function")le=function(){T(D)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,te=W.port2;W.port1.onmessage=D,le=function(){te.postMessage(null)}}else le=function(){S(D,0)};function he(se){q=se,F||(F=!0,le())}function ue(se,de){Y=S(function(){se(r.unstable_now())},de)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(se){se.callback=null},r.unstable_continueExecution=function(){j||N||(j=!0,he(ee))},r.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<se?Math.floor(1e3/se):5},r.unstable_getCurrentPriorityLevel=function(){return k},r.unstable_getFirstCallbackNode=function(){return a(f)},r.unstable_next=function(se){switch(k){case 1:case 2:case 3:var de=3;break;default:de=k}var L=k;k=de;try{return se()}finally{k=L}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(se,de){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var L=k;k=se;try{return de()}finally{k=L}},r.unstable_scheduleCallback=function(se,de,L){var C=r.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?C+L:C):L=C,se){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=L+P,se={id:b++,callback:de,priorityLevel:se,startTime:L,expirationTime:P,sortIndex:-1},L>C?(se.sortIndex=L,s(v,se),a(f)===null&&se===a(v)&&(w?(_(Y),Y=-1):w=!0,ue(V,L-C))):(se.sortIndex=P,s(f,se),j||N||(j=!0,he(ee))),se},r.unstable_shouldYield=J,r.unstable_wrapCallback=function(se){var de=k;return function(){var L=k;k=de;try{return se.apply(this,arguments)}finally{k=L}}}}(kl)),kl}var fh;function Cx(){return fh||(fh=1,Nl.exports=Sx()),Nl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xh;function Ex(){if(xh)return bt;xh=1;var r=pi(),s=Cx();function a(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,c={};function u(t,n){m(t,n),m(t+"Capture",n)}function m(t,n){for(c[t]=n,t=0;t<n.length;t++)o.add(n[t])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},g={};function k(t){return f.call(g,t)?!0:f.call(b,t)?!1:v.test(t)?g[t]=!0:(b[t]=!0,!1)}function N(t,n,i,l){if(i!==null&&i.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function j(t,n,i,l){if(n===null||typeof n>"u"||N(t,n,i,l))return!0;if(l)return!1;if(i!==null)switch(i.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function w(t,n,i,l,d,h,y){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=d,this.mustUseProperty=i,this.propertyName=t,this.type=n,this.sanitizeURL=h,this.removeEmptyString=y}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){S[t]=new w(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];S[n]=new w(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){S[t]=new w(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){S[t]=new w(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){S[t]=new w(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){S[t]=new w(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){S[t]=new w(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){S[t]=new w(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){S[t]=new w(t,5,!1,t.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function T(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(_,T);S[n]=new w(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(_,T);S[n]=new w(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(_,T);S[n]=new w(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){S[t]=new w(t,1,!1,t.toLowerCase(),null,!1,!1)}),S.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){S[t]=new w(t,1,!1,t.toLowerCase(),null,!0,!0)});function I(t,n,i,l){var d=S.hasOwnProperty(n)?S[n]:null;(d!==null?d.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(j(n,i,d,l)&&(i=null),l||d===null?k(n)&&(i===null?t.removeAttribute(n):t.setAttribute(n,""+i)):d.mustUseProperty?t[d.propertyName]=i===null?d.type===3?!1:"":i:(n=d.attributeName,l=d.attributeNamespace,i===null?t.removeAttribute(n):(d=d.type,i=d===3||d===4&&i===!0?"":""+i,l?t.setAttributeNS(l,n,i):t.setAttribute(n,i))))}var V=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=Symbol.for("react.element"),F=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),J=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),se=Symbol.iterator;function de(t){return t===null||typeof t!="object"?null:(t=se&&t[se]||t["@@iterator"],typeof t=="function"?t:null)}var L=Object.assign,C;function P(t){if(C===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);C=n&&n[1]||""}return`
`+C+t}var X=!1;function oe(t,n){if(!t||X)return"";X=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(Q){var l=Q}Reflect.construct(t,[],n)}else{try{n.call()}catch(Q){l=Q}t.call(n.prototype)}else{try{throw Error()}catch(Q){l=Q}t()}}catch(Q){if(Q&&l&&typeof Q.stack=="string"){for(var d=Q.stack.split(`
`),h=l.stack.split(`
`),y=d.length-1,E=h.length-1;1<=y&&0<=E&&d[y]!==h[E];)E--;for(;1<=y&&0<=E;y--,E--)if(d[y]!==h[E]){if(y!==1||E!==1)do if(y--,E--,0>E||d[y]!==h[E]){var A=`
`+d[y].replace(" at new "," at ");return t.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",t.displayName)),A}while(1<=y&&0<=E);break}}}finally{X=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?P(t):""}function pe(t){switch(t.tag){case 5:return P(t.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return t=oe(t.type,!1),t;case 11:return t=oe(t.type.render,!1),t;case 1:return t=oe(t.type,!0),t;default:return""}}function ye(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case q:return"Fragment";case F:return"Portal";case M:return"Profiler";case Y:return"StrictMode";case le:return"Suspense";case W:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case J:return(t.displayName||"Context")+".Consumer";case B:return(t._context.displayName||"Context")+".Provider";case D:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case te:return n=t.displayName||null,n!==null?n:ye(t.type)||"Memo";case he:n=t._payload,t=t._init;try{return ye(t(n))}catch{}}return null}function ke(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ye(n);case 8:return n===Y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function G(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Z(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ne(t){var n=Z(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,h=i.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return d.call(this)},set:function(y){l=""+y,h.call(this,y)}}),Object.defineProperty(t,n,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Se(t){t._valueTracker||(t._valueTracker=ne(t))}function Ve(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var i=n.getValue(),l="";return t&&(l=Z(t)?t.checked?"true":"false":t.value),t=l,t!==i?(n.setValue(t),!0):!1}function kt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $(t,n){var i=n.checked;return L({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??t._wrapperState.initialChecked})}function R(t,n){var i=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;i=G(n.value!=null?n.value:i),t._wrapperState={initialChecked:l,initialValue:i,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function H(t,n){n=n.checked,n!=null&&I(t,"checked",n,!1)}function me(t,n){H(t,n);var i=G(n.value),l=n.type;if(i!=null)l==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(l==="submit"||l==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?$e(t,n.type,i):n.hasOwnProperty("defaultValue")&&$e(t,n.type,G(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function Le(t,n,i){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,i||n===t.value||(t.value=n),t.defaultValue=n}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function $e(t,n,i){(n!=="number"||kt(t.ownerDocument)!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var Gt=Array.isArray;function ms(t,n,i,l){if(t=t.options,n){n={};for(var d=0;d<i.length;d++)n["$"+i[d]]=!0;for(i=0;i<t.length;i++)d=n.hasOwnProperty("$"+t[i].value),t[i].selected!==d&&(t[i].selected=d),d&&l&&(t[i].defaultSelected=!0)}else{for(i=""+G(i),n=null,d=0;d<t.length;d++){if(t[d].value===i){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}n!==null||t[d].disabled||(n=t[d])}n!==null&&(n.selected=!0)}}function Pi(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(a(91));return L({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yc(t,n){var i=n.value;if(i==null){if(i=n.children,n=n.defaultValue,i!=null){if(n!=null)throw Error(a(92));if(Gt(i)){if(1<i.length)throw Error(a(93));i=i[0]}n=i}n==null&&(n=""),i=n}t._wrapperState={initialValue:G(i)}}function jc(t,n){var i=G(n.value),l=G(n.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),n.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),l!=null&&(t.defaultValue=""+l)}function wc(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function Nc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ti(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?Nc(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $r,kc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,i,l,d){MSApp.execUnsafeLocalFunction(function(){return t(n,i,l,d)})}:t}(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for($r=$r||document.createElement("div"),$r.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=$r.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function Wn(t,n){if(n){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=n;return}}t.textContent=n}var Hn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Np=["Webkit","ms","Moz","O"];Object.keys(Hn).forEach(function(t){Np.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),Hn[n]=Hn[t]})});function Sc(t,n,i){return n==null||typeof n=="boolean"||n===""?"":i||typeof n!="number"||n===0||Hn.hasOwnProperty(t)&&Hn[t]?(""+n).trim():n+"px"}function Cc(t,n){t=t.style;for(var i in n)if(n.hasOwnProperty(i)){var l=i.indexOf("--")===0,d=Sc(i,n[i],l);i==="float"&&(i="cssFloat"),l?t.setProperty(i,d):t[i]=d}}var kp=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ai(t,n){if(n){if(kp[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(a(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(a(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(a(61))}if(n.style!=null&&typeof n.style!="object")throw Error(a(62))}}function Ri(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Di=null;function _i(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mi=null,un=null,hn=null;function Ec(t){if(t=mr(t)){if(typeof Mi!="function")throw Error(a(280));var n=t.stateNode;n&&(n=ca(n),Mi(t.stateNode,t.type,n))}}function Lc(t){un?hn?hn.push(t):hn=[t]:un=t}function Pc(){if(un){var t=un,n=hn;if(hn=un=null,Ec(t),n)for(t=0;t<n.length;t++)Ec(n[t])}}function Tc(t,n){return t(n)}function Ac(){}var Ii=!1;function Rc(t,n,i){if(Ii)return t(n,i);Ii=!0;try{return Tc(t,n,i)}finally{Ii=!1,(un!==null||hn!==null)&&(Ac(),Pc())}}function qn(t,n){var i=t.stateNode;if(i===null)return null;var l=ca(i);if(l===null)return null;i=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(a(231,n,typeof i));return i}var Oi=!1;if(p)try{var Qn={};Object.defineProperty(Qn,"passive",{get:function(){Oi=!0}}),window.addEventListener("test",Qn,Qn),window.removeEventListener("test",Qn,Qn)}catch{Oi=!1}function Sp(t,n,i,l,d,h,y,E,A){var Q=Array.prototype.slice.call(arguments,3);try{n.apply(i,Q)}catch(ae){this.onError(ae)}}var Kn=!1,Ur=null,zr=!1,Bi=null,Cp={onError:function(t){Kn=!0,Ur=t}};function Ep(t,n,i,l,d,h,y,E,A){Kn=!1,Ur=null,Sp.apply(Cp,arguments)}function Lp(t,n,i,l,d,h,y,E,A){if(Ep.apply(this,arguments),Kn){if(Kn){var Q=Ur;Kn=!1,Ur=null}else throw Error(a(198));zr||(zr=!0,Bi=Q)}}function $s(t){var n=t,i=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(i=n.return),t=n.return;while(t)}return n.tag===3?i:null}function Dc(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _c(t){if($s(t)!==t)throw Error(a(188))}function Pp(t){var n=t.alternate;if(!n){if(n=$s(t),n===null)throw Error(a(188));return n!==t?null:t}for(var i=t,l=n;;){var d=i.return;if(d===null)break;var h=d.alternate;if(h===null){if(l=d.return,l!==null){i=l;continue}break}if(d.child===h.child){for(h=d.child;h;){if(h===i)return _c(d),t;if(h===l)return _c(d),n;h=h.sibling}throw Error(a(188))}if(i.return!==l.return)i=d,l=h;else{for(var y=!1,E=d.child;E;){if(E===i){y=!0,i=d,l=h;break}if(E===l){y=!0,l=d,i=h;break}E=E.sibling}if(!y){for(E=h.child;E;){if(E===i){y=!0,i=h,l=d;break}if(E===l){y=!0,l=h,i=d;break}E=E.sibling}if(!y)throw Error(a(189))}}if(i.alternate!==l)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?t:n}function Mc(t){return t=Pp(t),t!==null?Ic(t):null}function Ic(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=Ic(t);if(n!==null)return n;t=t.sibling}return null}var Oc=s.unstable_scheduleCallback,Bc=s.unstable_cancelCallback,Tp=s.unstable_shouldYield,Ap=s.unstable_requestPaint,qe=s.unstable_now,Rp=s.unstable_getCurrentPriorityLevel,Fi=s.unstable_ImmediatePriority,Fc=s.unstable_UserBlockingPriority,Vr=s.unstable_NormalPriority,Dp=s.unstable_LowPriority,$c=s.unstable_IdlePriority,Wr=null,Jt=null;function _p(t){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(Wr,t,void 0,(t.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:Op,Mp=Math.log,Ip=Math.LN2;function Op(t){return t>>>=0,t===0?32:31-(Mp(t)/Ip|0)|0}var Hr=64,qr=4194304;function Gn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qr(t,n){var i=t.pendingLanes;if(i===0)return 0;var l=0,d=t.suspendedLanes,h=t.pingedLanes,y=i&268435455;if(y!==0){var E=y&~d;E!==0?l=Gn(E):(h&=y,h!==0&&(l=Gn(h)))}else y=i&~d,y!==0?l=Gn(y):h!==0&&(l=Gn(h));if(l===0)return 0;if(n!==0&&n!==l&&(n&d)===0&&(d=l&-l,h=n&-n,d>=h||d===16&&(h&4194240)!==0))return n;if((l&4)!==0&&(l|=i&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=l;0<n;)i=31-$t(n),d=1<<i,l|=t[i],n&=~d;return l}function Bp(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fp(t,n){for(var i=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,h=t.pendingLanes;0<h;){var y=31-$t(h),E=1<<y,A=d[y];A===-1?((E&i)===0||(E&l)!==0)&&(d[y]=Bp(E,n)):A<=n&&(t.expiredLanes|=E),h&=~E}}function $i(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Uc(){var t=Hr;return Hr<<=1,(Hr&4194240)===0&&(Hr=64),t}function Ui(t){for(var n=[],i=0;31>i;i++)n.push(t);return n}function Jn(t,n,i){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-$t(n),t[n]=i}function $p(t,n){var i=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var l=t.eventTimes;for(t=t.expirationTimes;0<i;){var d=31-$t(i),h=1<<d;n[d]=0,l[d]=-1,t[d]=-1,i&=~h}}function zi(t,n){var i=t.entangledLanes|=n;for(t=t.entanglements;i;){var l=31-$t(i),d=1<<l;d&n|t[l]&n&&(t[l]|=n),i&=~d}}var _e=0;function zc(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Vc,Vi,Wc,Hc,qc,Wi=!1,Kr=[],ps=null,fs=null,xs=null,Yn=new Map,Xn=new Map,gs=[],Up="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qc(t,n){switch(t){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":Yn.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xn.delete(n.pointerId)}}function Zn(t,n,i,l,d,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:i,eventSystemFlags:l,nativeEvent:h,targetContainers:[d]},n!==null&&(n=mr(n),n!==null&&Vi(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),t)}function zp(t,n,i,l,d){switch(n){case"focusin":return ps=Zn(ps,t,n,i,l,d),!0;case"dragenter":return fs=Zn(fs,t,n,i,l,d),!0;case"mouseover":return xs=Zn(xs,t,n,i,l,d),!0;case"pointerover":var h=d.pointerId;return Yn.set(h,Zn(Yn.get(h)||null,t,n,i,l,d)),!0;case"gotpointercapture":return h=d.pointerId,Xn.set(h,Zn(Xn.get(h)||null,t,n,i,l,d)),!0}return!1}function Kc(t){var n=Us(t.target);if(n!==null){var i=$s(n);if(i!==null){if(n=i.tag,n===13){if(n=Dc(i),n!==null){t.blockedOn=n,qc(t.priority,function(){Wc(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gr(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var i=qi(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(i===null){i=t.nativeEvent;var l=new i.constructor(i.type,i);Di=l,i.target.dispatchEvent(l),Di=null}else return n=mr(i),n!==null&&Vi(n),t.blockedOn=i,!1;n.shift()}return!0}function Gc(t,n,i){Gr(t)&&i.delete(n)}function Vp(){Wi=!1,ps!==null&&Gr(ps)&&(ps=null),fs!==null&&Gr(fs)&&(fs=null),xs!==null&&Gr(xs)&&(xs=null),Yn.forEach(Gc),Xn.forEach(Gc)}function er(t,n){t.blockedOn===n&&(t.blockedOn=null,Wi||(Wi=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Vp)))}function tr(t){function n(d){return er(d,t)}if(0<Kr.length){er(Kr[0],t);for(var i=1;i<Kr.length;i++){var l=Kr[i];l.blockedOn===t&&(l.blockedOn=null)}}for(ps!==null&&er(ps,t),fs!==null&&er(fs,t),xs!==null&&er(xs,t),Yn.forEach(n),Xn.forEach(n),i=0;i<gs.length;i++)l=gs[i],l.blockedOn===t&&(l.blockedOn=null);for(;0<gs.length&&(i=gs[0],i.blockedOn===null);)Kc(i),i.blockedOn===null&&gs.shift()}var mn=V.ReactCurrentBatchConfig,Jr=!0;function Wp(t,n,i,l){var d=_e,h=mn.transition;mn.transition=null;try{_e=1,Hi(t,n,i,l)}finally{_e=d,mn.transition=h}}function Hp(t,n,i,l){var d=_e,h=mn.transition;mn.transition=null;try{_e=4,Hi(t,n,i,l)}finally{_e=d,mn.transition=h}}function Hi(t,n,i,l){if(Jr){var d=qi(t,n,i,l);if(d===null)co(t,n,l,Yr,i),Qc(t,l);else if(zp(d,t,n,i,l))l.stopPropagation();else if(Qc(t,l),n&4&&-1<Up.indexOf(t)){for(;d!==null;){var h=mr(d);if(h!==null&&Vc(h),h=qi(t,n,i,l),h===null&&co(t,n,l,Yr,i),h===d)break;d=h}d!==null&&l.stopPropagation()}else co(t,n,l,null,i)}}var Yr=null;function qi(t,n,i,l){if(Yr=null,t=_i(l),t=Us(t),t!==null)if(n=$s(t),n===null)t=null;else if(i=n.tag,i===13){if(t=Dc(n),t!==null)return t;t=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return Yr=t,null}function Jc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rp()){case Fi:return 1;case Fc:return 4;case Vr:case Dp:return 16;case $c:return 536870912;default:return 16}default:return 16}}var vs=null,Qi=null,Xr=null;function Yc(){if(Xr)return Xr;var t,n=Qi,i=n.length,l,d="value"in vs?vs.value:vs.textContent,h=d.length;for(t=0;t<i&&n[t]===d[t];t++);var y=i-t;for(l=1;l<=y&&n[i-l]===d[h-l];l++);return Xr=d.slice(t,1<l?1-l:void 0)}function Zr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ea(){return!0}function Xc(){return!1}function St(t){function n(i,l,d,h,y){this._reactName=i,this._targetInst=d,this.type=l,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(i=t[E],this[E]=i?i(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ea:Xc,this.isPropagationStopped=Xc,this}return L(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ea)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ea)},persist:function(){},isPersistent:ea}),n}var pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ki=St(pn),sr=L({},pn,{view:0,detail:0}),qp=St(sr),Gi,Ji,nr,ta=L({},sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nr&&(nr&&t.type==="mousemove"?(Gi=t.screenX-nr.screenX,Ji=t.screenY-nr.screenY):Ji=Gi=0,nr=t),Gi)},movementY:function(t){return"movementY"in t?t.movementY:Ji}}),Zc=St(ta),Qp=L({},ta,{dataTransfer:0}),Kp=St(Qp),Gp=L({},sr,{relatedTarget:0}),Yi=St(Gp),Jp=L({},pn,{animationName:0,elapsedTime:0,pseudoElement:0}),Yp=St(Jp),Xp=L({},pn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Zp=St(Xp),ef=L({},pn,{data:0}),ed=St(ef),tf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rf(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=nf[t])?!!n[t]:!1}function Xi(){return rf}var af=L({},sr,{key:function(t){if(t.key){var n=tf[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Zr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xi,charCode:function(t){return t.type==="keypress"?Zr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),of=St(af),lf=L({},ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),td=St(lf),cf=L({},sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xi}),df=St(cf),uf=L({},pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),hf=St(uf),mf=L({},ta,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pf=St(mf),ff=[9,13,27,32],Zi=p&&"CompositionEvent"in window,rr=null;p&&"documentMode"in document&&(rr=document.documentMode);var xf=p&&"TextEvent"in window&&!rr,sd=p&&(!Zi||rr&&8<rr&&11>=rr),nd=" ",rd=!1;function ad(t,n){switch(t){case"keyup":return ff.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function id(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fn=!1;function gf(t,n){switch(t){case"compositionend":return id(n);case"keypress":return n.which!==32?null:(rd=!0,nd);case"textInput":return t=n.data,t===nd&&rd?null:t;default:return null}}function vf(t,n){if(fn)return t==="compositionend"||!Zi&&ad(t,n)?(t=Yc(),Xr=Qi=vs=null,fn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return sd&&n.locale!=="ko"?null:n.data;default:return null}}var bf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function od(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!bf[t.type]:n==="textarea"}function ld(t,n,i,l){Lc(l),n=ia(n,"onChange"),0<n.length&&(i=new Ki("onChange","change",null,i,l),t.push({event:i,listeners:n}))}var ar=null,ir=null;function yf(t){Cd(t,0)}function sa(t){var n=yn(t);if(Ve(n))return t}function jf(t,n){if(t==="change")return n}var cd=!1;if(p){var eo;if(p){var to="oninput"in document;if(!to){var dd=document.createElement("div");dd.setAttribute("oninput","return;"),to=typeof dd.oninput=="function"}eo=to}else eo=!1;cd=eo&&(!document.documentMode||9<document.documentMode)}function ud(){ar&&(ar.detachEvent("onpropertychange",hd),ir=ar=null)}function hd(t){if(t.propertyName==="value"&&sa(ir)){var n=[];ld(n,ir,t,_i(t)),Rc(yf,n)}}function wf(t,n,i){t==="focusin"?(ud(),ar=n,ir=i,ar.attachEvent("onpropertychange",hd)):t==="focusout"&&ud()}function Nf(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sa(ir)}function kf(t,n){if(t==="click")return sa(n)}function Sf(t,n){if(t==="input"||t==="change")return sa(n)}function Cf(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ut=typeof Object.is=="function"?Object.is:Cf;function or(t,n){if(Ut(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var i=Object.keys(t),l=Object.keys(n);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var d=i[l];if(!f.call(n,d)||!Ut(t[d],n[d]))return!1}return!0}function md(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pd(t,n){var i=md(t);t=0;for(var l;i;){if(i.nodeType===3){if(l=t+i.textContent.length,t<=n&&l>=n)return{node:i,offset:n-t};t=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=md(i)}}function fd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?fd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function xd(){for(var t=window,n=kt();n instanceof t.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)t=n.contentWindow;else break;n=kt(t.document)}return n}function so(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Ef(t){var n=xd(),i=t.focusedElem,l=t.selectionRange;if(n!==i&&i&&i.ownerDocument&&fd(i.ownerDocument.documentElement,i)){if(l!==null&&so(i)){if(n=l.start,t=l.end,t===void 0&&(t=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(t,i.value.length);else if(t=(n=i.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var d=i.textContent.length,h=Math.min(l.start,d);l=l.end===void 0?h:Math.min(l.end,d),!t.extend&&h>l&&(d=l,l=h,h=d),d=pd(i,h);var y=pd(i,l);d&&y&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==y.node||t.focusOffset!==y.offset)&&(n=n.createRange(),n.setStart(d.node,d.offset),t.removeAllRanges(),h>l?(t.addRange(n),t.extend(y.node,y.offset)):(n.setEnd(y.node,y.offset),t.addRange(n)))}}for(n=[],t=i;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)t=n[i],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Lf=p&&"documentMode"in document&&11>=document.documentMode,xn=null,no=null,lr=null,ro=!1;function gd(t,n,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ro||xn==null||xn!==kt(l)||(l=xn,"selectionStart"in l&&so(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),lr&&or(lr,l)||(lr=l,l=ia(no,"onSelect"),0<l.length&&(n=new Ki("onSelect","select",null,n,i),t.push({event:n,listeners:l}),n.target=xn)))}function na(t,n){var i={};return i[t.toLowerCase()]=n.toLowerCase(),i["Webkit"+t]="webkit"+n,i["Moz"+t]="moz"+n,i}var gn={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionend:na("Transition","TransitionEnd")},ao={},vd={};p&&(vd=document.createElement("div").style,"AnimationEvent"in window||(delete gn.animationend.animation,delete gn.animationiteration.animation,delete gn.animationstart.animation),"TransitionEvent"in window||delete gn.transitionend.transition);function ra(t){if(ao[t])return ao[t];if(!gn[t])return t;var n=gn[t],i;for(i in n)if(n.hasOwnProperty(i)&&i in vd)return ao[t]=n[i];return t}var bd=ra("animationend"),yd=ra("animationiteration"),jd=ra("animationstart"),wd=ra("transitionend"),Nd=new Map,kd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bs(t,n){Nd.set(t,n),u(n,[t])}for(var io=0;io<kd.length;io++){var oo=kd[io],Pf=oo.toLowerCase(),Tf=oo[0].toUpperCase()+oo.slice(1);bs(Pf,"on"+Tf)}bs(bd,"onAnimationEnd"),bs(yd,"onAnimationIteration"),bs(jd,"onAnimationStart"),bs("dblclick","onDoubleClick"),bs("focusin","onFocus"),bs("focusout","onBlur"),bs(wd,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Af=new Set("cancel close invalid load scroll toggle".split(" ").concat(cr));function Sd(t,n,i){var l=t.type||"unknown-event";t.currentTarget=i,Lp(l,n,void 0,t),t.currentTarget=null}function Cd(t,n){n=(n&4)!==0;for(var i=0;i<t.length;i++){var l=t[i],d=l.event;l=l.listeners;e:{var h=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],A=E.instance,Q=E.currentTarget;if(E=E.listener,A!==h&&d.isPropagationStopped())break e;Sd(d,E,Q),h=A}else for(y=0;y<l.length;y++){if(E=l[y],A=E.instance,Q=E.currentTarget,E=E.listener,A!==h&&d.isPropagationStopped())break e;Sd(d,E,Q),h=A}}}if(zr)throw t=Bi,zr=!1,Bi=null,t}function Oe(t,n){var i=n[xo];i===void 0&&(i=n[xo]=new Set);var l=t+"__bubble";i.has(l)||(Ed(n,t,2,!1),i.add(l))}function lo(t,n,i){var l=0;n&&(l|=4),Ed(i,t,l,n)}var aa="_reactListening"+Math.random().toString(36).slice(2);function dr(t){if(!t[aa]){t[aa]=!0,o.forEach(function(i){i!=="selectionchange"&&(Af.has(i)||lo(i,!1,t),lo(i,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[aa]||(n[aa]=!0,lo("selectionchange",!1,n))}}function Ed(t,n,i,l){switch(Jc(n)){case 1:var d=Wp;break;case 4:d=Hp;break;default:d=Hi}i=d.bind(null,n,i,t),d=void 0,!Oi||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(n,i,{capture:!0,passive:d}):t.addEventListener(n,i,!0):d!==void 0?t.addEventListener(n,i,{passive:d}):t.addEventListener(n,i,!1)}function co(t,n,i,l,d){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===d||E.nodeType===8&&E.parentNode===d)break;if(y===4)for(y=l.return;y!==null;){var A=y.tag;if((A===3||A===4)&&(A=y.stateNode.containerInfo,A===d||A.nodeType===8&&A.parentNode===d))return;y=y.return}for(;E!==null;){if(y=Us(E),y===null)return;if(A=y.tag,A===5||A===6){l=h=y;continue e}E=E.parentNode}}l=l.return}Rc(function(){var Q=h,ae=_i(i),ie=[];e:{var re=Nd.get(t);if(re!==void 0){var fe=Ki,ge=t;switch(t){case"keypress":if(Zr(i)===0)break e;case"keydown":case"keyup":fe=of;break;case"focusin":ge="focus",fe=Yi;break;case"focusout":ge="blur",fe=Yi;break;case"beforeblur":case"afterblur":fe=Yi;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Zc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Kp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=df;break;case bd:case yd:case jd:fe=Yp;break;case wd:fe=hf;break;case"scroll":fe=qp;break;case"wheel":fe=pf;break;case"copy":case"cut":case"paste":fe=Zp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=td}var ve=(n&4)!==0,Qe=!ve&&t==="scroll",U=ve?re!==null?re+"Capture":null:re;ve=[];for(var O=Q,z;O!==null;){z=O;var ce=z.stateNode;if(z.tag===5&&ce!==null&&(z=ce,U!==null&&(ce=qn(O,U),ce!=null&&ve.push(ur(O,ce,z)))),Qe)break;O=O.return}0<ve.length&&(re=new fe(re,ge,null,i,ae),ie.push({event:re,listeners:ve}))}}if((n&7)===0){e:{if(re=t==="mouseover"||t==="pointerover",fe=t==="mouseout"||t==="pointerout",re&&i!==Di&&(ge=i.relatedTarget||i.fromElement)&&(Us(ge)||ge[as]))break e;if((fe||re)&&(re=ae.window===ae?ae:(re=ae.ownerDocument)?re.defaultView||re.parentWindow:window,fe?(ge=i.relatedTarget||i.toElement,fe=Q,ge=ge?Us(ge):null,ge!==null&&(Qe=$s(ge),ge!==Qe||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(fe=null,ge=Q),fe!==ge)){if(ve=Zc,ce="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ve=td,ce="onPointerLeave",U="onPointerEnter",O="pointer"),Qe=fe==null?re:yn(fe),z=ge==null?re:yn(ge),re=new ve(ce,O+"leave",fe,i,ae),re.target=Qe,re.relatedTarget=z,ce=null,Us(ae)===Q&&(ve=new ve(U,O+"enter",ge,i,ae),ve.target=z,ve.relatedTarget=Qe,ce=ve),Qe=ce,fe&&ge)t:{for(ve=fe,U=ge,O=0,z=ve;z;z=vn(z))O++;for(z=0,ce=U;ce;ce=vn(ce))z++;for(;0<O-z;)ve=vn(ve),O--;for(;0<z-O;)U=vn(U),z--;for(;O--;){if(ve===U||U!==null&&ve===U.alternate)break t;ve=vn(ve),U=vn(U)}ve=null}else ve=null;fe!==null&&Ld(ie,re,fe,ve,!1),ge!==null&&Qe!==null&&Ld(ie,Qe,ge,ve,!0)}}e:{if(re=Q?yn(Q):window,fe=re.nodeName&&re.nodeName.toLowerCase(),fe==="select"||fe==="input"&&re.type==="file")var be=jf;else if(od(re))if(cd)be=Sf;else{be=Nf;var je=wf}else(fe=re.nodeName)&&fe.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(be=kf);if(be&&(be=be(t,Q))){ld(ie,be,i,ae);break e}je&&je(t,re,Q),t==="focusout"&&(je=re._wrapperState)&&je.controlled&&re.type==="number"&&$e(re,"number",re.value)}switch(je=Q?yn(Q):window,t){case"focusin":(od(je)||je.contentEditable==="true")&&(xn=je,no=Q,lr=null);break;case"focusout":lr=no=xn=null;break;case"mousedown":ro=!0;break;case"contextmenu":case"mouseup":case"dragend":ro=!1,gd(ie,i,ae);break;case"selectionchange":if(Lf)break;case"keydown":case"keyup":gd(ie,i,ae)}var we;if(Zi)e:{switch(t){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else fn?ad(t,i)&&(Ne="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Ne="onCompositionStart");Ne&&(sd&&i.locale!=="ko"&&(fn||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&fn&&(we=Yc()):(vs=ae,Qi="value"in vs?vs.value:vs.textContent,fn=!0)),je=ia(Q,Ne),0<je.length&&(Ne=new ed(Ne,t,null,i,ae),ie.push({event:Ne,listeners:je}),we?Ne.data=we:(we=id(i),we!==null&&(Ne.data=we)))),(we=xf?gf(t,i):vf(t,i))&&(Q=ia(Q,"onBeforeInput"),0<Q.length&&(ae=new ed("onBeforeInput","beforeinput",null,i,ae),ie.push({event:ae,listeners:Q}),ae.data=we))}Cd(ie,n)})}function ur(t,n,i){return{instance:t,listener:n,currentTarget:i}}function ia(t,n){for(var i=n+"Capture",l=[];t!==null;){var d=t,h=d.stateNode;d.tag===5&&h!==null&&(d=h,h=qn(t,i),h!=null&&l.unshift(ur(t,h,d)),h=qn(t,n),h!=null&&l.push(ur(t,h,d))),t=t.return}return l}function vn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ld(t,n,i,l,d){for(var h=n._reactName,y=[];i!==null&&i!==l;){var E=i,A=E.alternate,Q=E.stateNode;if(A!==null&&A===l)break;E.tag===5&&Q!==null&&(E=Q,d?(A=qn(i,h),A!=null&&y.unshift(ur(i,A,E))):d||(A=qn(i,h),A!=null&&y.push(ur(i,A,E)))),i=i.return}y.length!==0&&t.push({event:n,listeners:y})}var Rf=/\r\n?/g,Df=/\u0000|\uFFFD/g;function Pd(t){return(typeof t=="string"?t:""+t).replace(Rf,`
`).replace(Df,"")}function oa(t,n,i){if(n=Pd(n),Pd(t)!==n&&i)throw Error(a(425))}function la(){}var uo=null,ho=null;function mo(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var po=typeof setTimeout=="function"?setTimeout:void 0,_f=typeof clearTimeout=="function"?clearTimeout:void 0,Td=typeof Promise=="function"?Promise:void 0,Mf=typeof queueMicrotask=="function"?queueMicrotask:typeof Td<"u"?function(t){return Td.resolve(null).then(t).catch(If)}:po;function If(t){setTimeout(function(){throw t})}function fo(t,n){var i=n,l=0;do{var d=i.nextSibling;if(t.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(l===0){t.removeChild(d),tr(n);return}l--}else i!=="$"&&i!=="$?"&&i!=="$!"||l++;i=d}while(i);tr(n)}function ys(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function Ad(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(n===0)return t;n--}else i==="/$"&&n++}t=t.previousSibling}return null}var bn=Math.random().toString(36).slice(2),Yt="__reactFiber$"+bn,hr="__reactProps$"+bn,as="__reactContainer$"+bn,xo="__reactEvents$"+bn,Of="__reactListeners$"+bn,Bf="__reactHandles$"+bn;function Us(t){var n=t[Yt];if(n)return n;for(var i=t.parentNode;i;){if(n=i[as]||i[Yt]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(t=Ad(t);t!==null;){if(i=t[Yt])return i;t=Ad(t)}return n}t=i,i=t.parentNode}return null}function mr(t){return t=t[Yt]||t[as],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(a(33))}function ca(t){return t[hr]||null}var go=[],jn=-1;function js(t){return{current:t}}function Be(t){0>jn||(t.current=go[jn],go[jn]=null,jn--)}function Ie(t,n){jn++,go[jn]=t.current,t.current=n}var ws={},ot=js(ws),pt=js(!1),zs=ws;function wn(t,n){var i=t.type.contextTypes;if(!i)return ws;var l=t.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var d={},h;for(h in i)d[h]=n[h];return l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=d),d}function ft(t){return t=t.childContextTypes,t!=null}function da(){Be(pt),Be(ot)}function Rd(t,n,i){if(ot.current!==ws)throw Error(a(168));Ie(ot,n),Ie(pt,i)}function Dd(t,n,i){var l=t.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return i;l=l.getChildContext();for(var d in l)if(!(d in n))throw Error(a(108,ke(t)||"Unknown",d));return L({},i,l)}function ua(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ws,zs=ot.current,Ie(ot,t),Ie(pt,pt.current),!0}function _d(t,n,i){var l=t.stateNode;if(!l)throw Error(a(169));i?(t=Dd(t,n,zs),l.__reactInternalMemoizedMergedChildContext=t,Be(pt),Be(ot),Ie(ot,t)):Be(pt),Ie(pt,i)}var is=null,ha=!1,vo=!1;function Md(t){is===null?is=[t]:is.push(t)}function Ff(t){ha=!0,Md(t)}function Ns(){if(!vo&&is!==null){vo=!0;var t=0,n=_e;try{var i=is;for(_e=1;t<i.length;t++){var l=i[t];do l=l(!0);while(l!==null)}is=null,ha=!1}catch(d){throw is!==null&&(is=is.slice(t+1)),Oc(Fi,Ns),d}finally{_e=n,vo=!1}}return null}var Nn=[],kn=0,ma=null,pa=0,At=[],Rt=0,Vs=null,os=1,ls="";function Ws(t,n){Nn[kn++]=pa,Nn[kn++]=ma,ma=t,pa=n}function Id(t,n,i){At[Rt++]=os,At[Rt++]=ls,At[Rt++]=Vs,Vs=t;var l=os;t=ls;var d=32-$t(l)-1;l&=~(1<<d),i+=1;var h=32-$t(n)+d;if(30<h){var y=d-d%5;h=(l&(1<<y)-1).toString(32),l>>=y,d-=y,os=1<<32-$t(n)+d|i<<d|l,ls=h+t}else os=1<<h|i<<d|l,ls=t}function bo(t){t.return!==null&&(Ws(t,1),Id(t,1,0))}function yo(t){for(;t===ma;)ma=Nn[--kn],Nn[kn]=null,pa=Nn[--kn],Nn[kn]=null;for(;t===Vs;)Vs=At[--Rt],At[Rt]=null,ls=At[--Rt],At[Rt]=null,os=At[--Rt],At[Rt]=null}var Ct=null,Et=null,Fe=!1,zt=null;function Od(t,n){var i=It(5,null,null,0);i.elementType="DELETED",i.stateNode=n,i.return=t,n=t.deletions,n===null?(t.deletions=[i],t.flags|=16):n.push(i)}function Bd(t,n){switch(t.tag){case 5:var i=t.type;return n=n.nodeType!==1||i.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,Ct=t,Et=ys(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,Ct=t,Et=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(i=Vs!==null?{id:os,overflow:ls}:null,t.memoizedState={dehydrated:n,treeContext:i,retryLane:1073741824},i=It(18,null,null,0),i.stateNode=n,i.return=t,t.child=i,Ct=t,Et=null,!0):!1;default:return!1}}function jo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wo(t){if(Fe){var n=Et;if(n){var i=n;if(!Bd(t,n)){if(jo(t))throw Error(a(418));n=ys(i.nextSibling);var l=Ct;n&&Bd(t,n)?Od(l,i):(t.flags=t.flags&-4097|2,Fe=!1,Ct=t)}}else{if(jo(t))throw Error(a(418));t.flags=t.flags&-4097|2,Fe=!1,Ct=t}}}function Fd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ct=t}function fa(t){if(t!==Ct)return!1;if(!Fe)return Fd(t),Fe=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!mo(t.type,t.memoizedProps)),n&&(n=Et)){if(jo(t))throw $d(),Error(a(418));for(;n;)Od(t,n),n=ys(n.nextSibling)}if(Fd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"){if(n===0){Et=ys(t.nextSibling);break e}n--}else i!=="$"&&i!=="$!"&&i!=="$?"||n++}t=t.nextSibling}Et=null}}else Et=Ct?ys(t.stateNode.nextSibling):null;return!0}function $d(){for(var t=Et;t;)t=ys(t.nextSibling)}function Sn(){Et=Ct=null,Fe=!1}function No(t){zt===null?zt=[t]:zt.push(t)}var $f=V.ReactCurrentBatchConfig;function pr(t,n,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(a(309));var l=i.stateNode}if(!l)throw Error(a(147,t));var d=l,h=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===h?n.ref:(n=function(y){var E=d.refs;y===null?delete E[h]:E[h]=y},n._stringRef=h,n)}if(typeof t!="string")throw Error(a(284));if(!i._owner)throw Error(a(290,t))}return t}function xa(t,n){throw t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function Ud(t){var n=t._init;return n(t._payload)}function zd(t){function n(U,O){if(t){var z=U.deletions;z===null?(U.deletions=[O],U.flags|=16):z.push(O)}}function i(U,O){if(!t)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function l(U,O){for(U=new Map;O!==null;)O.key!==null?U.set(O.key,O):U.set(O.index,O),O=O.sibling;return U}function d(U,O){return U=As(U,O),U.index=0,U.sibling=null,U}function h(U,O,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<O?(U.flags|=2,O):z):(U.flags|=2,O)):(U.flags|=1048576,O)}function y(U){return t&&U.alternate===null&&(U.flags|=2),U}function E(U,O,z,ce){return O===null||O.tag!==6?(O=pl(z,U.mode,ce),O.return=U,O):(O=d(O,z),O.return=U,O)}function A(U,O,z,ce){var be=z.type;return be===q?ae(U,O,z.props.children,ce,z.key):O!==null&&(O.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===he&&Ud(be)===O.type)?(ce=d(O,z.props),ce.ref=pr(U,O,z),ce.return=U,ce):(ce=$a(z.type,z.key,z.props,null,U.mode,ce),ce.ref=pr(U,O,z),ce.return=U,ce)}function Q(U,O,z,ce){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=fl(z,U.mode,ce),O.return=U,O):(O=d(O,z.children||[]),O.return=U,O)}function ae(U,O,z,ce,be){return O===null||O.tag!==7?(O=Xs(z,U.mode,ce,be),O.return=U,O):(O=d(O,z),O.return=U,O)}function ie(U,O,z){if(typeof O=="string"&&O!==""||typeof O=="number")return O=pl(""+O,U.mode,z),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case ee:return z=$a(O.type,O.key,O.props,null,U.mode,z),z.ref=pr(U,null,O),z.return=U,z;case F:return O=fl(O,U.mode,z),O.return=U,O;case he:var ce=O._init;return ie(U,ce(O._payload),z)}if(Gt(O)||de(O))return O=Xs(O,U.mode,z,null),O.return=U,O;xa(U,O)}return null}function re(U,O,z,ce){var be=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return be!==null?null:E(U,O,""+z,ce);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case ee:return z.key===be?A(U,O,z,ce):null;case F:return z.key===be?Q(U,O,z,ce):null;case he:return be=z._init,re(U,O,be(z._payload),ce)}if(Gt(z)||de(z))return be!==null?null:ae(U,O,z,ce,null);xa(U,z)}return null}function fe(U,O,z,ce,be){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return U=U.get(z)||null,E(O,U,""+ce,be);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case ee:return U=U.get(ce.key===null?z:ce.key)||null,A(O,U,ce,be);case F:return U=U.get(ce.key===null?z:ce.key)||null,Q(O,U,ce,be);case he:var je=ce._init;return fe(U,O,z,je(ce._payload),be)}if(Gt(ce)||de(ce))return U=U.get(z)||null,ae(O,U,ce,be,null);xa(O,ce)}return null}function ge(U,O,z,ce){for(var be=null,je=null,we=O,Ne=O=0,nt=null;we!==null&&Ne<z.length;Ne++){we.index>Ne?(nt=we,we=null):nt=we.sibling;var Re=re(U,we,z[Ne],ce);if(Re===null){we===null&&(we=nt);break}t&&we&&Re.alternate===null&&n(U,we),O=h(Re,O,Ne),je===null?be=Re:je.sibling=Re,je=Re,we=nt}if(Ne===z.length)return i(U,we),Fe&&Ws(U,Ne),be;if(we===null){for(;Ne<z.length;Ne++)we=ie(U,z[Ne],ce),we!==null&&(O=h(we,O,Ne),je===null?be=we:je.sibling=we,je=we);return Fe&&Ws(U,Ne),be}for(we=l(U,we);Ne<z.length;Ne++)nt=fe(we,U,Ne,z[Ne],ce),nt!==null&&(t&&nt.alternate!==null&&we.delete(nt.key===null?Ne:nt.key),O=h(nt,O,Ne),je===null?be=nt:je.sibling=nt,je=nt);return t&&we.forEach(function(Rs){return n(U,Rs)}),Fe&&Ws(U,Ne),be}function ve(U,O,z,ce){var be=de(z);if(typeof be!="function")throw Error(a(150));if(z=be.call(z),z==null)throw Error(a(151));for(var je=be=null,we=O,Ne=O=0,nt=null,Re=z.next();we!==null&&!Re.done;Ne++,Re=z.next()){we.index>Ne?(nt=we,we=null):nt=we.sibling;var Rs=re(U,we,Re.value,ce);if(Rs===null){we===null&&(we=nt);break}t&&we&&Rs.alternate===null&&n(U,we),O=h(Rs,O,Ne),je===null?be=Rs:je.sibling=Rs,je=Rs,we=nt}if(Re.done)return i(U,we),Fe&&Ws(U,Ne),be;if(we===null){for(;!Re.done;Ne++,Re=z.next())Re=ie(U,Re.value,ce),Re!==null&&(O=h(Re,O,Ne),je===null?be=Re:je.sibling=Re,je=Re);return Fe&&Ws(U,Ne),be}for(we=l(U,we);!Re.done;Ne++,Re=z.next())Re=fe(we,U,Ne,Re.value,ce),Re!==null&&(t&&Re.alternate!==null&&we.delete(Re.key===null?Ne:Re.key),O=h(Re,O,Ne),je===null?be=Re:je.sibling=Re,je=Re);return t&&we.forEach(function(bx){return n(U,bx)}),Fe&&Ws(U,Ne),be}function Qe(U,O,z,ce){if(typeof z=="object"&&z!==null&&z.type===q&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case ee:e:{for(var be=z.key,je=O;je!==null;){if(je.key===be){if(be=z.type,be===q){if(je.tag===7){i(U,je.sibling),O=d(je,z.props.children),O.return=U,U=O;break e}}else if(je.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===he&&Ud(be)===je.type){i(U,je.sibling),O=d(je,z.props),O.ref=pr(U,je,z),O.return=U,U=O;break e}i(U,je);break}else n(U,je);je=je.sibling}z.type===q?(O=Xs(z.props.children,U.mode,ce,z.key),O.return=U,U=O):(ce=$a(z.type,z.key,z.props,null,U.mode,ce),ce.ref=pr(U,O,z),ce.return=U,U=ce)}return y(U);case F:e:{for(je=z.key;O!==null;){if(O.key===je)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){i(U,O.sibling),O=d(O,z.children||[]),O.return=U,U=O;break e}else{i(U,O);break}else n(U,O);O=O.sibling}O=fl(z,U.mode,ce),O.return=U,U=O}return y(U);case he:return je=z._init,Qe(U,O,je(z._payload),ce)}if(Gt(z))return ge(U,O,z,ce);if(de(z))return ve(U,O,z,ce);xa(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,O!==null&&O.tag===6?(i(U,O.sibling),O=d(O,z),O.return=U,U=O):(i(U,O),O=pl(z,U.mode,ce),O.return=U,U=O),y(U)):i(U,O)}return Qe}var Cn=zd(!0),Vd=zd(!1),ga=js(null),va=null,En=null,ko=null;function So(){ko=En=va=null}function Co(t){var n=ga.current;Be(ga),t._currentValue=n}function Eo(t,n,i){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===i)break;t=t.return}}function Ln(t,n){va=t,ko=En=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(xt=!0),t.firstContext=null)}function Dt(t){var n=t._currentValue;if(ko!==t)if(t={context:t,memoizedValue:n,next:null},En===null){if(va===null)throw Error(a(308));En=t,va.dependencies={lanes:0,firstContext:t}}else En=En.next=t;return n}var Hs=null;function Lo(t){Hs===null?Hs=[t]:Hs.push(t)}function Wd(t,n,i,l){var d=n.interleaved;return d===null?(i.next=i,Lo(n)):(i.next=d.next,d.next=i),n.interleaved=i,cs(t,l)}function cs(t,n){t.lanes|=n;var i=t.alternate;for(i!==null&&(i.lanes|=n),i=t,t=t.return;t!==null;)t.childLanes|=n,i=t.alternate,i!==null&&(i.childLanes|=n),i=t,t=t.return;return i.tag===3?i.stateNode:null}var ks=!1;function Po(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hd(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ds(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function Ss(t,n,i){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ae&2)!==0){var d=l.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),l.pending=n,cs(t,i)}return d=l.interleaved,d===null?(n.next=n,Lo(l)):(n.next=d.next,d.next=n),l.interleaved=n,cs(t,i)}function ba(t,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194240)!==0)){var l=n.lanes;l&=t.pendingLanes,i|=l,n.lanes=i,zi(t,i)}}function qd(t,n){var i=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var d=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var y={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};h===null?d=h=y:h=h.next=y,i=i.next}while(i!==null);h===null?d=h=n:h=h.next=n}else d=h=n;i={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:h,shared:l.shared,effects:l.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=n:t.next=n,i.lastBaseUpdate=n}function ya(t,n,i,l){var d=t.updateQueue;ks=!1;var h=d.firstBaseUpdate,y=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var A=E,Q=A.next;A.next=null,y===null?h=Q:y.next=Q,y=A;var ae=t.alternate;ae!==null&&(ae=ae.updateQueue,E=ae.lastBaseUpdate,E!==y&&(E===null?ae.firstBaseUpdate=Q:E.next=Q,ae.lastBaseUpdate=A))}if(h!==null){var ie=d.baseState;y=0,ae=Q=A=null,E=h;do{var re=E.lane,fe=E.eventTime;if((l&re)===re){ae!==null&&(ae=ae.next={eventTime:fe,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var ge=t,ve=E;switch(re=n,fe=i,ve.tag){case 1:if(ge=ve.payload,typeof ge=="function"){ie=ge.call(fe,ie,re);break e}ie=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ve.payload,re=typeof ge=="function"?ge.call(fe,ie,re):ge,re==null)break e;ie=L({},ie,re);break e;case 2:ks=!0}}E.callback!==null&&E.lane!==0&&(t.flags|=64,re=d.effects,re===null?d.effects=[E]:re.push(E))}else fe={eventTime:fe,lane:re,tag:E.tag,payload:E.payload,callback:E.callback,next:null},ae===null?(Q=ae=fe,A=ie):ae=ae.next=fe,y|=re;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;re=E,E=re.next,re.next=null,d.lastBaseUpdate=re,d.shared.pending=null}}while(!0);if(ae===null&&(A=ie),d.baseState=A,d.firstBaseUpdate=Q,d.lastBaseUpdate=ae,n=d.shared.interleaved,n!==null){d=n;do y|=d.lane,d=d.next;while(d!==n)}else h===null&&(d.shared.lanes=0);Ks|=y,t.lanes=y,t.memoizedState=ie}}function Qd(t,n,i){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var l=t[n],d=l.callback;if(d!==null){if(l.callback=null,l=i,typeof d!="function")throw Error(a(191,d));d.call(l)}}}var fr={},Xt=js(fr),xr=js(fr),gr=js(fr);function qs(t){if(t===fr)throw Error(a(174));return t}function To(t,n){switch(Ie(gr,n),Ie(xr,t),Ie(Xt,fr),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Ti(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=Ti(n,t)}Be(Xt),Ie(Xt,n)}function Pn(){Be(Xt),Be(xr),Be(gr)}function Kd(t){qs(gr.current);var n=qs(Xt.current),i=Ti(n,t.type);n!==i&&(Ie(xr,t),Ie(Xt,i))}function Ao(t){xr.current===t&&(Be(Xt),Be(xr))}var Ue=js(0);function ja(t){for(var n=t;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ro=[];function Do(){for(var t=0;t<Ro.length;t++)Ro[t]._workInProgressVersionPrimary=null;Ro.length=0}var wa=V.ReactCurrentDispatcher,_o=V.ReactCurrentBatchConfig,Qs=0,ze=null,Ze=null,tt=null,Na=!1,vr=!1,br=0,Uf=0;function lt(){throw Error(a(321))}function Mo(t,n){if(n===null)return!1;for(var i=0;i<n.length&&i<t.length;i++)if(!Ut(t[i],n[i]))return!1;return!0}function Io(t,n,i,l,d,h){if(Qs=h,ze=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,wa.current=t===null||t.memoizedState===null?Hf:qf,t=i(l,d),vr){h=0;do{if(vr=!1,br=0,25<=h)throw Error(a(301));h+=1,tt=Ze=null,n.updateQueue=null,wa.current=Qf,t=i(l,d)}while(vr)}if(wa.current=Ca,n=Ze!==null&&Ze.next!==null,Qs=0,tt=Ze=ze=null,Na=!1,n)throw Error(a(300));return t}function Oo(){var t=br!==0;return br=0,t}function Zt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?ze.memoizedState=tt=t:tt=tt.next=t,tt}function _t(){if(Ze===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var n=tt===null?ze.memoizedState:tt.next;if(n!==null)tt=n,Ze=t;else{if(t===null)throw Error(a(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},tt===null?ze.memoizedState=tt=t:tt=tt.next=t}return tt}function yr(t,n){return typeof n=="function"?n(t):n}function Bo(t){var n=_t(),i=n.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=t;var l=Ze,d=l.baseQueue,h=i.pending;if(h!==null){if(d!==null){var y=d.next;d.next=h.next,h.next=y}l.baseQueue=d=h,i.pending=null}if(d!==null){h=d.next,l=l.baseState;var E=y=null,A=null,Q=h;do{var ae=Q.lane;if((Qs&ae)===ae)A!==null&&(A=A.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),l=Q.hasEagerState?Q.eagerState:t(l,Q.action);else{var ie={lane:ae,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};A===null?(E=A=ie,y=l):A=A.next=ie,ze.lanes|=ae,Ks|=ae}Q=Q.next}while(Q!==null&&Q!==h);A===null?y=l:A.next=E,Ut(l,n.memoizedState)||(xt=!0),n.memoizedState=l,n.baseState=y,n.baseQueue=A,i.lastRenderedState=l}if(t=i.interleaved,t!==null){d=t;do h=d.lane,ze.lanes|=h,Ks|=h,d=d.next;while(d!==t)}else d===null&&(i.lanes=0);return[n.memoizedState,i.dispatch]}function Fo(t){var n=_t(),i=n.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=t;var l=i.dispatch,d=i.pending,h=n.memoizedState;if(d!==null){i.pending=null;var y=d=d.next;do h=t(h,y.action),y=y.next;while(y!==d);Ut(h,n.memoizedState)||(xt=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),i.lastRenderedState=h}return[h,l]}function Gd(){}function Jd(t,n){var i=ze,l=_t(),d=n(),h=!Ut(l.memoizedState,d);if(h&&(l.memoizedState=d,xt=!0),l=l.queue,$o(Zd.bind(null,i,l,t),[t]),l.getSnapshot!==n||h||tt!==null&&tt.memoizedState.tag&1){if(i.flags|=2048,jr(9,Xd.bind(null,i,l,d,n),void 0,null),st===null)throw Error(a(349));(Qs&30)!==0||Yd(i,n,d)}return d}function Yd(t,n,i){t.flags|=16384,t={getSnapshot:n,value:i},n=ze.updateQueue,n===null?(n={lastEffect:null,stores:null},ze.updateQueue=n,n.stores=[t]):(i=n.stores,i===null?n.stores=[t]:i.push(t))}function Xd(t,n,i,l){n.value=i,n.getSnapshot=l,eu(n)&&tu(t)}function Zd(t,n,i){return i(function(){eu(n)&&tu(t)})}function eu(t){var n=t.getSnapshot;t=t.value;try{var i=n();return!Ut(t,i)}catch{return!0}}function tu(t){var n=cs(t,1);n!==null&&qt(n,t,1,-1)}function su(t){var n=Zt();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:t},n.queue=t,t=t.dispatch=Wf.bind(null,ze,t),[n.memoizedState,t]}function jr(t,n,i,l){return t={tag:t,create:n,destroy:i,deps:l,next:null},n=ze.updateQueue,n===null?(n={lastEffect:null,stores:null},ze.updateQueue=n,n.lastEffect=t.next=t):(i=n.lastEffect,i===null?n.lastEffect=t.next=t:(l=i.next,i.next=t,t.next=l,n.lastEffect=t)),t}function nu(){return _t().memoizedState}function ka(t,n,i,l){var d=Zt();ze.flags|=t,d.memoizedState=jr(1|n,i,void 0,l===void 0?null:l)}function Sa(t,n,i,l){var d=_t();l=l===void 0?null:l;var h=void 0;if(Ze!==null){var y=Ze.memoizedState;if(h=y.destroy,l!==null&&Mo(l,y.deps)){d.memoizedState=jr(n,i,h,l);return}}ze.flags|=t,d.memoizedState=jr(1|n,i,h,l)}function ru(t,n){return ka(8390656,8,t,n)}function $o(t,n){return Sa(2048,8,t,n)}function au(t,n){return Sa(4,2,t,n)}function iu(t,n){return Sa(4,4,t,n)}function ou(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function lu(t,n,i){return i=i!=null?i.concat([t]):null,Sa(4,4,ou.bind(null,n,t),i)}function Uo(){}function cu(t,n){var i=_t();n=n===void 0?null:n;var l=i.memoizedState;return l!==null&&n!==null&&Mo(n,l[1])?l[0]:(i.memoizedState=[t,n],t)}function du(t,n){var i=_t();n=n===void 0?null:n;var l=i.memoizedState;return l!==null&&n!==null&&Mo(n,l[1])?l[0]:(t=t(),i.memoizedState=[t,n],t)}function uu(t,n,i){return(Qs&21)===0?(t.baseState&&(t.baseState=!1,xt=!0),t.memoizedState=i):(Ut(i,n)||(i=Uc(),ze.lanes|=i,Ks|=i,t.baseState=!0),n)}function zf(t,n){var i=_e;_e=i!==0&&4>i?i:4,t(!0);var l=_o.transition;_o.transition={};try{t(!1),n()}finally{_e=i,_o.transition=l}}function hu(){return _t().memoizedState}function Vf(t,n,i){var l=Ps(t);if(i={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null},mu(t))pu(n,i);else if(i=Wd(t,n,i,l),i!==null){var d=mt();qt(i,t,l,d),fu(i,n,l)}}function Wf(t,n,i){var l=Ps(t),d={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null};if(mu(t))pu(n,d);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var y=n.lastRenderedState,E=h(y,i);if(d.hasEagerState=!0,d.eagerState=E,Ut(E,y)){var A=n.interleaved;A===null?(d.next=d,Lo(n)):(d.next=A.next,A.next=d),n.interleaved=d;return}}catch{}finally{}i=Wd(t,n,d,l),i!==null&&(d=mt(),qt(i,t,l,d),fu(i,n,l))}}function mu(t){var n=t.alternate;return t===ze||n!==null&&n===ze}function pu(t,n){vr=Na=!0;var i=t.pending;i===null?n.next=n:(n.next=i.next,i.next=n),t.pending=n}function fu(t,n,i){if((i&4194240)!==0){var l=n.lanes;l&=t.pendingLanes,i|=l,n.lanes=i,zi(t,i)}}var Ca={readContext:Dt,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},Hf={readContext:Dt,useCallback:function(t,n){return Zt().memoizedState=[t,n===void 0?null:n],t},useContext:Dt,useEffect:ru,useImperativeHandle:function(t,n,i){return i=i!=null?i.concat([t]):null,ka(4194308,4,ou.bind(null,n,t),i)},useLayoutEffect:function(t,n){return ka(4194308,4,t,n)},useInsertionEffect:function(t,n){return ka(4,2,t,n)},useMemo:function(t,n){var i=Zt();return n=n===void 0?null:n,t=t(),i.memoizedState=[t,n],t},useReducer:function(t,n,i){var l=Zt();return n=i!==void 0?i(n):n,l.memoizedState=l.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},l.queue=t,t=t.dispatch=Vf.bind(null,ze,t),[l.memoizedState,t]},useRef:function(t){var n=Zt();return t={current:t},n.memoizedState=t},useState:su,useDebugValue:Uo,useDeferredValue:function(t){return Zt().memoizedState=t},useTransition:function(){var t=su(!1),n=t[0];return t=zf.bind(null,t[1]),Zt().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,i){var l=ze,d=Zt();if(Fe){if(i===void 0)throw Error(a(407));i=i()}else{if(i=n(),st===null)throw Error(a(349));(Qs&30)!==0||Yd(l,n,i)}d.memoizedState=i;var h={value:i,getSnapshot:n};return d.queue=h,ru(Zd.bind(null,l,h,t),[t]),l.flags|=2048,jr(9,Xd.bind(null,l,h,i,n),void 0,null),i},useId:function(){var t=Zt(),n=st.identifierPrefix;if(Fe){var i=ls,l=os;i=(l&~(1<<32-$t(l)-1)).toString(32)+i,n=":"+n+"R"+i,i=br++,0<i&&(n+="H"+i.toString(32)),n+=":"}else i=Uf++,n=":"+n+"r"+i.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},qf={readContext:Dt,useCallback:cu,useContext:Dt,useEffect:$o,useImperativeHandle:lu,useInsertionEffect:au,useLayoutEffect:iu,useMemo:du,useReducer:Bo,useRef:nu,useState:function(){return Bo(yr)},useDebugValue:Uo,useDeferredValue:function(t){var n=_t();return uu(n,Ze.memoizedState,t)},useTransition:function(){var t=Bo(yr)[0],n=_t().memoizedState;return[t,n]},useMutableSource:Gd,useSyncExternalStore:Jd,useId:hu,unstable_isNewReconciler:!1},Qf={readContext:Dt,useCallback:cu,useContext:Dt,useEffect:$o,useImperativeHandle:lu,useInsertionEffect:au,useLayoutEffect:iu,useMemo:du,useReducer:Fo,useRef:nu,useState:function(){return Fo(yr)},useDebugValue:Uo,useDeferredValue:function(t){var n=_t();return Ze===null?n.memoizedState=t:uu(n,Ze.memoizedState,t)},useTransition:function(){var t=Fo(yr)[0],n=_t().memoizedState;return[t,n]},useMutableSource:Gd,useSyncExternalStore:Jd,useId:hu,unstable_isNewReconciler:!1};function Vt(t,n){if(t&&t.defaultProps){n=L({},n),t=t.defaultProps;for(var i in t)n[i]===void 0&&(n[i]=t[i]);return n}return n}function zo(t,n,i,l){n=t.memoizedState,i=i(l,n),i=i==null?n:L({},n,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Ea={isMounted:function(t){return(t=t._reactInternals)?$s(t)===t:!1},enqueueSetState:function(t,n,i){t=t._reactInternals;var l=mt(),d=Ps(t),h=ds(l,d);h.payload=n,i!=null&&(h.callback=i),n=Ss(t,h,d),n!==null&&(qt(n,t,d,l),ba(n,t,d))},enqueueReplaceState:function(t,n,i){t=t._reactInternals;var l=mt(),d=Ps(t),h=ds(l,d);h.tag=1,h.payload=n,i!=null&&(h.callback=i),n=Ss(t,h,d),n!==null&&(qt(n,t,d,l),ba(n,t,d))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var i=mt(),l=Ps(t),d=ds(i,l);d.tag=2,n!=null&&(d.callback=n),n=Ss(t,d,l),n!==null&&(qt(n,t,l,i),ba(n,t,l))}};function xu(t,n,i,l,d,h,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,y):n.prototype&&n.prototype.isPureReactComponent?!or(i,l)||!or(d,h):!0}function gu(t,n,i){var l=!1,d=ws,h=n.contextType;return typeof h=="object"&&h!==null?h=Dt(h):(d=ft(n)?zs:ot.current,l=n.contextTypes,h=(l=l!=null)?wn(t,d):ws),n=new n(i,h),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ea,t.stateNode=n,n._reactInternals=t,l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=h),n}function vu(t,n,i,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,l),n.state!==t&&Ea.enqueueReplaceState(n,n.state,null)}function Vo(t,n,i,l){var d=t.stateNode;d.props=i,d.state=t.memoizedState,d.refs={},Po(t);var h=n.contextType;typeof h=="object"&&h!==null?d.context=Dt(h):(h=ft(n)?zs:ot.current,d.context=wn(t,h)),d.state=t.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(zo(t,n,h,i),d.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(n=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),n!==d.state&&Ea.enqueueReplaceState(d,d.state,null),ya(t,i,d,l),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function Tn(t,n){try{var i="",l=n;do i+=pe(l),l=l.return;while(l);var d=i}catch(h){d=`
Error generating stack: `+h.message+`
`+h.stack}return{value:t,source:n,stack:d,digest:null}}function Wo(t,n,i){return{value:t,source:null,stack:i??null,digest:n??null}}function Ho(t,n){try{console.error(n.value)}catch(i){setTimeout(function(){throw i})}}var Kf=typeof WeakMap=="function"?WeakMap:Map;function bu(t,n,i){i=ds(-1,i),i.tag=3,i.payload={element:null};var l=n.value;return i.callback=function(){_a||(_a=!0,il=l),Ho(t,n)},i}function yu(t,n,i){i=ds(-1,i),i.tag=3;var l=t.type.getDerivedStateFromError;if(typeof l=="function"){var d=n.value;i.payload=function(){return l(d)},i.callback=function(){Ho(t,n)}}var h=t.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(i.callback=function(){Ho(t,n),typeof l!="function"&&(Es===null?Es=new Set([this]):Es.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})}),i}function ju(t,n,i){var l=t.pingCache;if(l===null){l=t.pingCache=new Kf;var d=new Set;l.set(n,d)}else d=l.get(n),d===void 0&&(d=new Set,l.set(n,d));d.has(i)||(d.add(i),t=lx.bind(null,t,n,i),n.then(t,t))}function wu(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function Nu(t,n,i,l,d){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(n=ds(-1,1),n.tag=2,Ss(i,n,1))),i.lanes|=1),t):(t.flags|=65536,t.lanes=d,t)}var Gf=V.ReactCurrentOwner,xt=!1;function ht(t,n,i,l){n.child=t===null?Vd(n,null,i,l):Cn(n,t.child,i,l)}function ku(t,n,i,l,d){i=i.render;var h=n.ref;return Ln(n,d),l=Io(t,n,i,l,h,d),i=Oo(),t!==null&&!xt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~d,us(t,n,d)):(Fe&&i&&bo(n),n.flags|=1,ht(t,n,l,d),n.child)}function Su(t,n,i,l,d){if(t===null){var h=i.type;return typeof h=="function"&&!ml(h)&&h.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(n.tag=15,n.type=h,Cu(t,n,h,l,d)):(t=$a(i.type,null,l,n,n.mode,d),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,(t.lanes&d)===0){var y=h.memoizedProps;if(i=i.compare,i=i!==null?i:or,i(y,l)&&t.ref===n.ref)return us(t,n,d)}return n.flags|=1,t=As(h,l),t.ref=n.ref,t.return=n,n.child=t}function Cu(t,n,i,l,d){if(t!==null){var h=t.memoizedProps;if(or(h,l)&&t.ref===n.ref)if(xt=!1,n.pendingProps=l=h,(t.lanes&d)!==0)(t.flags&131072)!==0&&(xt=!0);else return n.lanes=t.lanes,us(t,n,d)}return qo(t,n,i,l,d)}function Eu(t,n,i){var l=n.pendingProps,d=l.children,h=t!==null?t.memoizedState:null;if(l.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Rn,Lt),Lt|=i;else{if((i&1073741824)===0)return t=h!==null?h.baseLanes|i:i,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,Ie(Rn,Lt),Lt|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=h!==null?h.baseLanes:i,Ie(Rn,Lt),Lt|=l}else h!==null?(l=h.baseLanes|i,n.memoizedState=null):l=i,Ie(Rn,Lt),Lt|=l;return ht(t,n,d,i),n.child}function Lu(t,n){var i=n.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(n.flags|=512,n.flags|=2097152)}function qo(t,n,i,l,d){var h=ft(i)?zs:ot.current;return h=wn(n,h),Ln(n,d),i=Io(t,n,i,l,h,d),l=Oo(),t!==null&&!xt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~d,us(t,n,d)):(Fe&&l&&bo(n),n.flags|=1,ht(t,n,i,d),n.child)}function Pu(t,n,i,l,d){if(ft(i)){var h=!0;ua(n)}else h=!1;if(Ln(n,d),n.stateNode===null)Pa(t,n),gu(n,i,l),Vo(n,i,l,d),l=!0;else if(t===null){var y=n.stateNode,E=n.memoizedProps;y.props=E;var A=y.context,Q=i.contextType;typeof Q=="object"&&Q!==null?Q=Dt(Q):(Q=ft(i)?zs:ot.current,Q=wn(n,Q));var ae=i.getDerivedStateFromProps,ie=typeof ae=="function"||typeof y.getSnapshotBeforeUpdate=="function";ie||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==l||A!==Q)&&vu(n,y,l,Q),ks=!1;var re=n.memoizedState;y.state=re,ya(n,l,y,d),A=n.memoizedState,E!==l||re!==A||pt.current||ks?(typeof ae=="function"&&(zo(n,i,ae,l),A=n.memoizedState),(E=ks||xu(n,i,E,l,re,A,Q))?(ie||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(n.flags|=4194308)):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=A),y.props=l,y.state=A,y.context=Q,l=E):(typeof y.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{y=n.stateNode,Hd(t,n),E=n.memoizedProps,Q=n.type===n.elementType?E:Vt(n.type,E),y.props=Q,ie=n.pendingProps,re=y.context,A=i.contextType,typeof A=="object"&&A!==null?A=Dt(A):(A=ft(i)?zs:ot.current,A=wn(n,A));var fe=i.getDerivedStateFromProps;(ae=typeof fe=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==ie||re!==A)&&vu(n,y,l,A),ks=!1,re=n.memoizedState,y.state=re,ya(n,l,y,d);var ge=n.memoizedState;E!==ie||re!==ge||pt.current||ks?(typeof fe=="function"&&(zo(n,i,fe,l),ge=n.memoizedState),(Q=ks||xu(n,i,Q,l,re,ge,A)||!1)?(ae||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(l,ge,A),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(l,ge,A)),typeof y.componentDidUpdate=="function"&&(n.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===t.memoizedProps&&re===t.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&re===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=ge),y.props=l,y.state=ge,y.context=A,l=Q):(typeof y.componentDidUpdate!="function"||E===t.memoizedProps&&re===t.memoizedState||(n.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&re===t.memoizedState||(n.flags|=1024),l=!1)}return Qo(t,n,i,l,h,d)}function Qo(t,n,i,l,d,h){Lu(t,n);var y=(n.flags&128)!==0;if(!l&&!y)return d&&_d(n,i,!1),us(t,n,h);l=n.stateNode,Gf.current=n;var E=y&&typeof i.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,t!==null&&y?(n.child=Cn(n,t.child,null,h),n.child=Cn(n,null,E,h)):ht(t,n,E,h),n.memoizedState=l.state,d&&_d(n,i,!0),n.child}function Tu(t){var n=t.stateNode;n.pendingContext?Rd(t,n.pendingContext,n.pendingContext!==n.context):n.context&&Rd(t,n.context,!1),To(t,n.containerInfo)}function Au(t,n,i,l,d){return Sn(),No(d),n.flags|=256,ht(t,n,i,l),n.child}var Ko={dehydrated:null,treeContext:null,retryLane:0};function Go(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ru(t,n,i){var l=n.pendingProps,d=Ue.current,h=!1,y=(n.flags&128)!==0,E;if((E=y)||(E=t!==null&&t.memoizedState===null?!1:(d&2)!==0),E?(h=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),Ie(Ue,d&1),t===null)return wo(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(y=l.children,t=l.fallback,h?(l=n.mode,h=n.child,y={mode:"hidden",children:y},(l&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=y):h=Ua(y,l,0,null),t=Xs(t,l,i,null),h.return=n,t.return=n,h.sibling=t,n.child=h,n.child.memoizedState=Go(i),n.memoizedState=Ko,t):Jo(n,y));if(d=t.memoizedState,d!==null&&(E=d.dehydrated,E!==null))return Jf(t,n,y,l,E,d,i);if(h){h=l.fallback,y=n.mode,d=t.child,E=d.sibling;var A={mode:"hidden",children:l.children};return(y&1)===0&&n.child!==d?(l=n.child,l.childLanes=0,l.pendingProps=A,n.deletions=null):(l=As(d,A),l.subtreeFlags=d.subtreeFlags&14680064),E!==null?h=As(E,h):(h=Xs(h,y,i,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,y=t.child.memoizedState,y=y===null?Go(i):{baseLanes:y.baseLanes|i,cachePool:null,transitions:y.transitions},h.memoizedState=y,h.childLanes=t.childLanes&~i,n.memoizedState=Ko,l}return h=t.child,t=h.sibling,l=As(h,{mode:"visible",children:l.children}),(n.mode&1)===0&&(l.lanes=i),l.return=n,l.sibling=null,t!==null&&(i=n.deletions,i===null?(n.deletions=[t],n.flags|=16):i.push(t)),n.child=l,n.memoizedState=null,l}function Jo(t,n){return n=Ua({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function La(t,n,i,l){return l!==null&&No(l),Cn(n,t.child,null,i),t=Jo(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Jf(t,n,i,l,d,h,y){if(i)return n.flags&256?(n.flags&=-257,l=Wo(Error(a(422))),La(t,n,y,l)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(h=l.fallback,d=n.mode,l=Ua({mode:"visible",children:l.children},d,0,null),h=Xs(h,d,y,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,(n.mode&1)!==0&&Cn(n,t.child,null,y),n.child.memoizedState=Go(y),n.memoizedState=Ko,h);if((n.mode&1)===0)return La(t,n,y,null);if(d.data==="$!"){if(l=d.nextSibling&&d.nextSibling.dataset,l)var E=l.dgst;return l=E,h=Error(a(419)),l=Wo(h,l,void 0),La(t,n,y,l)}if(E=(y&t.childLanes)!==0,xt||E){if(l=st,l!==null){switch(y&-y){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(l.suspendedLanes|y))!==0?0:d,d!==0&&d!==h.retryLane&&(h.retryLane=d,cs(t,d),qt(l,t,d,-1))}return hl(),l=Wo(Error(a(421))),La(t,n,y,l)}return d.data==="$?"?(n.flags|=128,n.child=t.child,n=cx.bind(null,t),d._reactRetry=n,null):(t=h.treeContext,Et=ys(d.nextSibling),Ct=n,Fe=!0,zt=null,t!==null&&(At[Rt++]=os,At[Rt++]=ls,At[Rt++]=Vs,os=t.id,ls=t.overflow,Vs=n),n=Jo(n,l.children),n.flags|=4096,n)}function Du(t,n,i){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Eo(t.return,n,i)}function Yo(t,n,i,l,d){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:d}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=i,h.tailMode=d)}function _u(t,n,i){var l=n.pendingProps,d=l.revealOrder,h=l.tail;if(ht(t,n,l.children,i),l=Ue.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Du(t,i,n);else if(t.tag===19)Du(t,i,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}if(Ie(Ue,l),(n.mode&1)===0)n.memoizedState=null;else switch(d){case"forwards":for(i=n.child,d=null;i!==null;)t=i.alternate,t!==null&&ja(t)===null&&(d=i),i=i.sibling;i=d,i===null?(d=n.child,n.child=null):(d=i.sibling,i.sibling=null),Yo(n,!1,d,i,h);break;case"backwards":for(i=null,d=n.child,n.child=null;d!==null;){if(t=d.alternate,t!==null&&ja(t)===null){n.child=d;break}t=d.sibling,d.sibling=i,i=d,d=t}Yo(n,!0,i,null,h);break;case"together":Yo(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Pa(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function us(t,n,i){if(t!==null&&(n.dependencies=t.dependencies),Ks|=n.lanes,(i&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,i=As(t,t.pendingProps),n.child=i,i.return=n;t.sibling!==null;)t=t.sibling,i=i.sibling=As(t,t.pendingProps),i.return=n;i.sibling=null}return n.child}function Yf(t,n,i){switch(n.tag){case 3:Tu(n),Sn();break;case 5:Kd(n);break;case 1:ft(n.type)&&ua(n);break;case 4:To(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,d=n.memoizedProps.value;Ie(ga,l._currentValue),l._currentValue=d;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(Ie(Ue,Ue.current&1),n.flags|=128,null):(i&n.child.childLanes)!==0?Ru(t,n,i):(Ie(Ue,Ue.current&1),t=us(t,n,i),t!==null?t.sibling:null);Ie(Ue,Ue.current&1);break;case 19:if(l=(i&n.childLanes)!==0,(t.flags&128)!==0){if(l)return _u(t,n,i);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Ie(Ue,Ue.current),l)break;return null;case 22:case 23:return n.lanes=0,Eu(t,n,i)}return us(t,n,i)}var Mu,Xo,Iu,Ou;Mu=function(t,n){for(var i=n.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Xo=function(){},Iu=function(t,n,i,l){var d=t.memoizedProps;if(d!==l){t=n.stateNode,qs(Xt.current);var h=null;switch(i){case"input":d=$(t,d),l=$(t,l),h=[];break;case"select":d=L({},d,{value:void 0}),l=L({},l,{value:void 0}),h=[];break;case"textarea":d=Pi(t,d),l=Pi(t,l),h=[];break;default:typeof d.onClick!="function"&&typeof l.onClick=="function"&&(t.onclick=la)}Ai(i,l);var y;i=null;for(Q in d)if(!l.hasOwnProperty(Q)&&d.hasOwnProperty(Q)&&d[Q]!=null)if(Q==="style"){var E=d[Q];for(y in E)E.hasOwnProperty(y)&&(i||(i={}),i[y]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(c.hasOwnProperty(Q)?h||(h=[]):(h=h||[]).push(Q,null));for(Q in l){var A=l[Q];if(E=d?.[Q],l.hasOwnProperty(Q)&&A!==E&&(A!=null||E!=null))if(Q==="style")if(E){for(y in E)!E.hasOwnProperty(y)||A&&A.hasOwnProperty(y)||(i||(i={}),i[y]="");for(y in A)A.hasOwnProperty(y)&&E[y]!==A[y]&&(i||(i={}),i[y]=A[y])}else i||(h||(h=[]),h.push(Q,i)),i=A;else Q==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,E=E?E.__html:void 0,A!=null&&E!==A&&(h=h||[]).push(Q,A)):Q==="children"?typeof A!="string"&&typeof A!="number"||(h=h||[]).push(Q,""+A):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(c.hasOwnProperty(Q)?(A!=null&&Q==="onScroll"&&Oe("scroll",t),h||E===A||(h=[])):(h=h||[]).push(Q,A))}i&&(h=h||[]).push("style",i);var Q=h;(n.updateQueue=Q)&&(n.flags|=4)}},Ou=function(t,n,i,l){i!==l&&(n.flags|=4)};function wr(t,n){if(!Fe)switch(t.tailMode){case"hidden":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ct(t){var n=t.alternate!==null&&t.alternate.child===t.child,i=0,l=0;if(n)for(var d=t.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags&14680064,l|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=i,n}function Xf(t,n,i){var l=n.pendingProps;switch(yo(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(n),null;case 1:return ft(n.type)&&da(),ct(n),null;case 3:return l=n.stateNode,Pn(),Be(pt),Be(ot),Do(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(fa(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,zt!==null&&(cl(zt),zt=null))),Xo(t,n),ct(n),null;case 5:Ao(n);var d=qs(gr.current);if(i=n.type,t!==null&&n.stateNode!=null)Iu(t,n,i,l,d),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ct(n),null}if(t=qs(Xt.current),fa(n)){l=n.stateNode,i=n.type;var h=n.memoizedProps;switch(l[Yt]=n,l[hr]=h,t=(n.mode&1)!==0,i){case"dialog":Oe("cancel",l),Oe("close",l);break;case"iframe":case"object":case"embed":Oe("load",l);break;case"video":case"audio":for(d=0;d<cr.length;d++)Oe(cr[d],l);break;case"source":Oe("error",l);break;case"img":case"image":case"link":Oe("error",l),Oe("load",l);break;case"details":Oe("toggle",l);break;case"input":R(l,h),Oe("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!h.multiple},Oe("invalid",l);break;case"textarea":yc(l,h),Oe("invalid",l)}Ai(i,h),d=null;for(var y in h)if(h.hasOwnProperty(y)){var E=h[y];y==="children"?typeof E=="string"?l.textContent!==E&&(h.suppressHydrationWarning!==!0&&oa(l.textContent,E,t),d=["children",E]):typeof E=="number"&&l.textContent!==""+E&&(h.suppressHydrationWarning!==!0&&oa(l.textContent,E,t),d=["children",""+E]):c.hasOwnProperty(y)&&E!=null&&y==="onScroll"&&Oe("scroll",l)}switch(i){case"input":Se(l),Le(l,h,!0);break;case"textarea":Se(l),wc(l);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(l.onclick=la)}l=d,n.updateQueue=l,l!==null&&(n.flags|=4)}else{y=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Nc(i)),t==="http://www.w3.org/1999/xhtml"?i==="script"?(t=y.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof l.is=="string"?t=y.createElement(i,{is:l.is}):(t=y.createElement(i),i==="select"&&(y=t,l.multiple?y.multiple=!0:l.size&&(y.size=l.size))):t=y.createElementNS(t,i),t[Yt]=n,t[hr]=l,Mu(t,n,!1,!1),n.stateNode=t;e:{switch(y=Ri(i,l),i){case"dialog":Oe("cancel",t),Oe("close",t),d=l;break;case"iframe":case"object":case"embed":Oe("load",t),d=l;break;case"video":case"audio":for(d=0;d<cr.length;d++)Oe(cr[d],t);d=l;break;case"source":Oe("error",t),d=l;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),d=l;break;case"details":Oe("toggle",t),d=l;break;case"input":R(t,l),d=$(t,l),Oe("invalid",t);break;case"option":d=l;break;case"select":t._wrapperState={wasMultiple:!!l.multiple},d=L({},l,{value:void 0}),Oe("invalid",t);break;case"textarea":yc(t,l),d=Pi(t,l),Oe("invalid",t);break;default:d=l}Ai(i,d),E=d;for(h in E)if(E.hasOwnProperty(h)){var A=E[h];h==="style"?Cc(t,A):h==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&kc(t,A)):h==="children"?typeof A=="string"?(i!=="textarea"||A!=="")&&Wn(t,A):typeof A=="number"&&Wn(t,""+A):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(c.hasOwnProperty(h)?A!=null&&h==="onScroll"&&Oe("scroll",t):A!=null&&I(t,h,A,y))}switch(i){case"input":Se(t),Le(t,l,!1);break;case"textarea":Se(t),wc(t);break;case"option":l.value!=null&&t.setAttribute("value",""+G(l.value));break;case"select":t.multiple=!!l.multiple,h=l.value,h!=null?ms(t,!!l.multiple,h,!1):l.defaultValue!=null&&ms(t,!!l.multiple,l.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=la)}switch(i){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return ct(n),null;case 6:if(t&&n.stateNode!=null)Ou(t,n,t.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(i=qs(gr.current),qs(Xt.current),fa(n)){if(l=n.stateNode,i=n.memoizedProps,l[Yt]=n,(h=l.nodeValue!==i)&&(t=Ct,t!==null))switch(t.tag){case 3:oa(l.nodeValue,i,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&oa(l.nodeValue,i,(t.mode&1)!==0)}h&&(n.flags|=4)}else l=(i.nodeType===9?i:i.ownerDocument).createTextNode(l),l[Yt]=n,n.stateNode=l}return ct(n),null;case 13:if(Be(Ue),l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&Et!==null&&(n.mode&1)!==0&&(n.flags&128)===0)$d(),Sn(),n.flags|=98560,h=!1;else if(h=fa(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Yt]=n}else Sn(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),h=!1}else zt!==null&&(cl(zt),zt=null),h=!0;if(!h)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=i,n):(l=l!==null,l!==(t!==null&&t.memoizedState!==null)&&l&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||(Ue.current&1)!==0?et===0&&(et=3):hl())),n.updateQueue!==null&&(n.flags|=4),ct(n),null);case 4:return Pn(),Xo(t,n),t===null&&dr(n.stateNode.containerInfo),ct(n),null;case 10:return Co(n.type._context),ct(n),null;case 17:return ft(n.type)&&da(),ct(n),null;case 19:if(Be(Ue),h=n.memoizedState,h===null)return ct(n),null;if(l=(n.flags&128)!==0,y=h.rendering,y===null)if(l)wr(h,!1);else{if(et!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(y=ja(t),y!==null){for(n.flags|=128,wr(h,!1),l=y.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=i,i=n.child;i!==null;)h=i,t=l,h.flags&=14680066,y=h.alternate,y===null?(h.childLanes=0,h.lanes=t,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=y.childLanes,h.lanes=y.lanes,h.child=y.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=y.memoizedProps,h.memoizedState=y.memoizedState,h.updateQueue=y.updateQueue,h.type=y.type,t=y.dependencies,h.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return Ie(Ue,Ue.current&1|2),n.child}t=t.sibling}h.tail!==null&&qe()>Dn&&(n.flags|=128,l=!0,wr(h,!1),n.lanes=4194304)}else{if(!l)if(t=ja(y),t!==null){if(n.flags|=128,l=!0,i=t.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),wr(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!Fe)return ct(n),null}else 2*qe()-h.renderingStartTime>Dn&&i!==1073741824&&(n.flags|=128,l=!0,wr(h,!1),n.lanes=4194304);h.isBackwards?(y.sibling=n.child,n.child=y):(i=h.last,i!==null?i.sibling=y:n.child=y,h.last=y)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=qe(),n.sibling=null,i=Ue.current,Ie(Ue,l?i&1|2:i&1),n):(ct(n),null);case 22:case 23:return ul(),l=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==l&&(n.flags|=8192),l&&(n.mode&1)!==0?(Lt&1073741824)!==0&&(ct(n),n.subtreeFlags&6&&(n.flags|=8192)):ct(n),null;case 24:return null;case 25:return null}throw Error(a(156,n.tag))}function Zf(t,n){switch(yo(n),n.tag){case 1:return ft(n.type)&&da(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Pn(),Be(pt),Be(ot),Do(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return Ao(n),null;case 13:if(Be(Ue),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Sn()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Be(Ue),null;case 4:return Pn(),null;case 10:return Co(n.type._context),null;case 22:case 23:return ul(),null;case 24:return null;default:return null}}var Ta=!1,dt=!1,ex=typeof WeakSet=="function"?WeakSet:Set,xe=null;function An(t,n){var i=t.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(l){We(t,n,l)}else i.current=null}function Zo(t,n,i){try{i()}catch(l){We(t,n,l)}}var Bu=!1;function tx(t,n){if(uo=Jr,t=xd(),so(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var d=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var y=0,E=-1,A=-1,Q=0,ae=0,ie=t,re=null;t:for(;;){for(var fe;ie!==i||d!==0&&ie.nodeType!==3||(E=y+d),ie!==h||l!==0&&ie.nodeType!==3||(A=y+l),ie.nodeType===3&&(y+=ie.nodeValue.length),(fe=ie.firstChild)!==null;)re=ie,ie=fe;for(;;){if(ie===t)break t;if(re===i&&++Q===d&&(E=y),re===h&&++ae===l&&(A=y),(fe=ie.nextSibling)!==null)break;ie=re,re=ie.parentNode}ie=fe}i=E===-1||A===-1?null:{start:E,end:A}}else i=null}i=i||{start:0,end:0}}else i=null;for(ho={focusedElem:t,selectionRange:i},Jr=!1,xe=n;xe!==null;)if(n=xe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,xe=t;else for(;xe!==null;){n=xe;try{var ge=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var ve=ge.memoizedProps,Qe=ge.memoizedState,U=n.stateNode,O=U.getSnapshotBeforeUpdate(n.elementType===n.type?ve:Vt(n.type,ve),Qe);U.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var z=n.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(ce){We(n,n.return,ce)}if(t=n.sibling,t!==null){t.return=n.return,xe=t;break}xe=n.return}return ge=Bu,Bu=!1,ge}function Nr(t,n,i){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&t)===t){var h=d.destroy;d.destroy=void 0,h!==void 0&&Zo(n,i,h)}d=d.next}while(d!==l)}}function Aa(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var l=i.create;i.destroy=l()}i=i.next}while(i!==n)}}function el(t){var n=t.ref;if(n!==null){var i=t.stateNode;switch(t.tag){case 5:t=i;break;default:t=i}typeof n=="function"?n(t):n.current=t}}function Fu(t){var n=t.alternate;n!==null&&(t.alternate=null,Fu(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[Yt],delete n[hr],delete n[xo],delete n[Of],delete n[Bf])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $u(t){return t.tag===5||t.tag===3||t.tag===4}function Uu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$u(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tl(t,n,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?i.nodeType===8?i.parentNode.insertBefore(t,n):i.insertBefore(t,n):(i.nodeType===8?(n=i.parentNode,n.insertBefore(t,i)):(n=i,n.appendChild(t)),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=la));else if(l!==4&&(t=t.child,t!==null))for(tl(t,n,i),t=t.sibling;t!==null;)tl(t,n,i),t=t.sibling}function sl(t,n,i){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?i.insertBefore(t,n):i.appendChild(t);else if(l!==4&&(t=t.child,t!==null))for(sl(t,n,i),t=t.sibling;t!==null;)sl(t,n,i),t=t.sibling}var at=null,Wt=!1;function Cs(t,n,i){for(i=i.child;i!==null;)zu(t,n,i),i=i.sibling}function zu(t,n,i){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(Wr,i)}catch{}switch(i.tag){case 5:dt||An(i,n);case 6:var l=at,d=Wt;at=null,Cs(t,n,i),at=l,Wt=d,at!==null&&(Wt?(t=at,i=i.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)):at.removeChild(i.stateNode));break;case 18:at!==null&&(Wt?(t=at,i=i.stateNode,t.nodeType===8?fo(t.parentNode,i):t.nodeType===1&&fo(t,i),tr(t)):fo(at,i.stateNode));break;case 4:l=at,d=Wt,at=i.stateNode.containerInfo,Wt=!0,Cs(t,n,i),at=l,Wt=d;break;case 0:case 11:case 14:case 15:if(!dt&&(l=i.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){d=l=l.next;do{var h=d,y=h.destroy;h=h.tag,y!==void 0&&((h&2)!==0||(h&4)!==0)&&Zo(i,n,y),d=d.next}while(d!==l)}Cs(t,n,i);break;case 1:if(!dt&&(An(i,n),l=i.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=i.memoizedProps,l.state=i.memoizedState,l.componentWillUnmount()}catch(E){We(i,n,E)}Cs(t,n,i);break;case 21:Cs(t,n,i);break;case 22:i.mode&1?(dt=(l=dt)||i.memoizedState!==null,Cs(t,n,i),dt=l):Cs(t,n,i);break;default:Cs(t,n,i)}}function Vu(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new ex),n.forEach(function(l){var d=dx.bind(null,t,l);i.has(l)||(i.add(l),l.then(d,d))})}}function Ht(t,n){var i=n.deletions;if(i!==null)for(var l=0;l<i.length;l++){var d=i[l];try{var h=t,y=n,E=y;e:for(;E!==null;){switch(E.tag){case 5:at=E.stateNode,Wt=!1;break e;case 3:at=E.stateNode.containerInfo,Wt=!0;break e;case 4:at=E.stateNode.containerInfo,Wt=!0;break e}E=E.return}if(at===null)throw Error(a(160));zu(h,y,d),at=null,Wt=!1;var A=d.alternate;A!==null&&(A.return=null),d.return=null}catch(Q){We(d,n,Q)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Wu(n,t),n=n.sibling}function Wu(t,n){var i=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ht(n,t),es(t),l&4){try{Nr(3,t,t.return),Aa(3,t)}catch(ve){We(t,t.return,ve)}try{Nr(5,t,t.return)}catch(ve){We(t,t.return,ve)}}break;case 1:Ht(n,t),es(t),l&512&&i!==null&&An(i,i.return);break;case 5:if(Ht(n,t),es(t),l&512&&i!==null&&An(i,i.return),t.flags&32){var d=t.stateNode;try{Wn(d,"")}catch(ve){We(t,t.return,ve)}}if(l&4&&(d=t.stateNode,d!=null)){var h=t.memoizedProps,y=i!==null?i.memoizedProps:h,E=t.type,A=t.updateQueue;if(t.updateQueue=null,A!==null)try{E==="input"&&h.type==="radio"&&h.name!=null&&H(d,h),Ri(E,y);var Q=Ri(E,h);for(y=0;y<A.length;y+=2){var ae=A[y],ie=A[y+1];ae==="style"?Cc(d,ie):ae==="dangerouslySetInnerHTML"?kc(d,ie):ae==="children"?Wn(d,ie):I(d,ae,ie,Q)}switch(E){case"input":me(d,h);break;case"textarea":jc(d,h);break;case"select":var re=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!h.multiple;var fe=h.value;fe!=null?ms(d,!!h.multiple,fe,!1):re!==!!h.multiple&&(h.defaultValue!=null?ms(d,!!h.multiple,h.defaultValue,!0):ms(d,!!h.multiple,h.multiple?[]:"",!1))}d[hr]=h}catch(ve){We(t,t.return,ve)}}break;case 6:if(Ht(n,t),es(t),l&4){if(t.stateNode===null)throw Error(a(162));d=t.stateNode,h=t.memoizedProps;try{d.nodeValue=h}catch(ve){We(t,t.return,ve)}}break;case 3:if(Ht(n,t),es(t),l&4&&i!==null&&i.memoizedState.isDehydrated)try{tr(n.containerInfo)}catch(ve){We(t,t.return,ve)}break;case 4:Ht(n,t),es(t);break;case 13:Ht(n,t),es(t),d=t.child,d.flags&8192&&(h=d.memoizedState!==null,d.stateNode.isHidden=h,!h||d.alternate!==null&&d.alternate.memoizedState!==null||(al=qe())),l&4&&Vu(t);break;case 22:if(ae=i!==null&&i.memoizedState!==null,t.mode&1?(dt=(Q=dt)||ae,Ht(n,t),dt=Q):Ht(n,t),es(t),l&8192){if(Q=t.memoizedState!==null,(t.stateNode.isHidden=Q)&&!ae&&(t.mode&1)!==0)for(xe=t,ae=t.child;ae!==null;){for(ie=xe=ae;xe!==null;){switch(re=xe,fe=re.child,re.tag){case 0:case 11:case 14:case 15:Nr(4,re,re.return);break;case 1:An(re,re.return);var ge=re.stateNode;if(typeof ge.componentWillUnmount=="function"){l=re,i=re.return;try{n=l,ge.props=n.memoizedProps,ge.state=n.memoizedState,ge.componentWillUnmount()}catch(ve){We(l,i,ve)}}break;case 5:An(re,re.return);break;case 22:if(re.memoizedState!==null){Qu(ie);continue}}fe!==null?(fe.return=re,xe=fe):Qu(ie)}ae=ae.sibling}e:for(ae=null,ie=t;;){if(ie.tag===5){if(ae===null){ae=ie;try{d=ie.stateNode,Q?(h=d.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(E=ie.stateNode,A=ie.memoizedProps.style,y=A!=null&&A.hasOwnProperty("display")?A.display:null,E.style.display=Sc("display",y))}catch(ve){We(t,t.return,ve)}}}else if(ie.tag===6){if(ae===null)try{ie.stateNode.nodeValue=Q?"":ie.memoizedProps}catch(ve){We(t,t.return,ve)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===t)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===t)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===t)break e;ae===ie&&(ae=null),ie=ie.return}ae===ie&&(ae=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Ht(n,t),es(t),l&4&&Vu(t);break;case 21:break;default:Ht(n,t),es(t)}}function es(t){var n=t.flags;if(n&2){try{e:{for(var i=t.return;i!==null;){if($u(i)){var l=i;break e}i=i.return}throw Error(a(160))}switch(l.tag){case 5:var d=l.stateNode;l.flags&32&&(Wn(d,""),l.flags&=-33);var h=Uu(t);sl(t,h,d);break;case 3:case 4:var y=l.stateNode.containerInfo,E=Uu(t);tl(t,E,y);break;default:throw Error(a(161))}}catch(A){We(t,t.return,A)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function sx(t,n,i){xe=t,Hu(t)}function Hu(t,n,i){for(var l=(t.mode&1)!==0;xe!==null;){var d=xe,h=d.child;if(d.tag===22&&l){var y=d.memoizedState!==null||Ta;if(!y){var E=d.alternate,A=E!==null&&E.memoizedState!==null||dt;E=Ta;var Q=dt;if(Ta=y,(dt=A)&&!Q)for(xe=d;xe!==null;)y=xe,A=y.child,y.tag===22&&y.memoizedState!==null?Ku(d):A!==null?(A.return=y,xe=A):Ku(d);for(;h!==null;)xe=h,Hu(h),h=h.sibling;xe=d,Ta=E,dt=Q}qu(t)}else(d.subtreeFlags&8772)!==0&&h!==null?(h.return=d,xe=h):qu(t)}}function qu(t){for(;xe!==null;){var n=xe;if((n.flags&8772)!==0){var i=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:dt||Aa(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!dt)if(i===null)l.componentDidMount();else{var d=n.elementType===n.type?i.memoizedProps:Vt(n.type,i.memoizedProps);l.componentDidUpdate(d,i.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var h=n.updateQueue;h!==null&&Qd(n,h,l);break;case 3:var y=n.updateQueue;if(y!==null){if(i=null,n.child!==null)switch(n.child.tag){case 5:i=n.child.stateNode;break;case 1:i=n.child.stateNode}Qd(n,y,i)}break;case 5:var E=n.stateNode;if(i===null&&n.flags&4){i=E;var A=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&i.focus();break;case"img":A.src&&(i.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var Q=n.alternate;if(Q!==null){var ae=Q.memoizedState;if(ae!==null){var ie=ae.dehydrated;ie!==null&&tr(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}dt||n.flags&512&&el(n)}catch(re){We(n,n.return,re)}}if(n===t){xe=null;break}if(i=n.sibling,i!==null){i.return=n.return,xe=i;break}xe=n.return}}function Qu(t){for(;xe!==null;){var n=xe;if(n===t){xe=null;break}var i=n.sibling;if(i!==null){i.return=n.return,xe=i;break}xe=n.return}}function Ku(t){for(;xe!==null;){var n=xe;try{switch(n.tag){case 0:case 11:case 15:var i=n.return;try{Aa(4,n)}catch(A){We(n,i,A)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var d=n.return;try{l.componentDidMount()}catch(A){We(n,d,A)}}var h=n.return;try{el(n)}catch(A){We(n,h,A)}break;case 5:var y=n.return;try{el(n)}catch(A){We(n,y,A)}}}catch(A){We(n,n.return,A)}if(n===t){xe=null;break}var E=n.sibling;if(E!==null){E.return=n.return,xe=E;break}xe=n.return}}var nx=Math.ceil,Ra=V.ReactCurrentDispatcher,nl=V.ReactCurrentOwner,Mt=V.ReactCurrentBatchConfig,Ae=0,st=null,Je=null,it=0,Lt=0,Rn=js(0),et=0,kr=null,Ks=0,Da=0,rl=0,Sr=null,gt=null,al=0,Dn=1/0,hs=null,_a=!1,il=null,Es=null,Ma=!1,Ls=null,Ia=0,Cr=0,ol=null,Oa=-1,Ba=0;function mt(){return(Ae&6)!==0?qe():Oa!==-1?Oa:Oa=qe()}function Ps(t){return(t.mode&1)===0?1:(Ae&2)!==0&&it!==0?it&-it:$f.transition!==null?(Ba===0&&(Ba=Uc()),Ba):(t=_e,t!==0||(t=window.event,t=t===void 0?16:Jc(t.type)),t)}function qt(t,n,i,l){if(50<Cr)throw Cr=0,ol=null,Error(a(185));Jn(t,i,l),((Ae&2)===0||t!==st)&&(t===st&&((Ae&2)===0&&(Da|=i),et===4&&Ts(t,it)),vt(t,l),i===1&&Ae===0&&(n.mode&1)===0&&(Dn=qe()+500,ha&&Ns()))}function vt(t,n){var i=t.callbackNode;Fp(t,n);var l=Qr(t,t===st?it:0);if(l===0)i!==null&&Bc(i),t.callbackNode=null,t.callbackPriority=0;else if(n=l&-l,t.callbackPriority!==n){if(i!=null&&Bc(i),n===1)t.tag===0?Ff(Ju.bind(null,t)):Md(Ju.bind(null,t)),Mf(function(){(Ae&6)===0&&Ns()}),i=null;else{switch(zc(l)){case 1:i=Fi;break;case 4:i=Fc;break;case 16:i=Vr;break;case 536870912:i=$c;break;default:i=Vr}i=rh(i,Gu.bind(null,t))}t.callbackPriority=n,t.callbackNode=i}}function Gu(t,n){if(Oa=-1,Ba=0,(Ae&6)!==0)throw Error(a(327));var i=t.callbackNode;if(_n()&&t.callbackNode!==i)return null;var l=Qr(t,t===st?it:0);if(l===0)return null;if((l&30)!==0||(l&t.expiredLanes)!==0||n)n=Fa(t,l);else{n=l;var d=Ae;Ae|=2;var h=Xu();(st!==t||it!==n)&&(hs=null,Dn=qe()+500,Js(t,n));do try{ix();break}catch(E){Yu(t,E)}while(!0);So(),Ra.current=h,Ae=d,Je!==null?n=0:(st=null,it=0,n=et)}if(n!==0){if(n===2&&(d=$i(t),d!==0&&(l=d,n=ll(t,d))),n===1)throw i=kr,Js(t,0),Ts(t,l),vt(t,qe()),i;if(n===6)Ts(t,l);else{if(d=t.current.alternate,(l&30)===0&&!rx(d)&&(n=Fa(t,l),n===2&&(h=$i(t),h!==0&&(l=h,n=ll(t,h))),n===1))throw i=kr,Js(t,0),Ts(t,l),vt(t,qe()),i;switch(t.finishedWork=d,t.finishedLanes=l,n){case 0:case 1:throw Error(a(345));case 2:Ys(t,gt,hs);break;case 3:if(Ts(t,l),(l&130023424)===l&&(n=al+500-qe(),10<n)){if(Qr(t,0)!==0)break;if(d=t.suspendedLanes,(d&l)!==l){mt(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=po(Ys.bind(null,t,gt,hs),n);break}Ys(t,gt,hs);break;case 4:if(Ts(t,l),(l&4194240)===l)break;for(n=t.eventTimes,d=-1;0<l;){var y=31-$t(l);h=1<<y,y=n[y],y>d&&(d=y),l&=~h}if(l=d,l=qe()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*nx(l/1960))-l,10<l){t.timeoutHandle=po(Ys.bind(null,t,gt,hs),l);break}Ys(t,gt,hs);break;case 5:Ys(t,gt,hs);break;default:throw Error(a(329))}}}return vt(t,qe()),t.callbackNode===i?Gu.bind(null,t):null}function ll(t,n){var i=Sr;return t.current.memoizedState.isDehydrated&&(Js(t,n).flags|=256),t=Fa(t,n),t!==2&&(n=gt,gt=i,n!==null&&cl(n)),t}function cl(t){gt===null?gt=t:gt.push.apply(gt,t)}function rx(t){for(var n=t;;){if(n.flags&16384){var i=n.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var l=0;l<i.length;l++){var d=i[l],h=d.getSnapshot;d=d.value;try{if(!Ut(h(),d))return!1}catch{return!1}}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ts(t,n){for(n&=~rl,n&=~Da,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var i=31-$t(n),l=1<<i;t[i]=-1,n&=~l}}function Ju(t){if((Ae&6)!==0)throw Error(a(327));_n();var n=Qr(t,0);if((n&1)===0)return vt(t,qe()),null;var i=Fa(t,n);if(t.tag!==0&&i===2){var l=$i(t);l!==0&&(n=l,i=ll(t,l))}if(i===1)throw i=kr,Js(t,0),Ts(t,n),vt(t,qe()),i;if(i===6)throw Error(a(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,Ys(t,gt,hs),vt(t,qe()),null}function dl(t,n){var i=Ae;Ae|=1;try{return t(n)}finally{Ae=i,Ae===0&&(Dn=qe()+500,ha&&Ns())}}function Gs(t){Ls!==null&&Ls.tag===0&&(Ae&6)===0&&_n();var n=Ae;Ae|=1;var i=Mt.transition,l=_e;try{if(Mt.transition=null,_e=1,t)return t()}finally{_e=l,Mt.transition=i,Ae=n,(Ae&6)===0&&Ns()}}function ul(){Lt=Rn.current,Be(Rn)}function Js(t,n){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,_f(i)),Je!==null)for(i=Je.return;i!==null;){var l=i;switch(yo(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&da();break;case 3:Pn(),Be(pt),Be(ot),Do();break;case 5:Ao(l);break;case 4:Pn();break;case 13:Be(Ue);break;case 19:Be(Ue);break;case 10:Co(l.type._context);break;case 22:case 23:ul()}i=i.return}if(st=t,Je=t=As(t.current,null),it=Lt=n,et=0,kr=null,rl=Da=Ks=0,gt=Sr=null,Hs!==null){for(n=0;n<Hs.length;n++)if(i=Hs[n],l=i.interleaved,l!==null){i.interleaved=null;var d=l.next,h=i.pending;if(h!==null){var y=h.next;h.next=d,l.next=y}i.pending=l}Hs=null}return t}function Yu(t,n){do{var i=Je;try{if(So(),wa.current=Ca,Na){for(var l=ze.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}Na=!1}if(Qs=0,tt=Ze=ze=null,vr=!1,br=0,nl.current=null,i===null||i.return===null){et=1,kr=n,Je=null;break}e:{var h=t,y=i.return,E=i,A=n;if(n=it,E.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var Q=A,ae=E,ie=ae.tag;if((ae.mode&1)===0&&(ie===0||ie===11||ie===15)){var re=ae.alternate;re?(ae.updateQueue=re.updateQueue,ae.memoizedState=re.memoizedState,ae.lanes=re.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var fe=wu(y);if(fe!==null){fe.flags&=-257,Nu(fe,y,E,h,n),fe.mode&1&&ju(h,Q,n),n=fe,A=Q;var ge=n.updateQueue;if(ge===null){var ve=new Set;ve.add(A),n.updateQueue=ve}else ge.add(A);break e}else{if((n&1)===0){ju(h,Q,n),hl();break e}A=Error(a(426))}}else if(Fe&&E.mode&1){var Qe=wu(y);if(Qe!==null){(Qe.flags&65536)===0&&(Qe.flags|=256),Nu(Qe,y,E,h,n),No(Tn(A,E));break e}}h=A=Tn(A,E),et!==4&&(et=2),Sr===null?Sr=[h]:Sr.push(h),h=y;do{switch(h.tag){case 3:h.flags|=65536,n&=-n,h.lanes|=n;var U=bu(h,A,n);qd(h,U);break e;case 1:E=A;var O=h.type,z=h.stateNode;if((h.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Es===null||!Es.has(z)))){h.flags|=65536,n&=-n,h.lanes|=n;var ce=yu(h,E,n);qd(h,ce);break e}}h=h.return}while(h!==null)}eh(i)}catch(be){n=be,Je===i&&i!==null&&(Je=i=i.return);continue}break}while(!0)}function Xu(){var t=Ra.current;return Ra.current=Ca,t===null?Ca:t}function hl(){(et===0||et===3||et===2)&&(et=4),st===null||(Ks&268435455)===0&&(Da&268435455)===0||Ts(st,it)}function Fa(t,n){var i=Ae;Ae|=2;var l=Xu();(st!==t||it!==n)&&(hs=null,Js(t,n));do try{ax();break}catch(d){Yu(t,d)}while(!0);if(So(),Ae=i,Ra.current=l,Je!==null)throw Error(a(261));return st=null,it=0,et}function ax(){for(;Je!==null;)Zu(Je)}function ix(){for(;Je!==null&&!Tp();)Zu(Je)}function Zu(t){var n=nh(t.alternate,t,Lt);t.memoizedProps=t.pendingProps,n===null?eh(t):Je=n,nl.current=null}function eh(t){var n=t;do{var i=n.alternate;if(t=n.return,(n.flags&32768)===0){if(i=Xf(i,n,Lt),i!==null){Je=i;return}}else{if(i=Zf(i,n),i!==null){i.flags&=32767,Je=i;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{et=6,Je=null;return}}if(n=n.sibling,n!==null){Je=n;return}Je=n=t}while(n!==null);et===0&&(et=5)}function Ys(t,n,i){var l=_e,d=Mt.transition;try{Mt.transition=null,_e=1,ox(t,n,i,l)}finally{Mt.transition=d,_e=l}return null}function ox(t,n,i,l){do _n();while(Ls!==null);if((Ae&6)!==0)throw Error(a(327));i=t.finishedWork;var d=t.finishedLanes;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0;var h=i.lanes|i.childLanes;if($p(t,h),t===st&&(Je=st=null,it=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Ma||(Ma=!0,rh(Vr,function(){return _n(),null})),h=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||h){h=Mt.transition,Mt.transition=null;var y=_e;_e=1;var E=Ae;Ae|=4,nl.current=null,tx(t,i),Wu(i,t),Ef(ho),Jr=!!uo,ho=uo=null,t.current=i,sx(i),Ap(),Ae=E,_e=y,Mt.transition=h}else t.current=i;if(Ma&&(Ma=!1,Ls=t,Ia=d),h=t.pendingLanes,h===0&&(Es=null),_p(i.stateNode),vt(t,qe()),n!==null)for(l=t.onRecoverableError,i=0;i<n.length;i++)d=n[i],l(d.value,{componentStack:d.stack,digest:d.digest});if(_a)throw _a=!1,t=il,il=null,t;return(Ia&1)!==0&&t.tag!==0&&_n(),h=t.pendingLanes,(h&1)!==0?t===ol?Cr++:(Cr=0,ol=t):Cr=0,Ns(),null}function _n(){if(Ls!==null){var t=zc(Ia),n=Mt.transition,i=_e;try{if(Mt.transition=null,_e=16>t?16:t,Ls===null)var l=!1;else{if(t=Ls,Ls=null,Ia=0,(Ae&6)!==0)throw Error(a(331));var d=Ae;for(Ae|=4,xe=t.current;xe!==null;){var h=xe,y=h.child;if((xe.flags&16)!==0){var E=h.deletions;if(E!==null){for(var A=0;A<E.length;A++){var Q=E[A];for(xe=Q;xe!==null;){var ae=xe;switch(ae.tag){case 0:case 11:case 15:Nr(8,ae,h)}var ie=ae.child;if(ie!==null)ie.return=ae,xe=ie;else for(;xe!==null;){ae=xe;var re=ae.sibling,fe=ae.return;if(Fu(ae),ae===Q){xe=null;break}if(re!==null){re.return=fe,xe=re;break}xe=fe}}}var ge=h.alternate;if(ge!==null){var ve=ge.child;if(ve!==null){ge.child=null;do{var Qe=ve.sibling;ve.sibling=null,ve=Qe}while(ve!==null)}}xe=h}}if((h.subtreeFlags&2064)!==0&&y!==null)y.return=h,xe=y;else e:for(;xe!==null;){if(h=xe,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:Nr(9,h,h.return)}var U=h.sibling;if(U!==null){U.return=h.return,xe=U;break e}xe=h.return}}var O=t.current;for(xe=O;xe!==null;){y=xe;var z=y.child;if((y.subtreeFlags&2064)!==0&&z!==null)z.return=y,xe=z;else e:for(y=O;xe!==null;){if(E=xe,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:Aa(9,E)}}catch(be){We(E,E.return,be)}if(E===y){xe=null;break e}var ce=E.sibling;if(ce!==null){ce.return=E.return,xe=ce;break e}xe=E.return}}if(Ae=d,Ns(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(Wr,t)}catch{}l=!0}return l}finally{_e=i,Mt.transition=n}}return!1}function th(t,n,i){n=Tn(i,n),n=bu(t,n,1),t=Ss(t,n,1),n=mt(),t!==null&&(Jn(t,1,n),vt(t,n))}function We(t,n,i){if(t.tag===3)th(t,t,i);else for(;n!==null;){if(n.tag===3){th(n,t,i);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Es===null||!Es.has(l))){t=Tn(i,t),t=yu(n,t,1),n=Ss(n,t,1),t=mt(),n!==null&&(Jn(n,1,t),vt(n,t));break}}n=n.return}}function lx(t,n,i){var l=t.pingCache;l!==null&&l.delete(n),n=mt(),t.pingedLanes|=t.suspendedLanes&i,st===t&&(it&i)===i&&(et===4||et===3&&(it&130023424)===it&&500>qe()-al?Js(t,0):rl|=i),vt(t,n)}function sh(t,n){n===0&&((t.mode&1)===0?n=1:(n=qr,qr<<=1,(qr&130023424)===0&&(qr=4194304)));var i=mt();t=cs(t,n),t!==null&&(Jn(t,n,i),vt(t,i))}function cx(t){var n=t.memoizedState,i=0;n!==null&&(i=n.retryLane),sh(t,i)}function dx(t,n){var i=0;switch(t.tag){case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(i=d.retryLane);break;case 19:l=t.stateNode;break;default:throw Error(a(314))}l!==null&&l.delete(n),sh(t,i)}var nh;nh=function(t,n,i){if(t!==null)if(t.memoizedProps!==n.pendingProps||pt.current)xt=!0;else{if((t.lanes&i)===0&&(n.flags&128)===0)return xt=!1,Yf(t,n,i);xt=(t.flags&131072)!==0}else xt=!1,Fe&&(n.flags&1048576)!==0&&Id(n,pa,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;Pa(t,n),t=n.pendingProps;var d=wn(n,ot.current);Ln(n,i),d=Io(null,n,l,t,d,i);var h=Oo();return n.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,ft(l)?(h=!0,ua(n)):h=!1,n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Po(n),d.updater=Ea,n.stateNode=d,d._reactInternals=n,Vo(n,l,t,i),n=Qo(null,n,l,!0,h,i)):(n.tag=0,Fe&&h&&bo(n),ht(null,n,d,i),n=n.child),n;case 16:l=n.elementType;e:{switch(Pa(t,n),t=n.pendingProps,d=l._init,l=d(l._payload),n.type=l,d=n.tag=hx(l),t=Vt(l,t),d){case 0:n=qo(null,n,l,t,i);break e;case 1:n=Pu(null,n,l,t,i);break e;case 11:n=ku(null,n,l,t,i);break e;case 14:n=Su(null,n,l,Vt(l.type,t),i);break e}throw Error(a(306,l,""))}return n;case 0:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:Vt(l,d),qo(t,n,l,d,i);case 1:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:Vt(l,d),Pu(t,n,l,d,i);case 3:e:{if(Tu(n),t===null)throw Error(a(387));l=n.pendingProps,h=n.memoizedState,d=h.element,Hd(t,n),ya(n,l,null,i);var y=n.memoizedState;if(l=y.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){d=Tn(Error(a(423)),n),n=Au(t,n,l,i,d);break e}else if(l!==d){d=Tn(Error(a(424)),n),n=Au(t,n,l,i,d);break e}else for(Et=ys(n.stateNode.containerInfo.firstChild),Ct=n,Fe=!0,zt=null,i=Vd(n,null,l,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Sn(),l===d){n=us(t,n,i);break e}ht(t,n,l,i)}n=n.child}return n;case 5:return Kd(n),t===null&&wo(n),l=n.type,d=n.pendingProps,h=t!==null?t.memoizedProps:null,y=d.children,mo(l,d)?y=null:h!==null&&mo(l,h)&&(n.flags|=32),Lu(t,n),ht(t,n,y,i),n.child;case 6:return t===null&&wo(n),null;case 13:return Ru(t,n,i);case 4:return To(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Cn(n,null,l,i):ht(t,n,l,i),n.child;case 11:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:Vt(l,d),ku(t,n,l,d,i);case 7:return ht(t,n,n.pendingProps,i),n.child;case 8:return ht(t,n,n.pendingProps.children,i),n.child;case 12:return ht(t,n,n.pendingProps.children,i),n.child;case 10:e:{if(l=n.type._context,d=n.pendingProps,h=n.memoizedProps,y=d.value,Ie(ga,l._currentValue),l._currentValue=y,h!==null)if(Ut(h.value,y)){if(h.children===d.children&&!pt.current){n=us(t,n,i);break e}}else for(h=n.child,h!==null&&(h.return=n);h!==null;){var E=h.dependencies;if(E!==null){y=h.child;for(var A=E.firstContext;A!==null;){if(A.context===l){if(h.tag===1){A=ds(-1,i&-i),A.tag=2;var Q=h.updateQueue;if(Q!==null){Q=Q.shared;var ae=Q.pending;ae===null?A.next=A:(A.next=ae.next,ae.next=A),Q.pending=A}}h.lanes|=i,A=h.alternate,A!==null&&(A.lanes|=i),Eo(h.return,i,n),E.lanes|=i;break}A=A.next}}else if(h.tag===10)y=h.type===n.type?null:h.child;else if(h.tag===18){if(y=h.return,y===null)throw Error(a(341));y.lanes|=i,E=y.alternate,E!==null&&(E.lanes|=i),Eo(y,i,n),y=h.sibling}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===n){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}ht(t,n,d.children,i),n=n.child}return n;case 9:return d=n.type,l=n.pendingProps.children,Ln(n,i),d=Dt(d),l=l(d),n.flags|=1,ht(t,n,l,i),n.child;case 14:return l=n.type,d=Vt(l,n.pendingProps),d=Vt(l.type,d),Su(t,n,l,d,i);case 15:return Cu(t,n,n.type,n.pendingProps,i);case 17:return l=n.type,d=n.pendingProps,d=n.elementType===l?d:Vt(l,d),Pa(t,n),n.tag=1,ft(l)?(t=!0,ua(n)):t=!1,Ln(n,i),gu(n,l,d),Vo(n,l,d,i),Qo(null,n,l,!0,t,i);case 19:return _u(t,n,i);case 22:return Eu(t,n,i)}throw Error(a(156,n.tag))};function rh(t,n){return Oc(t,n)}function ux(t,n,i,l){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(t,n,i,l){return new ux(t,n,i,l)}function ml(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hx(t){if(typeof t=="function")return ml(t)?1:0;if(t!=null){if(t=t.$$typeof,t===D)return 11;if(t===te)return 14}return 2}function As(t,n){var i=t.alternate;return i===null?(i=It(t.tag,n,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=n,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&14680064,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,n=t.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function $a(t,n,i,l,d,h){var y=2;if(l=t,typeof t=="function")ml(t)&&(y=1);else if(typeof t=="string")y=5;else e:switch(t){case q:return Xs(i.children,d,h,n);case Y:y=8,d|=8;break;case M:return t=It(12,i,n,d|2),t.elementType=M,t.lanes=h,t;case le:return t=It(13,i,n,d),t.elementType=le,t.lanes=h,t;case W:return t=It(19,i,n,d),t.elementType=W,t.lanes=h,t;case ue:return Ua(i,d,h,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case B:y=10;break e;case J:y=9;break e;case D:y=11;break e;case te:y=14;break e;case he:y=16,l=null;break e}throw Error(a(130,t==null?t:typeof t,""))}return n=It(y,i,n,d),n.elementType=t,n.type=l,n.lanes=h,n}function Xs(t,n,i,l){return t=It(7,t,l,n),t.lanes=i,t}function Ua(t,n,i,l){return t=It(22,t,l,n),t.elementType=ue,t.lanes=i,t.stateNode={isHidden:!1},t}function pl(t,n,i){return t=It(6,t,null,n),t.lanes=i,t}function fl(t,n,i){return n=It(4,t.children!==null?t.children:[],t.key,n),n.lanes=i,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function mx(t,n,i,l,d){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ui(0),this.expirationTimes=Ui(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.identifierPrefix=l,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function xl(t,n,i,l,d,h,y,E,A){return t=new mx(t,n,i,E,A),n===1?(n=1,h===!0&&(n|=8)):n=0,h=It(3,null,null,n),t.current=h,h.stateNode=t,h.memoizedState={element:l,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Po(h),t}function px(t,n,i){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:l==null?null:""+l,children:t,containerInfo:n,implementation:i}}function ah(t){if(!t)return ws;t=t._reactInternals;e:{if($s(t)!==t||t.tag!==1)throw Error(a(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(ft(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(a(171))}if(t.tag===1){var i=t.type;if(ft(i))return Dd(t,i,n)}return n}function ih(t,n,i,l,d,h,y,E,A){return t=xl(i,l,!0,t,d,h,y,E,A),t.context=ah(null),i=t.current,l=mt(),d=Ps(i),h=ds(l,d),h.callback=n??null,Ss(i,h,d),t.current.lanes=d,Jn(t,d,l),vt(t,l),t}function za(t,n,i,l){var d=n.current,h=mt(),y=Ps(d);return i=ah(i),n.context===null?n.context=i:n.pendingContext=i,n=ds(h,y),n.payload={element:t},l=l===void 0?null:l,l!==null&&(n.callback=l),t=Ss(d,n,y),t!==null&&(qt(t,d,y,h),ba(t,d,y)),y}function Va(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function oh(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<n?i:n}}function gl(t,n){oh(t,n),(t=t.alternate)&&oh(t,n)}function fx(){return null}var lh=typeof reportError=="function"?reportError:function(t){console.error(t)};function vl(t){this._internalRoot=t}Wa.prototype.render=vl.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));za(t,n,null,null)},Wa.prototype.unmount=vl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Gs(function(){za(null,t,null,null)}),n[as]=null}};function Wa(t){this._internalRoot=t}Wa.prototype.unstable_scheduleHydration=function(t){if(t){var n=Hc();t={blockedOn:null,target:t,priority:n};for(var i=0;i<gs.length&&n!==0&&n<gs[i].priority;i++);gs.splice(i,0,t),i===0&&Kc(t)}};function bl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ha(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ch(){}function xx(t,n,i,l,d){if(d){if(typeof l=="function"){var h=l;l=function(){var Q=Va(y);h.call(Q)}}var y=ih(n,l,t,0,null,!1,!1,"",ch);return t._reactRootContainer=y,t[as]=y.current,dr(t.nodeType===8?t.parentNode:t),Gs(),y}for(;d=t.lastChild;)t.removeChild(d);if(typeof l=="function"){var E=l;l=function(){var Q=Va(A);E.call(Q)}}var A=xl(t,0,!1,null,null,!1,!1,"",ch);return t._reactRootContainer=A,t[as]=A.current,dr(t.nodeType===8?t.parentNode:t),Gs(function(){za(n,A,i,l)}),A}function qa(t,n,i,l,d){var h=i._reactRootContainer;if(h){var y=h;if(typeof d=="function"){var E=d;d=function(){var A=Va(y);E.call(A)}}za(n,y,t,d)}else y=xx(i,n,t,d,l);return Va(y)}Vc=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var i=Gn(n.pendingLanes);i!==0&&(zi(n,i|1),vt(n,qe()),(Ae&6)===0&&(Dn=qe()+500,Ns()))}break;case 13:Gs(function(){var l=cs(t,1);if(l!==null){var d=mt();qt(l,t,1,d)}}),gl(t,1)}},Vi=function(t){if(t.tag===13){var n=cs(t,134217728);if(n!==null){var i=mt();qt(n,t,134217728,i)}gl(t,134217728)}},Wc=function(t){if(t.tag===13){var n=Ps(t),i=cs(t,n);if(i!==null){var l=mt();qt(i,t,n,l)}gl(t,n)}},Hc=function(){return _e},qc=function(t,n){var i=_e;try{return _e=t,n()}finally{_e=i}},Mi=function(t,n,i){switch(n){case"input":if(me(t,i),n=i.name,i.type==="radio"&&n!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<i.length;n++){var l=i[n];if(l!==t&&l.form===t.form){var d=ca(l);if(!d)throw Error(a(90));Ve(l),me(l,d)}}}break;case"textarea":jc(t,i);break;case"select":n=i.value,n!=null&&ms(t,!!i.multiple,n,!1)}},Tc=dl,Ac=Gs;var gx={usingClientEntryPoint:!1,Events:[mr,yn,ca,Lc,Pc,dl]},Er={findFiberByHostInstance:Us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vx={bundleType:Er.bundleType,version:Er.version,rendererPackageName:Er.rendererPackageName,rendererConfig:Er.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Mc(t),t===null?null:t.stateNode},findFiberByHostInstance:Er.findFiberByHostInstance||fx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qa.isDisabled&&Qa.supportsFiber)try{Wr=Qa.inject(vx),Jt=Qa}catch{}}return bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gx,bt.createPortal=function(t,n){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bl(n))throw Error(a(200));return px(t,n,null,i)},bt.createRoot=function(t,n){if(!bl(t))throw Error(a(299));var i=!1,l="",d=lh;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(d=n.onRecoverableError)),n=xl(t,1,!1,null,null,i,!1,l,d),t[as]=n.current,dr(t.nodeType===8?t.parentNode:t),new vl(n)},bt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=Mc(n),t=t===null?null:t.stateNode,t},bt.flushSync=function(t){return Gs(t)},bt.hydrate=function(t,n,i){if(!Ha(n))throw Error(a(200));return qa(null,t,n,!0,i)},bt.hydrateRoot=function(t,n,i){if(!bl(t))throw Error(a(405));var l=i!=null&&i.hydratedSources||null,d=!1,h="",y=lh;if(i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),n=ih(n,null,t,1,i??null,d,!1,h,y),t[as]=n.current,dr(t),l)for(t=0;t<l.length;t++)i=l[t],d=i._getVersion,d=d(i._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[i,d]:n.mutableSourceEagerHydrationData.push(i,d);return new Wa(n)},bt.render=function(t,n,i){if(!Ha(n))throw Error(a(200));return qa(null,t,n,!1,i)},bt.unmountComponentAtNode=function(t){if(!Ha(t))throw Error(a(40));return t._reactRootContainer?(Gs(function(){qa(null,null,t,!1,function(){t._reactRootContainer=null,t[as]=null})}),!0):!1},bt.unstable_batchedUpdates=dl,bt.unstable_renderSubtreeIntoContainer=function(t,n,i,l){if(!Ha(i))throw Error(a(200));if(t==null||t._reactInternals===void 0)throw Error(a(38));return qa(t,n,i,!1,l)},bt.version="18.3.1-next-f1338f8080-20240426",bt}var gh;function hm(){if(gh)return wl.exports;gh=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(s){console.error(s)}}return r(),wl.exports=Ex(),wl.exports}var vh;function Lx(){if(vh)return Ka;vh=1;var r=hm();return Ka.createRoot=r.createRoot,Ka.hydrateRoot=r.hydrateRoot,Ka}var Px=Lx();const Tx=um(Px);var mm=hm();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dr(){return Dr=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Dr.apply(this,arguments)}var Ms;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Ms||(Ms={}));const bh="popstate";function Ax(r){r===void 0&&(r={});function s(o,c){let{pathname:u,search:m,hash:p}=o.location;return Ol("",{pathname:u,search:m,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function a(o,c){return typeof c=="string"?c:ii(c)}return Dx(s,a,null,r)}function Ke(r,s){if(r===!1||r===null||typeof r>"u")throw new Error(s)}function pm(r,s){if(!r){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Rx(){return Math.random().toString(36).substr(2,8)}function yh(r,s){return{usr:r.state,key:r.key,idx:s}}function Ol(r,s,a,o){return a===void 0&&(a=null),Dr({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof s=="string"?Fn(s):s,{state:a,key:s&&s.key||o||Rx()})}function ii(r){let{pathname:s="/",search:a="",hash:o=""}=r;return a&&a!=="?"&&(s+=a.charAt(0)==="?"?a:"?"+a),o&&o!=="#"&&(s+=o.charAt(0)==="#"?o:"#"+o),s}function Fn(r){let s={};if(r){let a=r.indexOf("#");a>=0&&(s.hash=r.substr(a),r=r.substr(0,a));let o=r.indexOf("?");o>=0&&(s.search=r.substr(o),r=r.substr(0,o)),r&&(s.pathname=r)}return s}function Dx(r,s,a,o){o===void 0&&(o={});let{window:c=document.defaultView,v5Compat:u=!1}=o,m=c.history,p=Ms.Pop,f=null,v=b();v==null&&(v=0,m.replaceState(Dr({},m.state,{idx:v}),""));function b(){return(m.state||{idx:null}).idx}function g(){p=Ms.Pop;let S=b(),_=S==null?null:S-v;v=S,f&&f({action:p,location:w.location,delta:_})}function k(S,_){p=Ms.Push;let T=Ol(w.location,S,_);v=b()+1;let I=yh(T,v),V=w.createHref(T);try{m.pushState(I,"",V)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;c.location.assign(V)}u&&f&&f({action:p,location:w.location,delta:1})}function N(S,_){p=Ms.Replace;let T=Ol(w.location,S,_);v=b();let I=yh(T,v),V=w.createHref(T);m.replaceState(I,"",V),u&&f&&f({action:p,location:w.location,delta:0})}function j(S){let _=c.location.origin!=="null"?c.location.origin:c.location.href,T=typeof S=="string"?S:ii(S);return T=T.replace(/ $/,"%20"),Ke(_,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,_)}let w={get action(){return p},get location(){return r(c,m)},listen(S){if(f)throw new Error("A history only accepts one active listener");return c.addEventListener(bh,g),f=S,()=>{c.removeEventListener(bh,g),f=null}},createHref(S){return s(c,S)},createURL:j,encodeLocation(S){let _=j(S);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:k,replace:N,go(S){return m.go(S)}};return w}var jh;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(jh||(jh={}));function _x(r,s,a){return a===void 0&&(a="/"),Mx(r,s,a)}function Mx(r,s,a,o){let c=typeof s=="string"?Fn(s):s,u=rc(c.pathname||"/",a);if(u==null)return null;let m=fm(r);Ix(m);let p=null;for(let f=0;p==null&&f<m.length;++f){let v=Kx(u);p=Hx(m[f],v)}return p}function fm(r,s,a,o){s===void 0&&(s=[]),a===void 0&&(a=[]),o===void 0&&(o="");let c=(u,m,p)=>{let f={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};f.relativePath.startsWith("/")&&(Ke(f.relativePath.startsWith(o),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(o.length));let v=Is([o,f.relativePath]),b=a.concat(f);u.children&&u.children.length>0&&(Ke(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),fm(u.children,s,b,v)),!(u.path==null&&!u.index)&&s.push({path:v,score:Vx(v,u.index),routesMeta:b})};return r.forEach((u,m)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))c(u,m);else for(let f of xm(u.path))c(u,m,f)}),s}function xm(r){let s=r.split("/");if(s.length===0)return[];let[a,...o]=s,c=a.endsWith("?"),u=a.replace(/\?$/,"");if(o.length===0)return c?[u,""]:[u];let m=xm(o.join("/")),p=[];return p.push(...m.map(f=>f===""?u:[u,f].join("/"))),c&&p.push(...m),p.map(f=>r.startsWith("/")&&f===""?"/":f)}function Ix(r){r.sort((s,a)=>s.score!==a.score?a.score-s.score:Wx(s.routesMeta.map(o=>o.childrenIndex),a.routesMeta.map(o=>o.childrenIndex)))}const Ox=/^:[\w-]+$/,Bx=3,Fx=2,$x=1,Ux=10,zx=-2,wh=r=>r==="*";function Vx(r,s){let a=r.split("/"),o=a.length;return a.some(wh)&&(o+=zx),s&&(o+=Fx),a.filter(c=>!wh(c)).reduce((c,u)=>c+(Ox.test(u)?Bx:u===""?$x:Ux),o)}function Wx(r,s){return r.length===s.length&&r.slice(0,-1).every((o,c)=>o===s[c])?r[r.length-1]-s[s.length-1]:0}function Hx(r,s,a){let{routesMeta:o}=r,c={},u="/",m=[];for(let p=0;p<o.length;++p){let f=o[p],v=p===o.length-1,b=u==="/"?s:s.slice(u.length)||"/",g=qx({path:f.relativePath,caseSensitive:f.caseSensitive,end:v},b),k=f.route;if(!g)return null;Object.assign(c,g.params),m.push({params:c,pathname:Is([u,g.pathname]),pathnameBase:Xx(Is([u,g.pathnameBase])),route:k}),g.pathnameBase!=="/"&&(u=Is([u,g.pathnameBase]))}return m}function qx(r,s){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[a,o]=Qx(r.path,r.caseSensitive,r.end),c=s.match(a);if(!c)return null;let u=c[0],m=u.replace(/(.)\/+$/,"$1"),p=c.slice(1);return{params:o.reduce((v,b,g)=>{let{paramName:k,isOptional:N}=b;if(k==="*"){let w=p[g]||"";m=u.slice(0,u.length-w.length).replace(/(.)\/+$/,"$1")}const j=p[g];return N&&!j?v[k]=void 0:v[k]=(j||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:m,pattern:r}}function Qx(r,s,a){s===void 0&&(s=!1),a===void 0&&(a=!0),pm(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let o=[],c="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,p,f)=>(o.push({paramName:p,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(o.push({paramName:"*"}),c+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?c+="\\/*$":r!==""&&r!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,s?void 0:"i"),o]}function Kx(r){try{return r.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return pm(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),r}}function rc(r,s){if(s==="/")return r;if(!r.toLowerCase().startsWith(s.toLowerCase()))return null;let a=s.endsWith("/")?s.length-1:s.length,o=r.charAt(a);return o&&o!=="/"?null:r.slice(a)||"/"}function Gx(r,s){s===void 0&&(s="/");let{pathname:a,search:o="",hash:c=""}=typeof r=="string"?Fn(r):r;return{pathname:a?a.startsWith("/")?a:Jx(a,s):s,search:Zx(o),hash:eg(c)}}function Jx(r,s){let a=s.replace(/\/+$/,"").split("/");return r.split("/").forEach(c=>{c===".."?a.length>1&&a.pop():c!=="."&&a.push(c)}),a.length>1?a.join("/"):"/"}function Sl(r,s,a,o){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Yx(r){return r.filter((s,a)=>a===0||s.route.path&&s.route.path.length>0)}function ac(r,s){let a=Yx(r);return s?a.map((o,c)=>c===a.length-1?o.pathname:o.pathnameBase):a.map(o=>o.pathnameBase)}function ic(r,s,a,o){o===void 0&&(o=!1);let c;typeof r=="string"?c=Fn(r):(c=Dr({},r),Ke(!c.pathname||!c.pathname.includes("?"),Sl("?","pathname","search",c)),Ke(!c.pathname||!c.pathname.includes("#"),Sl("#","pathname","hash",c)),Ke(!c.search||!c.search.includes("#"),Sl("#","search","hash",c)));let u=r===""||c.pathname==="",m=u?"/":c.pathname,p;if(m==null)p=a;else{let g=s.length-1;if(!o&&m.startsWith("..")){let k=m.split("/");for(;k[0]==="..";)k.shift(),g-=1;c.pathname=k.join("/")}p=g>=0?s[g]:"/"}let f=Gx(c,p),v=m&&m!=="/"&&m.endsWith("/"),b=(u||m===".")&&a.endsWith("/");return!f.pathname.endsWith("/")&&(v||b)&&(f.pathname+="/"),f}const Is=r=>r.join("/").replace(/\/\/+/g,"/"),Xx=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Zx=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,eg=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function tg(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const gm=["post","put","patch","delete"];new Set(gm);const sg=["get",...gm];new Set(sg);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _r(){return _r=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},_r.apply(this,arguments)}const oc=x.createContext(null),ng=x.createContext(null),Bs=x.createContext(null),fi=x.createContext(null),rs=x.createContext({outlet:null,matches:[],isDataRoute:!1}),vm=x.createContext(null);function rg(r,s){let{relative:a}=s===void 0?{}:s;$n()||Ke(!1);let{basename:o,navigator:c}=x.useContext(Bs),{hash:u,pathname:m,search:p}=wm(r,{relative:a}),f=m;return o!=="/"&&(f=m==="/"?o:Is([o,m])),c.createHref({pathname:f,search:p,hash:u})}function $n(){return x.useContext(fi)!=null}function Fs(){return $n()||Ke(!1),x.useContext(fi).location}function bm(r){x.useContext(Bs).static||x.useLayoutEffect(r)}function He(){let{isDataRoute:r}=x.useContext(rs);return r?vg():ag()}function ag(){$n()||Ke(!1);let r=x.useContext(oc),{basename:s,future:a,navigator:o}=x.useContext(Bs),{matches:c}=x.useContext(rs),{pathname:u}=Fs(),m=JSON.stringify(ac(c,a.v7_relativeSplatPath)),p=x.useRef(!1);return bm(()=>{p.current=!0}),x.useCallback(function(v,b){if(b===void 0&&(b={}),!p.current)return;if(typeof v=="number"){o.go(v);return}let g=ic(v,JSON.parse(m),u,b.relative==="path");r==null&&s!=="/"&&(g.pathname=g.pathname==="/"?s:Is([s,g.pathname])),(b.replace?o.replace:o.push)(g,b.state,b)},[s,o,m,u,r])}const ym=x.createContext(null);function cn(){return x.useContext(ym)}function ig(r){let s=x.useContext(rs).outlet;return s&&x.createElement(ym.Provider,{value:r},s)}function jm(){let{matches:r}=x.useContext(rs),s=r[r.length-1];return s?s.params:{}}function wm(r,s){let{relative:a}=s===void 0?{}:s,{future:o}=x.useContext(Bs),{matches:c}=x.useContext(rs),{pathname:u}=Fs(),m=JSON.stringify(ac(c,o.v7_relativeSplatPath));return x.useMemo(()=>ic(r,JSON.parse(m),u,a==="path"),[r,m,u,a])}function og(r,s){return lg(r,s)}function lg(r,s,a,o){$n()||Ke(!1);let{navigator:c}=x.useContext(Bs),{matches:u}=x.useContext(rs),m=u[u.length-1],p=m?m.params:{};m&&m.pathname;let f=m?m.pathnameBase:"/";m&&m.route;let v=Fs(),b;if(s){var g;let S=typeof s=="string"?Fn(s):s;f==="/"||(g=S.pathname)!=null&&g.startsWith(f)||Ke(!1),b=S}else b=v;let k=b.pathname||"/",N=k;if(f!=="/"){let S=f.replace(/^\//,"").split("/");N="/"+k.replace(/^\//,"").split("/").slice(S.length).join("/")}let j=_x(r,{pathname:N}),w=mg(j&&j.map(S=>Object.assign({},S,{params:Object.assign({},p,S.params),pathname:Is([f,c.encodeLocation?c.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:Is([f,c.encodeLocation?c.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),u,a,o);return s&&w?x.createElement(fi.Provider,{value:{location:_r({pathname:"/",search:"",hash:"",state:null,key:"default"},b),navigationType:Ms.Pop}},w):w}function cg(){let r=gg(),s=tg(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),a=r instanceof Error?r.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},s),a?x.createElement("pre",{style:c},a):null,null)}const dg=x.createElement(cg,null);class ug extends x.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,a){return a.location!==s.location||a.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:a.error,location:a.location,revalidation:s.revalidation||a.revalidation}}componentDidCatch(s,a){console.error("React Router caught the following error during render",s,a)}render(){return this.state.error!==void 0?x.createElement(rs.Provider,{value:this.props.routeContext},x.createElement(vm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hg(r){let{routeContext:s,match:a,children:o}=r,c=x.useContext(oc);return c&&c.static&&c.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=a.route.id),x.createElement(rs.Provider,{value:s},o)}function mg(r,s,a,o){var c;if(s===void 0&&(s=[]),a===void 0&&(a=null),o===void 0&&(o=null),r==null){var u;if(!a)return null;if(a.errors)r=a.matches;else if((u=o)!=null&&u.v7_partialHydration&&s.length===0&&!a.initialized&&a.matches.length>0)r=a.matches;else return null}let m=r,p=(c=a)==null?void 0:c.errors;if(p!=null){let b=m.findIndex(g=>g.route.id&&p?.[g.route.id]!==void 0);b>=0||Ke(!1),m=m.slice(0,Math.min(m.length,b+1))}let f=!1,v=-1;if(a&&o&&o.v7_partialHydration)for(let b=0;b<m.length;b++){let g=m[b];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(v=b),g.route.id){let{loaderData:k,errors:N}=a,j=g.route.loader&&k[g.route.id]===void 0&&(!N||N[g.route.id]===void 0);if(g.route.lazy||j){f=!0,v>=0?m=m.slice(0,v+1):m=[m[0]];break}}}return m.reduceRight((b,g,k)=>{let N,j=!1,w=null,S=null;a&&(N=p&&g.route.id?p[g.route.id]:void 0,w=g.route.errorElement||dg,f&&(v<0&&k===0?(bg("route-fallback"),j=!0,S=null):v===k&&(j=!0,S=g.route.hydrateFallbackElement||null)));let _=s.concat(m.slice(0,k+1)),T=()=>{let I;return N?I=w:j?I=S:g.route.Component?I=x.createElement(g.route.Component,null):g.route.element?I=g.route.element:I=b,x.createElement(hg,{match:g,routeContext:{outlet:b,matches:_,isDataRoute:a!=null},children:I})};return a&&(g.route.ErrorBoundary||g.route.errorElement||k===0)?x.createElement(ug,{location:a.location,revalidation:a.revalidation,component:w,error:N,children:T(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):T()},null)}var Nm=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(Nm||{}),km=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(km||{});function pg(r){let s=x.useContext(oc);return s||Ke(!1),s}function fg(r){let s=x.useContext(ng);return s||Ke(!1),s}function xg(r){let s=x.useContext(rs);return s||Ke(!1),s}function Sm(r){let s=xg(),a=s.matches[s.matches.length-1];return a.route.id||Ke(!1),a.route.id}function gg(){var r;let s=x.useContext(vm),a=fg(),o=Sm();return s!==void 0?s:(r=a.errors)==null?void 0:r[o]}function vg(){let{router:r}=pg(Nm.UseNavigateStable),s=Sm(km.UseNavigateStable),a=x.useRef(!1);return bm(()=>{a.current=!0}),x.useCallback(function(c,u){u===void 0&&(u={}),a.current&&(typeof c=="number"?r.navigate(c):r.navigate(c,_r({fromRouteId:s},u)))},[r,s])}const Nh={};function bg(r,s,a){Nh[r]||(Nh[r]=!0)}function yg(r,s){r?.v7_startTransition,r?.v7_relativeSplatPath}function kh(r){let{to:s,replace:a,state:o,relative:c}=r;$n()||Ke(!1);let{future:u,static:m}=x.useContext(Bs),{matches:p}=x.useContext(rs),{pathname:f}=Fs(),v=He(),b=ic(s,ac(p,u.v7_relativeSplatPath),f,c==="path"),g=JSON.stringify(b);return x.useEffect(()=>v(JSON.parse(g),{replace:a,state:o,relative:c}),[v,g,c,a,o]),null}function Mn(r){return ig(r.context)}function Me(r){Ke(!1)}function jg(r){let{basename:s="/",children:a=null,location:o,navigationType:c=Ms.Pop,navigator:u,static:m=!1,future:p}=r;$n()&&Ke(!1);let f=s.replace(/^\/*/,"/"),v=x.useMemo(()=>({basename:f,navigator:u,static:m,future:_r({v7_relativeSplatPath:!1},p)}),[f,p,u,m]);typeof o=="string"&&(o=Fn(o));let{pathname:b="/",search:g="",hash:k="",state:N=null,key:j="default"}=o,w=x.useMemo(()=>{let S=rc(b,f);return S==null?null:{location:{pathname:S,search:g,hash:k,state:N,key:j},navigationType:c}},[f,b,g,k,N,j,c]);return w==null?null:x.createElement(Bs.Provider,{value:v},x.createElement(fi.Provider,{children:a,value:w}))}function wg(r){let{children:s,location:a}=r;return og(Bl(s),a)}new Promise(()=>{});function Bl(r,s){s===void 0&&(s=[]);let a=[];return x.Children.forEach(r,(o,c)=>{if(!x.isValidElement(o))return;let u=[...s,c];if(o.type===x.Fragment){a.push.apply(a,Bl(o.props.children,u));return}o.type!==Me&&Ke(!1),!o.props.index||!o.props.children||Ke(!1);let m={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(m.children=Bl(o.props.children,u)),a.push(m)}),a}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fl(){return Fl=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Fl.apply(this,arguments)}function Ng(r,s){if(r==null)return{};var a={},o=Object.keys(r),c,u;for(u=0;u<o.length;u++)c=o[u],!(s.indexOf(c)>=0)&&(a[c]=r[c]);return a}function kg(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Sg(r,s){return r.button===0&&(!s||s==="_self")&&!kg(r)}function $l(r){return r===void 0&&(r=""),new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((s,a)=>{let o=r[a];return s.concat(Array.isArray(o)?o.map(c=>[a,c]):[[a,o]])},[]))}function Cg(r,s){let a=$l(r);return s&&s.forEach((o,c)=>{a.has(c)||s.getAll(c).forEach(u=>{a.append(c,u)})}),a}const Eg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Lg="6";try{window.__reactRouterVersion=Lg}catch{}const Pg="startTransition",Sh=kx[Pg];function Tg(r){let{basename:s,children:a,future:o,window:c}=r,u=x.useRef();u.current==null&&(u.current=Ax({window:c,v5Compat:!0}));let m=u.current,[p,f]=x.useState({action:m.action,location:m.location}),{v7_startTransition:v}=o||{},b=x.useCallback(g=>{v&&Sh?Sh(()=>f(g)):f(g)},[f,v]);return x.useLayoutEffect(()=>m.listen(b),[m,b]),x.useEffect(()=>yg(o),[o]),x.createElement(jg,{basename:s,children:a,location:p.location,navigationType:p.action,navigator:m,future:o})}const Ag=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Rg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pt=x.forwardRef(function(s,a){let{onClick:o,relative:c,reloadDocument:u,replace:m,state:p,target:f,to:v,preventScrollReset:b,viewTransition:g}=s,k=Ng(s,Eg),{basename:N}=x.useContext(Bs),j,w=!1;if(typeof v=="string"&&Rg.test(v)&&(j=v,Ag))try{let I=new URL(window.location.href),V=v.startsWith("//")?new URL(I.protocol+v):new URL(v),ee=rc(V.pathname,N);V.origin===I.origin&&ee!=null?v=ee+V.search+V.hash:w=!0}catch{}let S=rg(v,{relative:c}),_=Dg(v,{replace:m,state:p,target:f,preventScrollReset:b,relative:c,viewTransition:g});function T(I){o&&o(I),I.defaultPrevented||_(I)}return x.createElement("a",Fl({},k,{href:j||S,onClick:w||u?o:T,ref:a,target:f}))});var Ch;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Ch||(Ch={}));var Eh;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Eh||(Eh={}));function Dg(r,s){let{target:a,replace:o,state:c,preventScrollReset:u,relative:m,viewTransition:p}=s===void 0?{}:s,f=He(),v=Fs(),b=wm(r,{relative:m});return x.useCallback(g=>{if(Sg(g,a)){g.preventDefault();let k=o!==void 0?o:ii(v)===ii(b);f(r,{replace:k,state:c,preventScrollReset:u,relative:m,viewTransition:p})}},[v,f,b,o,c,a,r,u,m,p])}function xi(r){let s=x.useRef($l(r)),a=x.useRef(!1),o=Fs(),c=x.useMemo(()=>Cg(o.search,a.current?null:s.current),[o.search]),u=He(),m=x.useCallback((p,f)=>{const v=$l(typeof p=="function"?p(c):p);a.current=!0,u("?"+v,f)},[u,c]);return[c,m]}class Or{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){const a={listener:s};return this.listeners.add(a),this.onSubscribe(),()=>{this.listeners.delete(a),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Mr=typeof window>"u"||"Deno"in window;function Ot(){}function _g(r,s){return typeof r=="function"?r(s):r}function Ul(r){return typeof r=="number"&&r>=0&&r!==1/0}function Cm(r,s){return Math.max(r+(s||0)-Date.now(),0)}function Ar(r,s,a){return gi(r)?typeof s=="function"?{...a,queryKey:r,queryFn:s}:{...s,queryKey:r}:r}function _s(r,s,a){return gi(r)?[{...s,queryKey:r},a]:[r||{},s]}function Lh(r,s){const{type:a="all",exact:o,fetchStatus:c,predicate:u,queryKey:m,stale:p}=r;if(gi(m)){if(o){if(s.queryHash!==lc(m,s.options))return!1}else if(!oi(s.queryKey,m))return!1}if(a!=="all"){const f=s.isActive();if(a==="active"&&!f||a==="inactive"&&f)return!1}return!(typeof p=="boolean"&&s.isStale()!==p||typeof c<"u"&&c!==s.state.fetchStatus||u&&!u(s))}function Ph(r,s){const{exact:a,fetching:o,predicate:c,mutationKey:u}=r;if(gi(u)){if(!s.options.mutationKey)return!1;if(a){if(Zs(s.options.mutationKey)!==Zs(u))return!1}else if(!oi(s.options.mutationKey,u))return!1}return!(typeof o=="boolean"&&s.state.status==="loading"!==o||c&&!c(s))}function lc(r,s){return(s?.queryKeyHashFn||Zs)(r)}function Zs(r){return JSON.stringify(r,(s,a)=>Vl(a)?Object.keys(a).sort().reduce((o,c)=>(o[c]=a[c],o),{}):a)}function oi(r,s){return Em(r,s)}function Em(r,s){return r===s?!0:typeof r!=typeof s?!1:r&&s&&typeof r=="object"&&typeof s=="object"?!Object.keys(s).some(a=>!Em(r[a],s[a])):!1}function Lm(r,s){if(r===s)return r;const a=Th(r)&&Th(s);if(a||Vl(r)&&Vl(s)){const o=a?r.length:Object.keys(r).length,c=a?s:Object.keys(s),u=c.length,m=a?[]:{};let p=0;for(let f=0;f<u;f++){const v=a?f:c[f];m[v]=Lm(r[v],s[v]),m[v]===r[v]&&p++}return o===u&&p===o?r:m}return s}function zl(r,s){if(r&&!s||s&&!r)return!1;for(const a in r)if(r[a]!==s[a])return!1;return!0}function Th(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function Vl(r){if(!Ah(r))return!1;const s=r.constructor;if(typeof s>"u")return!0;const a=s.prototype;return!(!Ah(a)||!a.hasOwnProperty("isPrototypeOf"))}function Ah(r){return Object.prototype.toString.call(r)==="[object Object]"}function gi(r){return Array.isArray(r)}function Pm(r){return new Promise(s=>{setTimeout(s,r)})}function Rh(r){Pm(0).then(r)}function Mg(){if(typeof AbortController=="function")return new AbortController}function Wl(r,s,a){return a.isDataEqual!=null&&a.isDataEqual(r,s)?r:typeof a.structuralSharing=="function"?a.structuralSharing(r,s):a.structuralSharing!==!1?Lm(r,s):s}class Ig extends Or{constructor(){super(),this.setup=s=>{if(!Mr&&window.addEventListener){const a=()=>s();return window.addEventListener("visibilitychange",a,!1),window.addEventListener("focus",a,!1),()=>{window.removeEventListener("visibilitychange",a),window.removeEventListener("focus",a)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var s;(s=this.cleanup)==null||s.call(this),this.cleanup=void 0}}setEventListener(s){var a;this.setup=s,(a=this.cleanup)==null||a.call(this),this.cleanup=s(o=>{typeof o=="boolean"?this.setFocused(o):this.onFocus()})}setFocused(s){this.focused!==s&&(this.focused=s,this.onFocus())}onFocus(){this.listeners.forEach(({listener:s})=>{s()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const li=new Ig,Dh=["online","offline"];class Og extends Or{constructor(){super(),this.setup=s=>{if(!Mr&&window.addEventListener){const a=()=>s();return Dh.forEach(o=>{window.addEventListener(o,a,!1)}),()=>{Dh.forEach(o=>{window.removeEventListener(o,a)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var s;(s=this.cleanup)==null||s.call(this),this.cleanup=void 0}}setEventListener(s){var a;this.setup=s,(a=this.cleanup)==null||a.call(this),this.cleanup=s(o=>{typeof o=="boolean"?this.setOnline(o):this.onOnline()})}setOnline(s){this.online!==s&&(this.online=s,this.onOnline())}onOnline(){this.listeners.forEach(({listener:s})=>{s()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const ci=new Og;function Bg(r){return Math.min(1e3*2**r,3e4)}function vi(r){return(r??"online")==="online"?ci.isOnline():!0}class Tm{constructor(s){this.revert=s?.revert,this.silent=s?.silent}}function Ya(r){return r instanceof Tm}function Am(r){let s=!1,a=0,o=!1,c,u,m;const p=new Promise((S,_)=>{u=S,m=_}),f=S=>{o||(N(new Tm(S)),r.abort==null||r.abort())},v=()=>{s=!0},b=()=>{s=!1},g=()=>!li.isFocused()||r.networkMode!=="always"&&!ci.isOnline(),k=S=>{o||(o=!0,r.onSuccess==null||r.onSuccess(S),c?.(),u(S))},N=S=>{o||(o=!0,r.onError==null||r.onError(S),c?.(),m(S))},j=()=>new Promise(S=>{c=_=>{const T=o||!g();return T&&S(_),T},r.onPause==null||r.onPause()}).then(()=>{c=void 0,o||r.onContinue==null||r.onContinue()}),w=()=>{if(o)return;let S;try{S=r.fn()}catch(_){S=Promise.reject(_)}Promise.resolve(S).then(k).catch(_=>{var T,I;if(o)return;const V=(T=r.retry)!=null?T:3,ee=(I=r.retryDelay)!=null?I:Bg,F=typeof ee=="function"?ee(a,_):ee,q=V===!0||typeof V=="number"&&a<V||typeof V=="function"&&V(a,_);if(s||!q){N(_);return}a++,r.onFail==null||r.onFail(a,_),Pm(F).then(()=>{if(g())return j()}).then(()=>{s?N(_):w()})})};return vi(r.networkMode)?w():j().then(w),{promise:p,cancel:f,continue:()=>c?.()?p:Promise.resolve(),cancelRetry:v,continueRetry:b}}const cc=console;function Fg(){let r=[],s=0,a=b=>{b()},o=b=>{b()};const c=b=>{let g;s++;try{g=b()}finally{s--,s||p()}return g},u=b=>{s?r.push(b):Rh(()=>{a(b)})},m=b=>(...g)=>{u(()=>{b(...g)})},p=()=>{const b=r;r=[],b.length&&Rh(()=>{o(()=>{b.forEach(g=>{a(g)})})})};return{batch:c,batchCalls:m,schedule:u,setNotifyFunction:b=>{a=b},setBatchNotifyFunction:b=>{o=b}}}const Ye=Fg();class Rm{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ul(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(s){this.cacheTime=Math.max(this.cacheTime||0,s??(Mr?1/0:300*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class $g extends Rm{constructor(s){super(),this.abortSignalConsumed=!1,this.defaultOptions=s.defaultOptions,this.setOptions(s.options),this.observers=[],this.cache=s.cache,this.logger=s.logger||cc,this.queryKey=s.queryKey,this.queryHash=s.queryHash,this.initialState=s.state||Ug(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(s){this.options={...this.defaultOptions,...s},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(s,a){const o=Wl(this.state.data,s,this.options);return this.dispatch({data:o,type:"success",dataUpdatedAt:a?.updatedAt,manual:a?.manual}),o}setState(s,a){this.dispatch({type:"setState",state:s,setStateOptions:a})}cancel(s){var a;const o=this.promise;return(a=this.retryer)==null||a.cancel(s),o?o.then(Ot).catch(Ot):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(s=>s.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(s=>s.getCurrentResult().isStale)}isStaleByTime(s=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!Cm(this.state.dataUpdatedAt,s)}onFocus(){var s;const a=this.observers.find(o=>o.shouldFetchOnWindowFocus());a&&a.refetch({cancelRefetch:!1}),(s=this.retryer)==null||s.continue()}onOnline(){var s;const a=this.observers.find(o=>o.shouldFetchOnReconnect());a&&a.refetch({cancelRefetch:!1}),(s=this.retryer)==null||s.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(a=>a!==s),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(s,a){var o,c;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&a!=null&&a.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(s&&this.setOptions(s),!this.options.queryFn){const N=this.observers.find(j=>j.options.queryFn);N&&this.setOptions(N.options)}const m=Mg(),p={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},f=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>{if(m)return this.abortSignalConsumed=!0,m.signal}})};f(p);const v=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(p)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),b={fetchOptions:a,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:v};if(f(b),(o=this.options.behavior)==null||o.onFetch(b),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=b.fetchOptions)==null?void 0:c.meta)){var g;this.dispatch({type:"fetch",meta:(g=b.fetchOptions)==null?void 0:g.meta})}const k=N=>{if(Ya(N)&&N.silent||this.dispatch({type:"error",error:N}),!Ya(N)){var j,w,S,_;(j=(w=this.cache.config).onError)==null||j.call(w,N,this),(S=(_=this.cache.config).onSettled)==null||S.call(_,this.state.data,N,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=Am({fn:b.fetchFn,abort:m?.abort.bind(m),onSuccess:N=>{var j,w,S,_;if(typeof N>"u"){k(new Error(this.queryHash+" data is undefined"));return}this.setData(N),(j=(w=this.cache.config).onSuccess)==null||j.call(w,N,this),(S=(_=this.cache.config).onSettled)==null||S.call(_,N,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:k,onFail:(N,j)=>{this.dispatch({type:"failed",failureCount:N,error:j})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:b.options.retry,retryDelay:b.options.retryDelay,networkMode:b.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(s){const a=o=>{var c,u;switch(s.type){case"failed":return{...o,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(c=s.meta)!=null?c:null,fetchStatus:vi(this.options.networkMode)?"fetching":"paused",...!o.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...o,data:s.data,dataUpdateCount:o.dataUpdateCount+1,dataUpdatedAt:(u=s.dataUpdatedAt)!=null?u:Date.now(),error:null,isInvalidated:!1,status:"success",...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const m=s.error;return Ya(m)&&m.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...o,error:m,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:m,fetchStatus:"idle",status:"error"};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...s.state}}};this.state=a(this.state),Ye.batch(()=>{this.observers.forEach(o=>{o.onQueryUpdate(s)}),this.cache.notify({query:this,type:"updated",action:s})})}}function Ug(r){const s=typeof r.initialData=="function"?r.initialData():r.initialData,a=typeof s<"u",o=a?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:a?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"loading",fetchStatus:"idle"}}class zg extends Or{constructor(s){super(),this.config=s||{},this.queries=[],this.queriesMap={}}build(s,a,o){var c;const u=a.queryKey,m=(c=a.queryHash)!=null?c:lc(u,a);let p=this.get(m);return p||(p=new $g({cache:this,logger:s.getLogger(),queryKey:u,queryHash:m,options:s.defaultQueryOptions(a),state:o,defaultOptions:s.getQueryDefaults(u)}),this.add(p)),p}add(s){this.queriesMap[s.queryHash]||(this.queriesMap[s.queryHash]=s,this.queries.push(s),this.notify({type:"added",query:s}))}remove(s){const a=this.queriesMap[s.queryHash];a&&(s.destroy(),this.queries=this.queries.filter(o=>o!==s),a===s&&delete this.queriesMap[s.queryHash],this.notify({type:"removed",query:s}))}clear(){Ye.batch(()=>{this.queries.forEach(s=>{this.remove(s)})})}get(s){return this.queriesMap[s]}getAll(){return this.queries}find(s,a){const[o]=_s(s,a);return typeof o.exact>"u"&&(o.exact=!0),this.queries.find(c=>Lh(o,c))}findAll(s,a){const[o]=_s(s,a);return Object.keys(o).length>0?this.queries.filter(c=>Lh(o,c)):this.queries}notify(s){Ye.batch(()=>{this.listeners.forEach(({listener:a})=>{a(s)})})}onFocus(){Ye.batch(()=>{this.queries.forEach(s=>{s.onFocus()})})}onOnline(){Ye.batch(()=>{this.queries.forEach(s=>{s.onOnline()})})}}class Vg extends Rm{constructor(s){super(),this.defaultOptions=s.defaultOptions,this.mutationId=s.mutationId,this.mutationCache=s.mutationCache,this.logger=s.logger||cc,this.observers=[],this.state=s.state||Wg(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options={...this.defaultOptions,...s},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(s){this.dispatch({type:"setState",state:s})}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){this.observers=this.observers.filter(a=>a!==s),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var s,a;return(s=(a=this.retryer)==null?void 0:a.continue())!=null?s:this.execute()}async execute(){const s=()=>{var q;return this.retryer=Am({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(Y,M)=>{this.dispatch({type:"failed",failureCount:Y,error:M})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(q=this.options.retry)!=null?q:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},a=this.state.status==="loading";try{var o,c,u,m,p,f,v,b;if(!a){var g,k,N,j;this.dispatch({type:"loading",variables:this.options.variables}),await((g=(k=this.mutationCache.config).onMutate)==null?void 0:g.call(k,this.state.variables,this));const Y=await((N=(j=this.options).onMutate)==null?void 0:N.call(j,this.state.variables));Y!==this.state.context&&this.dispatch({type:"loading",context:Y,variables:this.state.variables})}const q=await s();return await((o=(c=this.mutationCache.config).onSuccess)==null?void 0:o.call(c,q,this.state.variables,this.state.context,this)),await((u=(m=this.options).onSuccess)==null?void 0:u.call(m,q,this.state.variables,this.state.context)),await((p=(f=this.mutationCache.config).onSettled)==null?void 0:p.call(f,q,null,this.state.variables,this.state.context,this)),await((v=(b=this.options).onSettled)==null?void 0:v.call(b,q,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:q}),q}catch(q){try{var w,S,_,T,I,V,ee,F;throw await((w=(S=this.mutationCache.config).onError)==null?void 0:w.call(S,q,this.state.variables,this.state.context,this)),await((_=(T=this.options).onError)==null?void 0:_.call(T,q,this.state.variables,this.state.context)),await((I=(V=this.mutationCache.config).onSettled)==null?void 0:I.call(V,void 0,q,this.state.variables,this.state.context,this)),await((ee=(F=this.options).onSettled)==null?void 0:ee.call(F,void 0,q,this.state.variables,this.state.context)),q}finally{this.dispatch({type:"error",error:q})}}}dispatch(s){const a=o=>{switch(s.type){case"failed":return{...o,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"loading":return{...o,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!vi(this.options.networkMode),status:"loading",variables:s.variables};case"success":return{...o,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:s.error,failureCount:o.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"};case"setState":return{...o,...s.state}}};this.state=a(this.state),Ye.batch(()=>{this.observers.forEach(o=>{o.onMutationUpdate(s)}),this.mutationCache.notify({mutation:this,type:"updated",action:s})})}}function Wg(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class Hg extends Or{constructor(s){super(),this.config=s||{},this.mutations=[],this.mutationId=0}build(s,a,o){const c=new Vg({mutationCache:this,logger:s.getLogger(),mutationId:++this.mutationId,options:s.defaultMutationOptions(a),state:o,defaultOptions:a.mutationKey?s.getMutationDefaults(a.mutationKey):void 0});return this.add(c),c}add(s){this.mutations.push(s),this.notify({type:"added",mutation:s})}remove(s){this.mutations=this.mutations.filter(a=>a!==s),this.notify({type:"removed",mutation:s})}clear(){Ye.batch(()=>{this.mutations.forEach(s=>{this.remove(s)})})}getAll(){return this.mutations}find(s){return typeof s.exact>"u"&&(s.exact=!0),this.mutations.find(a=>Ph(s,a))}findAll(s){return this.mutations.filter(a=>Ph(s,a))}notify(s){Ye.batch(()=>{this.listeners.forEach(({listener:a})=>{a(s)})})}resumePausedMutations(){var s;return this.resuming=((s=this.resuming)!=null?s:Promise.resolve()).then(()=>{const a=this.mutations.filter(o=>o.state.isPaused);return Ye.batch(()=>a.reduce((o,c)=>o.then(()=>c.continue().catch(Ot)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function qg(){return{onFetch:r=>{r.fetchFn=()=>{var s,a,o,c,u,m;const p=(s=r.fetchOptions)==null||(a=s.meta)==null?void 0:a.refetchPage,f=(o=r.fetchOptions)==null||(c=o.meta)==null?void 0:c.fetchMore,v=f?.pageParam,b=f?.direction==="forward",g=f?.direction==="backward",k=((u=r.state.data)==null?void 0:u.pages)||[],N=((m=r.state.data)==null?void 0:m.pageParams)||[];let j=N,w=!1;const S=F=>{Object.defineProperty(F,"signal",{enumerable:!0,get:()=>{var q;if((q=r.signal)!=null&&q.aborted)w=!0;else{var Y;(Y=r.signal)==null||Y.addEventListener("abort",()=>{w=!0})}return r.signal}})},_=r.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+r.options.queryHash+"'")),T=(F,q,Y,M)=>(j=M?[q,...j]:[...j,q],M?[Y,...F]:[...F,Y]),I=(F,q,Y,M)=>{if(w)return Promise.reject("Cancelled");if(typeof Y>"u"&&!q&&F.length)return Promise.resolve(F);const B={queryKey:r.queryKey,pageParam:Y,meta:r.options.meta};S(B);const J=_(B);return Promise.resolve(J).then(le=>T(F,Y,le,M))};let V;if(!k.length)V=I([]);else if(b){const F=typeof v<"u",q=F?v:_h(r.options,k);V=I(k,F,q)}else if(g){const F=typeof v<"u",q=F?v:Qg(r.options,k);V=I(k,F,q,!0)}else{j=[];const F=typeof r.options.getNextPageParam>"u";V=(p&&k[0]?p(k[0],0,k):!0)?I([],F,N[0]):Promise.resolve(T([],N[0],k[0]));for(let Y=1;Y<k.length;Y++)V=V.then(M=>{if(p&&k[Y]?p(k[Y],Y,k):!0){const J=F?N[Y]:_h(r.options,M);return I(M,F,J)}return Promise.resolve(T(M,N[Y],k[Y]))})}return V.then(F=>({pages:F,pageParams:j}))}}}}function _h(r,s){return r.getNextPageParam==null?void 0:r.getNextPageParam(s[s.length-1],s)}function Qg(r,s){return r.getPreviousPageParam==null?void 0:r.getPreviousPageParam(s[0],s)}class Kg{constructor(s={}){this.queryCache=s.queryCache||new zg,this.mutationCache=s.mutationCache||new Hg,this.logger=s.logger||cc,this.defaultOptions=s.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=li.subscribe(()=>{li.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=ci.subscribe(()=>{ci.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var s,a;this.mountCount--,this.mountCount===0&&((s=this.unsubscribeFocus)==null||s.call(this),this.unsubscribeFocus=void 0,(a=this.unsubscribeOnline)==null||a.call(this),this.unsubscribeOnline=void 0)}isFetching(s,a){const[o]=_s(s,a);return o.fetchStatus="fetching",this.queryCache.findAll(o).length}isMutating(s){return this.mutationCache.findAll({...s,fetching:!0}).length}getQueryData(s,a){var o;return(o=this.queryCache.find(s,a))==null?void 0:o.state.data}ensureQueryData(s,a,o){const c=Ar(s,a,o),u=this.getQueryData(c.queryKey);return u?Promise.resolve(u):this.fetchQuery(c)}getQueriesData(s){return this.getQueryCache().findAll(s).map(({queryKey:a,state:o})=>{const c=o.data;return[a,c]})}setQueryData(s,a,o){const c=this.queryCache.find(s),u=c?.state.data,m=_g(a,u);if(typeof m>"u")return;const p=Ar(s),f=this.defaultQueryOptions(p);return this.queryCache.build(this,f).setData(m,{...o,manual:!0})}setQueriesData(s,a,o){return Ye.batch(()=>this.getQueryCache().findAll(s).map(({queryKey:c})=>[c,this.setQueryData(c,a,o)]))}getQueryState(s,a){var o;return(o=this.queryCache.find(s,a))==null?void 0:o.state}removeQueries(s,a){const[o]=_s(s,a),c=this.queryCache;Ye.batch(()=>{c.findAll(o).forEach(u=>{c.remove(u)})})}resetQueries(s,a,o){const[c,u]=_s(s,a,o),m=this.queryCache,p={type:"active",...c};return Ye.batch(()=>(m.findAll(c).forEach(f=>{f.reset()}),this.refetchQueries(p,u)))}cancelQueries(s,a,o){const[c,u={}]=_s(s,a,o);typeof u.revert>"u"&&(u.revert=!0);const m=Ye.batch(()=>this.queryCache.findAll(c).map(p=>p.cancel(u)));return Promise.all(m).then(Ot).catch(Ot)}invalidateQueries(s,a,o){const[c,u]=_s(s,a,o);return Ye.batch(()=>{var m,p;if(this.queryCache.findAll(c).forEach(v=>{v.invalidate()}),c.refetchType==="none")return Promise.resolve();const f={...c,type:(m=(p=c.refetchType)!=null?p:c.type)!=null?m:"active"};return this.refetchQueries(f,u)})}refetchQueries(s,a,o){const[c,u]=_s(s,a,o),m=Ye.batch(()=>this.queryCache.findAll(c).filter(f=>!f.isDisabled()).map(f=>{var v;return f.fetch(void 0,{...u,cancelRefetch:(v=u?.cancelRefetch)!=null?v:!0,meta:{refetchPage:c.refetchPage}})}));let p=Promise.all(m).then(Ot);return u!=null&&u.throwOnError||(p=p.catch(Ot)),p}fetchQuery(s,a,o){const c=Ar(s,a,o),u=this.defaultQueryOptions(c);typeof u.retry>"u"&&(u.retry=!1);const m=this.queryCache.build(this,u);return m.isStaleByTime(u.staleTime)?m.fetch(u):Promise.resolve(m.state.data)}prefetchQuery(s,a,o){return this.fetchQuery(s,a,o).then(Ot).catch(Ot)}fetchInfiniteQuery(s,a,o){const c=Ar(s,a,o);return c.behavior=qg(),this.fetchQuery(c)}prefetchInfiniteQuery(s,a,o){return this.fetchInfiniteQuery(s,a,o).then(Ot).catch(Ot)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(s){this.defaultOptions=s}setQueryDefaults(s,a){const o=this.queryDefaults.find(c=>Zs(s)===Zs(c.queryKey));o?o.defaultOptions=a:this.queryDefaults.push({queryKey:s,defaultOptions:a})}getQueryDefaults(s){if(!s)return;const a=this.queryDefaults.find(o=>oi(s,o.queryKey));return a?.defaultOptions}setMutationDefaults(s,a){const o=this.mutationDefaults.find(c=>Zs(s)===Zs(c.mutationKey));o?o.defaultOptions=a:this.mutationDefaults.push({mutationKey:s,defaultOptions:a})}getMutationDefaults(s){if(!s)return;const a=this.mutationDefaults.find(o=>oi(s,o.mutationKey));return a?.defaultOptions}defaultQueryOptions(s){if(s!=null&&s._defaulted)return s;const a={...this.defaultOptions.queries,...this.getQueryDefaults(s?.queryKey),...s,_defaulted:!0};return!a.queryHash&&a.queryKey&&(a.queryHash=lc(a.queryKey,a)),typeof a.refetchOnReconnect>"u"&&(a.refetchOnReconnect=a.networkMode!=="always"),typeof a.useErrorBoundary>"u"&&(a.useErrorBoundary=!!a.suspense),a}defaultMutationOptions(s){return s!=null&&s._defaulted?s:{...this.defaultOptions.mutations,...this.getMutationDefaults(s?.mutationKey),...s,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class Gg extends Or{constructor(s,a){super(),this.client=s,this.options=a,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(a)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),Mh(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Hl(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Hl(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(s,a){const o=this.options,c=this.currentQuery;if(this.options=this.client.defaultQueryOptions(s),zl(o,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();const u=this.hasListeners();u&&Ih(this.currentQuery,c,this.options,o)&&this.executeFetch(),this.updateResult(a),u&&(this.currentQuery!==c||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();const m=this.computeRefetchInterval();u&&(this.currentQuery!==c||this.options.enabled!==o.enabled||m!==this.currentRefetchInterval)&&this.updateRefetchInterval(m)}getOptimisticResult(s){const a=this.client.getQueryCache().build(this.client,s),o=this.createResult(a,s);return Yg(this,o,s)&&(this.currentResult=o,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),o}getCurrentResult(){return this.currentResult}trackResult(s){const a={};return Object.keys(s).forEach(o=>{Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(o),s[o])})}),a}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:s,...a}={}){return this.fetch({...a,meta:{refetchPage:s}})}fetchOptimistic(s){const a=this.client.defaultQueryOptions(s),o=this.client.getQueryCache().build(this.client,a);return o.isFetchingOptimistic=!0,o.fetch().then(()=>this.createResult(o,a))}fetch(s){var a;return this.executeFetch({...s,cancelRefetch:(a=s.cancelRefetch)!=null?a:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(s){this.updateQuery();let a=this.currentQuery.fetch(this.options,s);return s!=null&&s.throwOnError||(a=a.catch(Ot)),a}updateStaleTimeout(){if(this.clearStaleTimeout(),Mr||this.currentResult.isStale||!Ul(this.options.staleTime))return;const a=Cm(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},a)}computeRefetchInterval(){var s;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(s=this.options.refetchInterval)!=null?s:!1}updateRefetchInterval(s){this.clearRefetchInterval(),this.currentRefetchInterval=s,!(Mr||this.options.enabled===!1||!Ul(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||li.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(s,a){const o=this.currentQuery,c=this.options,u=this.currentResult,m=this.currentResultState,p=this.currentResultOptions,f=s!==o,v=f?s.state:this.currentQueryInitialState,b=f?this.currentResult:this.previousQueryResult,{state:g}=s;let{dataUpdatedAt:k,error:N,errorUpdatedAt:j,fetchStatus:w,status:S}=g,_=!1,T=!1,I;if(a._optimisticResults){const Y=this.hasListeners(),M=!Y&&Mh(s,a),B=Y&&Ih(s,o,a,c);(M||B)&&(w=vi(s.options.networkMode)?"fetching":"paused",k||(S="loading")),a._optimisticResults==="isRestoring"&&(w="idle")}if(a.keepPreviousData&&!g.dataUpdatedAt&&b!=null&&b.isSuccess&&S!=="error")I=b.data,k=b.dataUpdatedAt,S=b.status,_=!0;else if(a.select&&typeof g.data<"u")if(u&&g.data===m?.data&&a.select===this.selectFn)I=this.selectResult;else try{this.selectFn=a.select,I=a.select(g.data),I=Wl(u?.data,I,a),this.selectResult=I,this.selectError=null}catch(Y){this.selectError=Y}else I=g.data;if(typeof a.placeholderData<"u"&&typeof I>"u"&&S==="loading"){let Y;if(u!=null&&u.isPlaceholderData&&a.placeholderData===p?.placeholderData)Y=u.data;else if(Y=typeof a.placeholderData=="function"?a.placeholderData():a.placeholderData,a.select&&typeof Y<"u")try{Y=a.select(Y),this.selectError=null}catch(M){this.selectError=M}typeof Y<"u"&&(S="success",I=Wl(u?.data,Y,a),T=!0)}this.selectError&&(N=this.selectError,I=this.selectResult,j=Date.now(),S="error");const V=w==="fetching",ee=S==="loading",F=S==="error";return{status:S,fetchStatus:w,isLoading:ee,isSuccess:S==="success",isError:F,isInitialLoading:ee&&V,data:I,dataUpdatedAt:k,error:N,errorUpdatedAt:j,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>v.dataUpdateCount||g.errorUpdateCount>v.errorUpdateCount,isFetching:V,isRefetching:V&&!ee,isLoadingError:F&&g.dataUpdatedAt===0,isPaused:w==="paused",isPlaceholderData:T,isPreviousData:_,isRefetchError:F&&g.dataUpdatedAt!==0,isStale:dc(s,a),refetch:this.refetch,remove:this.remove}}updateResult(s){const a=this.currentResult,o=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,zl(o,a))return;this.currentResult=o;const c={cache:!0},u=()=>{if(!a)return!0;const{notifyOnChangeProps:m}=this.options,p=typeof m=="function"?m():m;if(p==="all"||!p&&!this.trackedProps.size)return!0;const f=new Set(p??this.trackedProps);return this.options.useErrorBoundary&&f.add("error"),Object.keys(this.currentResult).some(v=>{const b=v;return this.currentResult[b]!==a[b]&&f.has(b)})};s?.listeners!==!1&&u()&&(c.listeners=!0),this.notify({...c,...s})}updateQuery(){const s=this.client.getQueryCache().build(this.client,this.options);if(s===this.currentQuery)return;const a=this.currentQuery;this.currentQuery=s,this.currentQueryInitialState=s.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(a?.removeObserver(this),s.addObserver(this))}onQueryUpdate(s){const a={};s.type==="success"?a.onSuccess=!s.manual:s.type==="error"&&!Ya(s.error)&&(a.onError=!0),this.updateResult(a),this.hasListeners()&&this.updateTimers()}notify(s){Ye.batch(()=>{if(s.onSuccess){var a,o,c,u;(a=(o=this.options).onSuccess)==null||a.call(o,this.currentResult.data),(c=(u=this.options).onSettled)==null||c.call(u,this.currentResult.data,null)}else if(s.onError){var m,p,f,v;(m=(p=this.options).onError)==null||m.call(p,this.currentResult.error),(f=(v=this.options).onSettled)==null||f.call(v,void 0,this.currentResult.error)}s.listeners&&this.listeners.forEach(({listener:b})=>{b(this.currentResult)}),s.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Jg(r,s){return s.enabled!==!1&&!r.state.dataUpdatedAt&&!(r.state.status==="error"&&s.retryOnMount===!1)}function Mh(r,s){return Jg(r,s)||r.state.dataUpdatedAt>0&&Hl(r,s,s.refetchOnMount)}function Hl(r,s,a){if(s.enabled!==!1){const o=typeof a=="function"?a(r):a;return o==="always"||o!==!1&&dc(r,s)}return!1}function Ih(r,s,a,o){return a.enabled!==!1&&(r!==s||o.enabled===!1)&&(!a.suspense||r.state.status!=="error")&&dc(r,a)}function dc(r,s){return r.isStaleByTime(s.staleTime)}function Yg(r,s,a){return a.keepPreviousData?!1:a.placeholderData!==void 0?s.isPlaceholderData:!zl(r.getCurrentResult(),s)}var Cl={exports:{}},El={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oh;function Xg(){if(Oh)return El;Oh=1;var r=pi();function s(g,k){return g===k&&(g!==0||1/g===1/k)||g!==g&&k!==k}var a=typeof Object.is=="function"?Object.is:s,o=r.useState,c=r.useEffect,u=r.useLayoutEffect,m=r.useDebugValue;function p(g,k){var N=k(),j=o({inst:{value:N,getSnapshot:k}}),w=j[0].inst,S=j[1];return u(function(){w.value=N,w.getSnapshot=k,f(w)&&S({inst:w})},[g,N,k]),c(function(){return f(w)&&S({inst:w}),g(function(){f(w)&&S({inst:w})})},[g]),m(N),N}function f(g){var k=g.getSnapshot;g=g.value;try{var N=k();return!a(g,N)}catch{return!0}}function v(g,k){return k()}var b=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v:p;return El.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:b,El}var Bh;function Zg(){return Bh||(Bh=1,Cl.exports=Xg()),Cl.exports}var e0=Zg();const t0=e0.useSyncExternalStore,Fh=x.createContext(void 0),Dm=x.createContext(!1);function _m(r,s){return r||(s&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Fh),window.ReactQueryClientContext):Fh)}const s0=({context:r}={})=>{const s=x.useContext(_m(r,x.useContext(Dm)));if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},n0=({client:r,children:s,context:a,contextSharing:o=!1})=>{x.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]);const c=_m(a,o);return x.createElement(Dm.Provider,{value:!a&&o},x.createElement(c.Provider,{value:r},s))},Mm=x.createContext(!1),r0=()=>x.useContext(Mm);Mm.Provider;function a0(){let r=!1;return{clearReset:()=>{r=!1},reset:()=>{r=!0},isReset:()=>r}}const i0=x.createContext(a0()),o0=()=>x.useContext(i0);function l0(r,s){return typeof r=="function"?r(...s):!!r}const c0=(r,s)=>{(r.suspense||r.useErrorBoundary)&&(s.isReset()||(r.retryOnMount=!1))},d0=r=>{x.useEffect(()=>{r.clearReset()},[r])},u0=({result:r,errorResetBoundary:s,useErrorBoundary:a,query:o})=>r.isError&&!s.isReset()&&!r.isFetching&&l0(a,[r.error,o]),h0=r=>{r.suspense&&typeof r.staleTime!="number"&&(r.staleTime=1e3)},m0=(r,s)=>r.isLoading&&r.isFetching&&!s,p0=(r,s,a)=>r?.suspense&&m0(s,a),f0=(r,s,a)=>s.fetchOptimistic(r).then(({data:o})=>{r.onSuccess==null||r.onSuccess(o),r.onSettled==null||r.onSettled(o,null)}).catch(o=>{a.clearReset(),r.onError==null||r.onError(o),r.onSettled==null||r.onSettled(void 0,o)});function x0(r,s){const a=s0({context:r.context}),o=r0(),c=o0(),u=a.defaultQueryOptions(r);u._optimisticResults=o?"isRestoring":"optimistic",u.onError&&(u.onError=Ye.batchCalls(u.onError)),u.onSuccess&&(u.onSuccess=Ye.batchCalls(u.onSuccess)),u.onSettled&&(u.onSettled=Ye.batchCalls(u.onSettled)),h0(u),c0(u,c),d0(c);const[m]=x.useState(()=>new s(a,u)),p=m.getOptimisticResult(u);if(t0(x.useCallback(f=>{const v=o?()=>{}:m.subscribe(Ye.batchCalls(f));return m.updateResult(),v},[m,o]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),x.useEffect(()=>{m.setOptions(u,{listeners:!1})},[u,m]),p0(u,p,o))throw f0(u,m,c);if(u0({result:p,errorResetBoundary:c,useErrorBoundary:u.useErrorBoundary,query:m.getCurrentQuery()}))throw p.error;return u.notifyOnChangeProps?p:m.trackResult(p)}function g0(r,s,a){const o=Ar(r,s,a);return x0(o,Gg)}function Im(r,s){return function(){return r.apply(s,arguments)}}const{toString:v0}=Object.prototype,{getPrototypeOf:uc}=Object,{iterator:bi,toStringTag:Om}=Symbol,yi=(r=>s=>{const a=v0.call(s);return r[a]||(r[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Kt=r=>(r=r.toLowerCase(),s=>yi(s)===r),ji=r=>s=>typeof s===r,{isArray:Un}=Array,Ir=ji("undefined");function b0(r){return r!==null&&!Ir(r)&&r.constructor!==null&&!Ir(r.constructor)&&wt(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const Bm=Kt("ArrayBuffer");function y0(r){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(r):s=r&&r.buffer&&Bm(r.buffer),s}const j0=ji("string"),wt=ji("function"),Fm=ji("number"),wi=r=>r!==null&&typeof r=="object",w0=r=>r===!0||r===!1,Xa=r=>{if(yi(r)!=="object")return!1;const s=uc(r);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Om in r)&&!(bi in r)},N0=Kt("Date"),k0=Kt("File"),S0=Kt("Blob"),C0=Kt("FileList"),E0=r=>wi(r)&&wt(r.pipe),L0=r=>{let s;return r&&(typeof FormData=="function"&&r instanceof FormData||wt(r.append)&&((s=yi(r))==="formdata"||s==="object"&&wt(r.toString)&&r.toString()==="[object FormData]"))},P0=Kt("URLSearchParams"),[T0,A0,R0,D0]=["ReadableStream","Request","Response","Headers"].map(Kt),_0=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Br(r,s,{allOwnKeys:a=!1}={}){if(r===null||typeof r>"u")return;let o,c;if(typeof r!="object"&&(r=[r]),Un(r))for(o=0,c=r.length;o<c;o++)s.call(null,r[o],o,r);else{const u=a?Object.getOwnPropertyNames(r):Object.keys(r),m=u.length;let p;for(o=0;o<m;o++)p=u[o],s.call(null,r[p],p,r)}}function $m(r,s){s=s.toLowerCase();const a=Object.keys(r);let o=a.length,c;for(;o-- >0;)if(c=a[o],s===c.toLowerCase())return c;return null}const en=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Um=r=>!Ir(r)&&r!==en;function ql(){const{caseless:r}=Um(this)&&this||{},s={},a=(o,c)=>{const u=r&&$m(s,c)||c;Xa(s[u])&&Xa(o)?s[u]=ql(s[u],o):Xa(o)?s[u]=ql({},o):Un(o)?s[u]=o.slice():s[u]=o};for(let o=0,c=arguments.length;o<c;o++)arguments[o]&&Br(arguments[o],a);return s}const M0=(r,s,a,{allOwnKeys:o}={})=>(Br(s,(c,u)=>{a&&wt(c)?r[u]=Im(c,a):r[u]=c},{allOwnKeys:o}),r),I0=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),O0=(r,s,a,o)=>{r.prototype=Object.create(s.prototype,o),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:s.prototype}),a&&Object.assign(r.prototype,a)},B0=(r,s,a,o)=>{let c,u,m;const p={};if(s=s||{},r==null)return s;do{for(c=Object.getOwnPropertyNames(r),u=c.length;u-- >0;)m=c[u],(!o||o(m,r,s))&&!p[m]&&(s[m]=r[m],p[m]=!0);r=a!==!1&&uc(r)}while(r&&(!a||a(r,s))&&r!==Object.prototype);return s},F0=(r,s,a)=>{r=String(r),(a===void 0||a>r.length)&&(a=r.length),a-=s.length;const o=r.indexOf(s,a);return o!==-1&&o===a},$0=r=>{if(!r)return null;if(Un(r))return r;let s=r.length;if(!Fm(s))return null;const a=new Array(s);for(;s-- >0;)a[s]=r[s];return a},U0=(r=>s=>r&&s instanceof r)(typeof Uint8Array<"u"&&uc(Uint8Array)),z0=(r,s)=>{const o=(r&&r[bi]).call(r);let c;for(;(c=o.next())&&!c.done;){const u=c.value;s.call(r,u[0],u[1])}},V0=(r,s)=>{let a;const o=[];for(;(a=r.exec(s))!==null;)o.push(a);return o},W0=Kt("HTMLFormElement"),H0=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,o,c){return o.toUpperCase()+c}),$h=(({hasOwnProperty:r})=>(s,a)=>r.call(s,a))(Object.prototype),q0=Kt("RegExp"),zm=(r,s)=>{const a=Object.getOwnPropertyDescriptors(r),o={};Br(a,(c,u)=>{let m;(m=s(c,u,r))!==!1&&(o[u]=m||c)}),Object.defineProperties(r,o)},Q0=r=>{zm(r,(s,a)=>{if(wt(r)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const o=r[a];if(wt(o)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},K0=(r,s)=>{const a={},o=c=>{c.forEach(u=>{a[u]=!0})};return Un(r)?o(r):o(String(r).split(s)),a},G0=()=>{},J0=(r,s)=>r!=null&&Number.isFinite(r=+r)?r:s;function Y0(r){return!!(r&&wt(r.append)&&r[Om]==="FormData"&&r[bi])}const X0=r=>{const s=new Array(10),a=(o,c)=>{if(wi(o)){if(s.indexOf(o)>=0)return;if(!("toJSON"in o)){s[c]=o;const u=Un(o)?[]:{};return Br(o,(m,p)=>{const f=a(m,c+1);!Ir(f)&&(u[p]=f)}),s[c]=void 0,u}}return o};return a(r,0)},Z0=Kt("AsyncFunction"),ev=r=>r&&(wi(r)||wt(r))&&wt(r.then)&&wt(r.catch),Vm=((r,s)=>r?setImmediate:s?((a,o)=>(en.addEventListener("message",({source:c,data:u})=>{c===en&&u===a&&o.length&&o.shift()()},!1),c=>{o.push(c),en.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",wt(en.postMessage)),tv=typeof queueMicrotask<"u"?queueMicrotask.bind(en):typeof process<"u"&&process.nextTick||Vm,sv=r=>r!=null&&wt(r[bi]),K={isArray:Un,isArrayBuffer:Bm,isBuffer:b0,isFormData:L0,isArrayBufferView:y0,isString:j0,isNumber:Fm,isBoolean:w0,isObject:wi,isPlainObject:Xa,isReadableStream:T0,isRequest:A0,isResponse:R0,isHeaders:D0,isUndefined:Ir,isDate:N0,isFile:k0,isBlob:S0,isRegExp:q0,isFunction:wt,isStream:E0,isURLSearchParams:P0,isTypedArray:U0,isFileList:C0,forEach:Br,merge:ql,extend:M0,trim:_0,stripBOM:I0,inherits:O0,toFlatObject:B0,kindOf:yi,kindOfTest:Kt,endsWith:F0,toArray:$0,forEachEntry:z0,matchAll:V0,isHTMLForm:W0,hasOwnProperty:$h,hasOwnProp:$h,reduceDescriptors:zm,freezeMethods:Q0,toObjectSet:K0,toCamelCase:H0,noop:G0,toFiniteNumber:J0,findKey:$m,global:en,isContextDefined:Um,isSpecCompliantForm:Y0,toJSONObject:X0,isAsyncFn:Z0,isThenable:ev,setImmediate:Vm,asap:tv,isIterable:sv};function Ce(r,s,a,o,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",s&&(this.code=s),a&&(this.config=a),o&&(this.request=o),c&&(this.response=c,this.status=c.status?c.status:null)}K.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.status}}});const Wm=Ce.prototype,Hm={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Hm[r]={value:r}});Object.defineProperties(Ce,Hm);Object.defineProperty(Wm,"isAxiosError",{value:!0});Ce.from=(r,s,a,o,c,u)=>{const m=Object.create(Wm);return K.toFlatObject(r,m,function(f){return f!==Error.prototype},p=>p!=="isAxiosError"),Ce.call(m,r.message,s,a,o,c),m.cause=r,m.name=r.name,u&&Object.assign(m,u),m};const nv=null;function Ql(r){return K.isPlainObject(r)||K.isArray(r)}function qm(r){return K.endsWith(r,"[]")?r.slice(0,-2):r}function Uh(r,s,a){return r?r.concat(s).map(function(c,u){return c=qm(c),!a&&u?"["+c+"]":c}).join(a?".":""):s}function rv(r){return K.isArray(r)&&!r.some(Ql)}const av=K.toFlatObject(K,{},null,function(s){return/^is[A-Z]/.test(s)});function Ni(r,s,a){if(!K.isObject(r))throw new TypeError("target must be an object");s=s||new FormData,a=K.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,S){return!K.isUndefined(S[w])});const o=a.metaTokens,c=a.visitor||b,u=a.dots,m=a.indexes,f=(a.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(s);if(!K.isFunction(c))throw new TypeError("visitor must be a function");function v(j){if(j===null)return"";if(K.isDate(j))return j.toISOString();if(K.isBoolean(j))return j.toString();if(!f&&K.isBlob(j))throw new Ce("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(j)||K.isTypedArray(j)?f&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function b(j,w,S){let _=j;if(j&&!S&&typeof j=="object"){if(K.endsWith(w,"{}"))w=o?w:w.slice(0,-2),j=JSON.stringify(j);else if(K.isArray(j)&&rv(j)||(K.isFileList(j)||K.endsWith(w,"[]"))&&(_=K.toArray(j)))return w=qm(w),_.forEach(function(I,V){!(K.isUndefined(I)||I===null)&&s.append(m===!0?Uh([w],V,u):m===null?w:w+"[]",v(I))}),!1}return Ql(j)?!0:(s.append(Uh(S,w,u),v(j)),!1)}const g=[],k=Object.assign(av,{defaultVisitor:b,convertValue:v,isVisitable:Ql});function N(j,w){if(!K.isUndefined(j)){if(g.indexOf(j)!==-1)throw Error("Circular reference detected in "+w.join("."));g.push(j),K.forEach(j,function(_,T){(!(K.isUndefined(_)||_===null)&&c.call(s,_,K.isString(T)?T.trim():T,w,k))===!0&&N(_,w?w.concat(T):[T])}),g.pop()}}if(!K.isObject(r))throw new TypeError("data must be an object");return N(r),s}function zh(r){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(o){return s[o]})}function hc(r,s){this._pairs=[],r&&Ni(r,this,s)}const Qm=hc.prototype;Qm.append=function(s,a){this._pairs.push([s,a])};Qm.toString=function(s){const a=s?function(o){return s.call(this,o,zh)}:zh;return this._pairs.map(function(c){return a(c[0])+"="+a(c[1])},"").join("&")};function iv(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Km(r,s,a){if(!s)return r;const o=a&&a.encode||iv;K.isFunction(a)&&(a={serialize:a});const c=a&&a.serialize;let u;if(c?u=c(s,a):u=K.isURLSearchParams(s)?s.toString():new hc(s,a).toString(o),u){const m=r.indexOf("#");m!==-1&&(r=r.slice(0,m)),r+=(r.indexOf("?")===-1?"?":"&")+u}return r}class Vh{constructor(){this.handlers=[]}use(s,a,o){return this.handlers.push({fulfilled:s,rejected:a,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){K.forEach(this.handlers,function(o){o!==null&&s(o)})}}const Gm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ov=typeof URLSearchParams<"u"?URLSearchParams:hc,lv=typeof FormData<"u"?FormData:null,cv=typeof Blob<"u"?Blob:null,dv={isBrowser:!0,classes:{URLSearchParams:ov,FormData:lv,Blob:cv},protocols:["http","https","file","blob","url","data"]},mc=typeof window<"u"&&typeof document<"u",Kl=typeof navigator=="object"&&navigator||void 0,uv=mc&&(!Kl||["ReactNative","NativeScript","NS"].indexOf(Kl.product)<0),hv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",mv=mc&&window.location.href||"http://localhost",pv=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mc,hasStandardBrowserEnv:uv,hasStandardBrowserWebWorkerEnv:hv,navigator:Kl,origin:mv},Symbol.toStringTag,{value:"Module"})),ut={...pv,...dv};function fv(r,s){return Ni(r,new ut.classes.URLSearchParams,Object.assign({visitor:function(a,o,c,u){return ut.isNode&&K.isBuffer(a)?(this.append(o,a.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},s))}function xv(r){return K.matchAll(/\w+|\[(\w*)]/g,r).map(s=>s[0]==="[]"?"":s[1]||s[0])}function gv(r){const s={},a=Object.keys(r);let o;const c=a.length;let u;for(o=0;o<c;o++)u=a[o],s[u]=r[u];return s}function Jm(r){function s(a,o,c,u){let m=a[u++];if(m==="__proto__")return!0;const p=Number.isFinite(+m),f=u>=a.length;return m=!m&&K.isArray(c)?c.length:m,f?(K.hasOwnProp(c,m)?c[m]=[c[m],o]:c[m]=o,!p):((!c[m]||!K.isObject(c[m]))&&(c[m]=[]),s(a,o,c[m],u)&&K.isArray(c[m])&&(c[m]=gv(c[m])),!p)}if(K.isFormData(r)&&K.isFunction(r.entries)){const a={};return K.forEachEntry(r,(o,c)=>{s(xv(o),c,a,0)}),a}return null}function vv(r,s,a){if(K.isString(r))try{return(s||JSON.parse)(r),K.trim(r)}catch(o){if(o.name!=="SyntaxError")throw o}return(a||JSON.stringify)(r)}const Fr={transitional:Gm,adapter:["xhr","http","fetch"],transformRequest:[function(s,a){const o=a.getContentType()||"",c=o.indexOf("application/json")>-1,u=K.isObject(s);if(u&&K.isHTMLForm(s)&&(s=new FormData(s)),K.isFormData(s))return c?JSON.stringify(Jm(s)):s;if(K.isArrayBuffer(s)||K.isBuffer(s)||K.isStream(s)||K.isFile(s)||K.isBlob(s)||K.isReadableStream(s))return s;if(K.isArrayBufferView(s))return s.buffer;if(K.isURLSearchParams(s))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let p;if(u){if(o.indexOf("application/x-www-form-urlencoded")>-1)return fv(s,this.formSerializer).toString();if((p=K.isFileList(s))||o.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return Ni(p?{"files[]":s}:s,f&&new f,this.formSerializer)}}return u||c?(a.setContentType("application/json",!1),vv(s)):s}],transformResponse:[function(s){const a=this.transitional||Fr.transitional,o=a&&a.forcedJSONParsing,c=this.responseType==="json";if(K.isResponse(s)||K.isReadableStream(s))return s;if(s&&K.isString(s)&&(o&&!this.responseType||c)){const m=!(a&&a.silentJSONParsing)&&c;try{return JSON.parse(s)}catch(p){if(m)throw p.name==="SyntaxError"?Ce.from(p,Ce.ERR_BAD_RESPONSE,this,null,this.response):p}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ut.classes.FormData,Blob:ut.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};K.forEach(["delete","get","head","post","put","patch"],r=>{Fr.headers[r]={}});const bv=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yv=r=>{const s={};let a,o,c;return r&&r.split(`
`).forEach(function(m){c=m.indexOf(":"),a=m.substring(0,c).trim().toLowerCase(),o=m.substring(c+1).trim(),!(!a||s[a]&&bv[a])&&(a==="set-cookie"?s[a]?s[a].push(o):s[a]=[o]:s[a]=s[a]?s[a]+", "+o:o)}),s},Wh=Symbol("internals");function Pr(r){return r&&String(r).trim().toLowerCase()}function Za(r){return r===!1||r==null?r:K.isArray(r)?r.map(Za):String(r)}function jv(r){const s=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=a.exec(r);)s[o[1]]=o[2];return s}const wv=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function Ll(r,s,a,o,c){if(K.isFunction(o))return o.call(this,s,a);if(c&&(s=a),!!K.isString(s)){if(K.isString(o))return s.indexOf(o)!==-1;if(K.isRegExp(o))return o.test(s)}}function Nv(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,a,o)=>a.toUpperCase()+o)}function kv(r,s){const a=K.toCamelCase(" "+s);["get","set","has"].forEach(o=>{Object.defineProperty(r,o+a,{value:function(c,u,m){return this[o].call(this,s,c,u,m)},configurable:!0})})}let Nt=class{constructor(s){s&&this.set(s)}set(s,a,o){const c=this;function u(p,f,v){const b=Pr(f);if(!b)throw new Error("header name must be a non-empty string");const g=K.findKey(c,b);(!g||c[g]===void 0||v===!0||v===void 0&&c[g]!==!1)&&(c[g||f]=Za(p))}const m=(p,f)=>K.forEach(p,(v,b)=>u(v,b,f));if(K.isPlainObject(s)||s instanceof this.constructor)m(s,a);else if(K.isString(s)&&(s=s.trim())&&!wv(s))m(yv(s),a);else if(K.isObject(s)&&K.isIterable(s)){let p={},f,v;for(const b of s){if(!K.isArray(b))throw TypeError("Object iterator must return a key-value pair");p[v=b[0]]=(f=p[v])?K.isArray(f)?[...f,b[1]]:[f,b[1]]:b[1]}m(p,a)}else s!=null&&u(a,s,o);return this}get(s,a){if(s=Pr(s),s){const o=K.findKey(this,s);if(o){const c=this[o];if(!a)return c;if(a===!0)return jv(c);if(K.isFunction(a))return a.call(this,c,o);if(K.isRegExp(a))return a.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,a){if(s=Pr(s),s){const o=K.findKey(this,s);return!!(o&&this[o]!==void 0&&(!a||Ll(this,this[o],o,a)))}return!1}delete(s,a){const o=this;let c=!1;function u(m){if(m=Pr(m),m){const p=K.findKey(o,m);p&&(!a||Ll(o,o[p],p,a))&&(delete o[p],c=!0)}}return K.isArray(s)?s.forEach(u):u(s),c}clear(s){const a=Object.keys(this);let o=a.length,c=!1;for(;o--;){const u=a[o];(!s||Ll(this,this[u],u,s,!0))&&(delete this[u],c=!0)}return c}normalize(s){const a=this,o={};return K.forEach(this,(c,u)=>{const m=K.findKey(o,u);if(m){a[m]=Za(c),delete a[u];return}const p=s?Nv(u):String(u).trim();p!==u&&delete a[u],a[p]=Za(c),o[p]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const a=Object.create(null);return K.forEach(this,(o,c)=>{o!=null&&o!==!1&&(a[c]=s&&K.isArray(o)?o.join(", "):o)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,a])=>s+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...a){const o=new this(s);return a.forEach(c=>o.set(c)),o}static accessor(s){const o=(this[Wh]=this[Wh]={accessors:{}}).accessors,c=this.prototype;function u(m){const p=Pr(m);o[p]||(kv(c,m),o[p]=!0)}return K.isArray(s)?s.forEach(u):u(s),this}};Nt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);K.reduceDescriptors(Nt.prototype,({value:r},s)=>{let a=s[0].toUpperCase()+s.slice(1);return{get:()=>r,set(o){this[a]=o}}});K.freezeMethods(Nt);function Pl(r,s){const a=this||Fr,o=s||a,c=Nt.from(o.headers);let u=o.data;return K.forEach(r,function(p){u=p.call(a,u,c.normalize(),s?s.status:void 0)}),c.normalize(),u}function Ym(r){return!!(r&&r.__CANCEL__)}function zn(r,s,a){Ce.call(this,r??"canceled",Ce.ERR_CANCELED,s,a),this.name="CanceledError"}K.inherits(zn,Ce,{__CANCEL__:!0});function Xm(r,s,a){const o=a.config.validateStatus;!a.status||!o||o(a.status)?r(a):s(new Ce("Request failed with status code "+a.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function Sv(r){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return s&&s[1]||""}function Cv(r,s){r=r||10;const a=new Array(r),o=new Array(r);let c=0,u=0,m;return s=s!==void 0?s:1e3,function(f){const v=Date.now(),b=o[u];m||(m=v),a[c]=f,o[c]=v;let g=u,k=0;for(;g!==c;)k+=a[g++],g=g%r;if(c=(c+1)%r,c===u&&(u=(u+1)%r),v-m<s)return;const N=b&&v-b;return N?Math.round(k*1e3/N):void 0}}function Ev(r,s){let a=0,o=1e3/s,c,u;const m=(v,b=Date.now())=>{a=b,c=null,u&&(clearTimeout(u),u=null),r.apply(null,v)};return[(...v)=>{const b=Date.now(),g=b-a;g>=o?m(v,b):(c=v,u||(u=setTimeout(()=>{u=null,m(c)},o-g)))},()=>c&&m(c)]}const di=(r,s,a=3)=>{let o=0;const c=Cv(50,250);return Ev(u=>{const m=u.loaded,p=u.lengthComputable?u.total:void 0,f=m-o,v=c(f),b=m<=p;o=m;const g={loaded:m,total:p,progress:p?m/p:void 0,bytes:f,rate:v||void 0,estimated:v&&p&&b?(p-m)/v:void 0,event:u,lengthComputable:p!=null,[s?"download":"upload"]:!0};r(g)},a)},Hh=(r,s)=>{const a=r!=null;return[o=>s[0]({lengthComputable:a,total:r,loaded:o}),s[1]]},qh=r=>(...s)=>K.asap(()=>r(...s)),Lv=ut.hasStandardBrowserEnv?((r,s)=>a=>(a=new URL(a,ut.origin),r.protocol===a.protocol&&r.host===a.host&&(s||r.port===a.port)))(new URL(ut.origin),ut.navigator&&/(msie|trident)/i.test(ut.navigator.userAgent)):()=>!0,Pv=ut.hasStandardBrowserEnv?{write(r,s,a,o,c,u){const m=[r+"="+encodeURIComponent(s)];K.isNumber(a)&&m.push("expires="+new Date(a).toGMTString()),K.isString(o)&&m.push("path="+o),K.isString(c)&&m.push("domain="+c),u===!0&&m.push("secure"),document.cookie=m.join("; ")},read(r){const s=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Tv(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function Av(r,s){return s?r.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):r}function Zm(r,s,a){let o=!Tv(s);return r&&(o||a==!1)?Av(r,s):s}const Qh=r=>r instanceof Nt?{...r}:r;function on(r,s){s=s||{};const a={};function o(v,b,g,k){return K.isPlainObject(v)&&K.isPlainObject(b)?K.merge.call({caseless:k},v,b):K.isPlainObject(b)?K.merge({},b):K.isArray(b)?b.slice():b}function c(v,b,g,k){if(K.isUndefined(b)){if(!K.isUndefined(v))return o(void 0,v,g,k)}else return o(v,b,g,k)}function u(v,b){if(!K.isUndefined(b))return o(void 0,b)}function m(v,b){if(K.isUndefined(b)){if(!K.isUndefined(v))return o(void 0,v)}else return o(void 0,b)}function p(v,b,g){if(g in s)return o(v,b);if(g in r)return o(void 0,v)}const f={url:u,method:u,data:u,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:p,headers:(v,b,g)=>c(Qh(v),Qh(b),g,!0)};return K.forEach(Object.keys(Object.assign({},r,s)),function(b){const g=f[b]||c,k=g(r[b],s[b],b);K.isUndefined(k)&&g!==p||(a[b]=k)}),a}const ep=r=>{const s=on({},r);let{data:a,withXSRFToken:o,xsrfHeaderName:c,xsrfCookieName:u,headers:m,auth:p}=s;s.headers=m=Nt.from(m),s.url=Km(Zm(s.baseURL,s.url,s.allowAbsoluteUrls),r.params,r.paramsSerializer),p&&m.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):"")));let f;if(K.isFormData(a)){if(ut.hasStandardBrowserEnv||ut.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if((f=m.getContentType())!==!1){const[v,...b]=f?f.split(";").map(g=>g.trim()).filter(Boolean):[];m.setContentType([v||"multipart/form-data",...b].join("; "))}}if(ut.hasStandardBrowserEnv&&(o&&K.isFunction(o)&&(o=o(s)),o||o!==!1&&Lv(s.url))){const v=c&&u&&Pv.read(u);v&&m.set(c,v)}return s},Rv=typeof XMLHttpRequest<"u",Dv=Rv&&function(r){return new Promise(function(a,o){const c=ep(r);let u=c.data;const m=Nt.from(c.headers).normalize();let{responseType:p,onUploadProgress:f,onDownloadProgress:v}=c,b,g,k,N,j;function w(){N&&N(),j&&j(),c.cancelToken&&c.cancelToken.unsubscribe(b),c.signal&&c.signal.removeEventListener("abort",b)}let S=new XMLHttpRequest;S.open(c.method.toUpperCase(),c.url,!0),S.timeout=c.timeout;function _(){if(!S)return;const I=Nt.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),ee={data:!p||p==="text"||p==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:I,config:r,request:S};Xm(function(q){a(q),w()},function(q){o(q),w()},ee),S=null}"onloadend"in S?S.onloadend=_:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(_)},S.onabort=function(){S&&(o(new Ce("Request aborted",Ce.ECONNABORTED,r,S)),S=null)},S.onerror=function(){o(new Ce("Network Error",Ce.ERR_NETWORK,r,S)),S=null},S.ontimeout=function(){let V=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const ee=c.transitional||Gm;c.timeoutErrorMessage&&(V=c.timeoutErrorMessage),o(new Ce(V,ee.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,r,S)),S=null},u===void 0&&m.setContentType(null),"setRequestHeader"in S&&K.forEach(m.toJSON(),function(V,ee){S.setRequestHeader(ee,V)}),K.isUndefined(c.withCredentials)||(S.withCredentials=!!c.withCredentials),p&&p!=="json"&&(S.responseType=c.responseType),v&&([k,j]=di(v,!0),S.addEventListener("progress",k)),f&&S.upload&&([g,N]=di(f),S.upload.addEventListener("progress",g),S.upload.addEventListener("loadend",N)),(c.cancelToken||c.signal)&&(b=I=>{S&&(o(!I||I.type?new zn(null,r,S):I),S.abort(),S=null)},c.cancelToken&&c.cancelToken.subscribe(b),c.signal&&(c.signal.aborted?b():c.signal.addEventListener("abort",b)));const T=Sv(c.url);if(T&&ut.protocols.indexOf(T)===-1){o(new Ce("Unsupported protocol "+T+":",Ce.ERR_BAD_REQUEST,r));return}S.send(u||null)})},_v=(r,s)=>{const{length:a}=r=r?r.filter(Boolean):[];if(s||a){let o=new AbortController,c;const u=function(v){if(!c){c=!0,p();const b=v instanceof Error?v:this.reason;o.abort(b instanceof Ce?b:new zn(b instanceof Error?b.message:b))}};let m=s&&setTimeout(()=>{m=null,u(new Ce(`timeout ${s} of ms exceeded`,Ce.ETIMEDOUT))},s);const p=()=>{r&&(m&&clearTimeout(m),m=null,r.forEach(v=>{v.unsubscribe?v.unsubscribe(u):v.removeEventListener("abort",u)}),r=null)};r.forEach(v=>v.addEventListener("abort",u));const{signal:f}=o;return f.unsubscribe=()=>K.asap(p),f}},Mv=function*(r,s){let a=r.byteLength;if(a<s){yield r;return}let o=0,c;for(;o<a;)c=o+s,yield r.slice(o,c),o=c},Iv=async function*(r,s){for await(const a of Ov(r))yield*Mv(a,s)},Ov=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const s=r.getReader();try{for(;;){const{done:a,value:o}=await s.read();if(a)break;yield o}}finally{await s.cancel()}},Kh=(r,s,a,o)=>{const c=Iv(r,s);let u=0,m,p=f=>{m||(m=!0,o&&o(f))};return new ReadableStream({async pull(f){try{const{done:v,value:b}=await c.next();if(v){p(),f.close();return}let g=b.byteLength;if(a){let k=u+=g;a(k)}f.enqueue(new Uint8Array(b))}catch(v){throw p(v),v}},cancel(f){return p(f),c.return()}},{highWaterMark:2})},ki=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",tp=ki&&typeof ReadableStream=="function",Bv=ki&&(typeof TextEncoder=="function"?(r=>s=>r.encode(s))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),sp=(r,...s)=>{try{return!!r(...s)}catch{return!1}},Fv=tp&&sp(()=>{let r=!1;const s=new Request(ut.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!s}),Gh=64*1024,Gl=tp&&sp(()=>K.isReadableStream(new Response("").body)),ui={stream:Gl&&(r=>r.body)};ki&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!ui[s]&&(ui[s]=K.isFunction(r[s])?a=>a[s]():(a,o)=>{throw new Ce(`Response type '${s}' is not supported`,Ce.ERR_NOT_SUPPORT,o)})})})(new Response);const $v=async r=>{if(r==null)return 0;if(K.isBlob(r))return r.size;if(K.isSpecCompliantForm(r))return(await new Request(ut.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(K.isArrayBufferView(r)||K.isArrayBuffer(r))return r.byteLength;if(K.isURLSearchParams(r)&&(r=r+""),K.isString(r))return(await Bv(r)).byteLength},Uv=async(r,s)=>{const a=K.toFiniteNumber(r.getContentLength());return a??$v(s)},zv=ki&&(async r=>{let{url:s,method:a,data:o,signal:c,cancelToken:u,timeout:m,onDownloadProgress:p,onUploadProgress:f,responseType:v,headers:b,withCredentials:g="same-origin",fetchOptions:k}=ep(r);v=v?(v+"").toLowerCase():"text";let N=_v([c,u&&u.toAbortSignal()],m),j;const w=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let S;try{if(f&&Fv&&a!=="get"&&a!=="head"&&(S=await Uv(b,o))!==0){let ee=new Request(s,{method:"POST",body:o,duplex:"half"}),F;if(K.isFormData(o)&&(F=ee.headers.get("content-type"))&&b.setContentType(F),ee.body){const[q,Y]=Hh(S,di(qh(f)));o=Kh(ee.body,Gh,q,Y)}}K.isString(g)||(g=g?"include":"omit");const _="credentials"in Request.prototype;j=new Request(s,{...k,signal:N,method:a.toUpperCase(),headers:b.normalize().toJSON(),body:o,duplex:"half",credentials:_?g:void 0});let T=await fetch(j,k);const I=Gl&&(v==="stream"||v==="response");if(Gl&&(p||I&&w)){const ee={};["status","statusText","headers"].forEach(M=>{ee[M]=T[M]});const F=K.toFiniteNumber(T.headers.get("content-length")),[q,Y]=p&&Hh(F,di(qh(p),!0))||[];T=new Response(Kh(T.body,Gh,q,()=>{Y&&Y(),w&&w()}),ee)}v=v||"text";let V=await ui[K.findKey(ui,v)||"text"](T,r);return!I&&w&&w(),await new Promise((ee,F)=>{Xm(ee,F,{data:V,headers:Nt.from(T.headers),status:T.status,statusText:T.statusText,config:r,request:j})})}catch(_){throw w&&w(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,r,j),{cause:_.cause||_}):Ce.from(_,_&&_.code,r,j)}}),Jl={http:nv,xhr:Dv,fetch:zv};K.forEach(Jl,(r,s)=>{if(r){try{Object.defineProperty(r,"name",{value:s})}catch{}Object.defineProperty(r,"adapterName",{value:s})}});const Jh=r=>`- ${r}`,Vv=r=>K.isFunction(r)||r===null||r===!1,np={getAdapter:r=>{r=K.isArray(r)?r:[r];const{length:s}=r;let a,o;const c={};for(let u=0;u<s;u++){a=r[u];let m;if(o=a,!Vv(a)&&(o=Jl[(m=String(a)).toLowerCase()],o===void 0))throw new Ce(`Unknown adapter '${m}'`);if(o)break;c[m||"#"+u]=o}if(!o){const u=Object.entries(c).map(([p,f])=>`adapter ${p} `+(f===!1?"is not supported by the environment":"is not available in the build"));let m=s?u.length>1?`since :
`+u.map(Jh).join(`
`):" "+Jh(u[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+m,"ERR_NOT_SUPPORT")}return o},adapters:Jl};function Tl(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new zn(null,r)}function Yh(r){return Tl(r),r.headers=Nt.from(r.headers),r.data=Pl.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),np.getAdapter(r.adapter||Fr.adapter)(r).then(function(o){return Tl(r),o.data=Pl.call(r,r.transformResponse,o),o.headers=Nt.from(o.headers),o},function(o){return Ym(o)||(Tl(r),o&&o.response&&(o.response.data=Pl.call(r,r.transformResponse,o.response),o.response.headers=Nt.from(o.response.headers))),Promise.reject(o)})}const rp="1.10.0",Si={};["object","boolean","number","function","string","symbol"].forEach((r,s)=>{Si[r]=function(o){return typeof o===r||"a"+(s<1?"n ":" ")+r}});const Xh={};Si.transitional=function(s,a,o){function c(u,m){return"[Axios v"+rp+"] Transitional option '"+u+"'"+m+(o?". "+o:"")}return(u,m,p)=>{if(s===!1)throw new Ce(c(m," has been removed"+(a?" in "+a:"")),Ce.ERR_DEPRECATED);return a&&!Xh[m]&&(Xh[m]=!0,console.warn(c(m," has been deprecated since v"+a+" and will be removed in the near future"))),s?s(u,m,p):!0}};Si.spelling=function(s){return(a,o)=>(console.warn(`${o} is likely a misspelling of ${s}`),!0)};function Wv(r,s,a){if(typeof r!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const o=Object.keys(r);let c=o.length;for(;c-- >0;){const u=o[c],m=s[u];if(m){const p=r[u],f=p===void 0||m(p,u,r);if(f!==!0)throw new Ce("option "+u+" must be "+f,Ce.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Ce("Unknown option "+u,Ce.ERR_BAD_OPTION)}}const ei={assertOptions:Wv,validators:Si},ts=ei.validators;let an=class{constructor(s){this.defaults=s||{},this.interceptors={request:new Vh,response:new Vh}}async request(s,a){try{return await this._request(s,a)}catch(o){if(o instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const u=c.stack?c.stack.replace(/^.+\n/,""):"";try{o.stack?u&&!String(o.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+u):o.stack=u}catch{}}throw o}}_request(s,a){typeof s=="string"?(a=a||{},a.url=s):a=s||{},a=on(this.defaults,a);const{transitional:o,paramsSerializer:c,headers:u}=a;o!==void 0&&ei.assertOptions(o,{silentJSONParsing:ts.transitional(ts.boolean),forcedJSONParsing:ts.transitional(ts.boolean),clarifyTimeoutError:ts.transitional(ts.boolean)},!1),c!=null&&(K.isFunction(c)?a.paramsSerializer={serialize:c}:ei.assertOptions(c,{encode:ts.function,serialize:ts.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),ei.assertOptions(a,{baseUrl:ts.spelling("baseURL"),withXsrfToken:ts.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let m=u&&K.merge(u.common,u[a.method]);u&&K.forEach(["delete","get","head","post","put","patch","common"],j=>{delete u[j]}),a.headers=Nt.concat(m,u);const p=[];let f=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(a)===!1||(f=f&&w.synchronous,p.unshift(w.fulfilled,w.rejected))});const v=[];this.interceptors.response.forEach(function(w){v.push(w.fulfilled,w.rejected)});let b,g=0,k;if(!f){const j=[Yh.bind(this),void 0];for(j.unshift.apply(j,p),j.push.apply(j,v),k=j.length,b=Promise.resolve(a);g<k;)b=b.then(j[g++],j[g++]);return b}k=p.length;let N=a;for(g=0;g<k;){const j=p[g++],w=p[g++];try{N=j(N)}catch(S){w.call(this,S);break}}try{b=Yh.call(this,N)}catch(j){return Promise.reject(j)}for(g=0,k=v.length;g<k;)b=b.then(v[g++],v[g++]);return b}getUri(s){s=on(this.defaults,s);const a=Zm(s.baseURL,s.url,s.allowAbsoluteUrls);return Km(a,s.params,s.paramsSerializer)}};K.forEach(["delete","get","head","options"],function(s){an.prototype[s]=function(a,o){return this.request(on(o||{},{method:s,url:a,data:(o||{}).data}))}});K.forEach(["post","put","patch"],function(s){function a(o){return function(u,m,p){return this.request(on(p||{},{method:s,headers:o?{"Content-Type":"multipart/form-data"}:{},url:u,data:m}))}}an.prototype[s]=a(),an.prototype[s+"Form"]=a(!0)});let Hv=class ap{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(u){a=u});const o=this;this.promise.then(c=>{if(!o._listeners)return;let u=o._listeners.length;for(;u-- >0;)o._listeners[u](c);o._listeners=null}),this.promise.then=c=>{let u;const m=new Promise(p=>{o.subscribe(p),u=p}).then(c);return m.cancel=function(){o.unsubscribe(u)},m},s(function(u,m,p){o.reason||(o.reason=new zn(u,m,p),a(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const a=this._listeners.indexOf(s);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const s=new AbortController,a=o=>{s.abort(o)};return this.subscribe(a),s.signal.unsubscribe=()=>this.unsubscribe(a),s.signal}static source(){let s;return{token:new ap(function(c){s=c}),cancel:s}}};function qv(r){return function(a){return r.apply(null,a)}}function Qv(r){return K.isObject(r)&&r.isAxiosError===!0}const Yl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Yl).forEach(([r,s])=>{Yl[s]=r});function ip(r){const s=new an(r),a=Im(an.prototype.request,s);return K.extend(a,an.prototype,s,{allOwnKeys:!0}),K.extend(a,s,null,{allOwnKeys:!0}),a.create=function(c){return ip(on(r,c))},a}const Ge=ip(Fr);Ge.Axios=an;Ge.CanceledError=zn;Ge.CancelToken=Hv;Ge.isCancel=Ym;Ge.VERSION=rp;Ge.toFormData=Ni;Ge.AxiosError=Ce;Ge.Cancel=Ge.CanceledError;Ge.all=function(s){return Promise.all(s)};Ge.spread=qv;Ge.isAxiosError=Qv;Ge.mergeConfig=on;Ge.AxiosHeaders=Nt;Ge.formToJSON=r=>Jm(K.isHTMLForm(r)?new FormData(r):r);Ge.getAdapter=np.getAdapter;Ge.HttpStatusCode=Yl;Ge.default=Ge;const{Axios:Wy,AxiosError:Hy,CanceledError:qy,isCancel:Qy,CancelToken:Ky,VERSION:Gy,all:Jy,Cancel:Yy,isAxiosError:Xy,spread:Zy,toFormData:ej,AxiosHeaders:tj,HttpStatusCode:sj,formToJSON:nj,getAdapter:rj,mergeConfig:aj}=Ge,rt=Ge.create({baseURL:"/api",withCredentials:!0});class dn{endpoint;constructor(s){this.endpoint=s}async get(s=""){return(await rt.get(`${this.endpoint}${s}`)).data}async post(s="",a){return(await rt.post(`${this.endpoint}${s}`,a)).data}async put(s="",a){return(await rt.put(`${this.endpoint}${s}`,a)).data}async patch(s="",a){return(await rt.patch(`${this.endpoint}${s}`,a)).data}async delete(s=""){return(await rt.delete(`${this.endpoint}${s}`)).data}}class Kv extends dn{constructor(){super("/auth")}async register(s){return this.post("/register",s)}async login(s){return this.post("/login",s)}async logout(){return this.post("/logout")}async getMe(){return this.get("/me")}async updateTheme(s){return this.patch("/theme",{theme:s})}linkGoogle(){window.location.href="http://localhost:5003/api/auth/google/link"}async unlinkGoogle(){return this.delete("/google/unlink")}async updateProfile(s){return this.patch("/profile",s)}}const Bt=new Kv;class Gv extends dn{constructor(){super("/projects")}async create(s){return this.post("",s)}async getAll(){return this.get("")}async getById(s){return this.get(`/${s}`)}async update(s,a){return this.put(`/${s}`,a)}async archive(s,a){return this.patch(`/${s}/archive`,{isArchived:a})}async deleteProject(s){return(await rt.delete(`${this.endpoint}/${s}`)).data}async createNote(s,a){return this.post(`/${s}/notes`,a)}async updateNote(s,a,o){return this.put(`/${s}/notes/${a}`,o)}async lockNote(s,a){return this.post(`/${s}/notes/${a}/lock`,{})}async unlockNote(s,a){return this.delete(`/${s}/notes/${a}/lock`)}async checkNoteLock(s,a){return this.get(`/${s}/notes/${a}/lock`)}async heartbeatNoteLock(s,a){return this.put(`/${s}/notes/${a}/lock/heartbeat`,{})}async deleteNote(s,a){return this.delete(`/${s}/notes/${a}`)}async createTodo(s,a){return this.post(`/${s}/todos`,a)}async updateTodo(s,a,o){return this.put(`/${s}/todos/${a}`,o)}async deleteTodo(s,a){return this.delete(`/${s}/todos/${a}`)}async createDevLogEntry(s,a){return this.post(`/${s}/devlog`,a)}async updateDevLogEntry(s,a,o){return this.put(`/${s}/devlog/${a}`,o)}async deleteDevLogEntry(s,a){return this.delete(`/${s}/devlog/${a}`)}async createDoc(s,a){return this.post(`/${s}/docs`,a)}async updateDoc(s,a,o){return this.put(`/${s}/docs/${a}`,o)}async deleteDoc(s,a){return this.delete(`/${s}/docs/${a}`)}async addTechnology(s,a){return this.post(`/${s}/technologies`,a)}async removeTechnology(s,a,o){return this.delete(`/${s}/technologies/${a}/${encodeURIComponent(o)}`)}async addPackage(s,a){return this.post(`/${s}/packages`,a)}async removePackage(s,a,o){return this.delete(`/${s}/packages/${a}/${encodeURIComponent(o)}`)}async exportProject(s){return(await rt.get(`${this.endpoint}/${s}/export`,{responseType:"blob"})).data}async importProject(s){return this.post("/import",s)}}const De=new Gv;class Jv extends dn{constructor(){super("/projects")}async getMembers(s){return this.get(`/${s}/members`)}async inviteUser(s,a){return this.post(`/${s}/invite`,a)}async removeMember(s,a){return this.delete(`/${s}/members/${a}`)}async updateMemberRole(s,a,o){return this.patch(`/${s}/members/${a}`,{role:o})}}class Yv extends dn{constructor(){super("/invitations")}async getPending(){return this.get("/pending")}async acceptInvitation(s){return this.post(`/${s}/accept`)}async declineInvitation(s){return this.post(`/${s}/decline`)}async getDetails(s){return this.get(`/${s}`)}}const tn=new Jv,Al=new Yv;class Xv extends dn{constructor(){super("/notifications")}async getNotifications(s){const a=new URLSearchParams;s?.limit&&a.append("limit",s.limit.toString()),s?.skip&&a.append("skip",s.skip.toString()),s?.unread_only&&a.append("unread_only","true");const o=a.toString();return this.get(o?`?${o}`:"")}async markAsRead(s){return this.patch(`/${s}/read`)}async markAllAsRead(){return this.patch("/read-all")}async deleteNotification(s){return this.delete(`/${s}`)}async getInvitationNotification(s){return this.get(`/invitation/${s}`)}}const Rl=new Xv;let Zv=class extends dn{constructor(){super("/analytics")}async getUserAnalytics(s=30){return this.get(`/me?days=${s}`)}async getAdminAnalytics(s,a=30){const o=s?`/user/${s}?days=${a}`:`/me?days=${a}`;return this.get(o)}async trackCustomEvent(s,a){return this.post("/track",{eventType:s,eventData:a})}async getActiveSession(){return this.get("/session/active")}async resetAllAnalytics(){return(await fetch("/api/admin/analytics/reset",{method:"DELETE",credentials:"include"})).json()}async resetProjectTimeData(){return(await fetch("/api/admin/analytics/project-time/reset",{method:"DELETE",credentials:"include"})).json()}async getComprehensive(s=30){return this.get(`/comprehensive?days=${s}`)}async getProjectsTime(s=30){return this.get(`/projects/time?days=${s}`)}async getProjectTime(s,a=30){return this.get(`/project/${s}/time?days=${a}`)}async switchProject(s,a){return this.post("/project/switch",{sessionId:s,newProjectId:a})}async getProjectTeamTime(s,a=30){return this.get(`/project/${s}/team-time?days=${a}`)}};class eb extends dn{constructor(){super("/public")}async getProject(s){return this.get(`/project/${s}`)}async getUserProfile(s){return this.get(`/user/${s}`)}async getProjects(s){const a=new URLSearchParams;s?.page&&a.append("page",s.page.toString()),s?.limit&&a.append("limit",s.limit.toString()),s?.category&&a.append("category",s.category),s?.tag&&a.append("tag",s.tag),s?.search&&a.append("search",s.search);const o=a.toString();return this.get(`/projects${o?`?${o}`:""}`)}async getFilters(){return this.get("/filters")}}const ln=new Zv,hi=new eb,sn=(r=!1)=>{const[s,a]=x.useState(r);return{loading:s,setLoading:a,withLoading:async c=>{a(!0);try{return await c()}catch(u){throw console.error("Error in withLoading:",u),u}finally{a(!1)}}}},tb=()=>{const[r,s]=x.useState(null),[a,o]=x.useState(null),{loading:c,withLoading:u}=sn();return{data:r,loading:c,error:a,call:async f=>{o(null);try{const v=await u(f);return s(v),v}catch(v){const b=v.response?.data?.message||v.message||"An error occurred";return o(b),s(null),null}},reset:()=>{s(null),o(null)}}},sb=()=>{const r=He(),[s,a]=x.useState(""),[o,c]=x.useState(""),{loading:u,error:m,call:p}=tb();x.useEffect(()=>{const b=localStorage.getItem("theme")||"retro";document.documentElement.setAttribute("data-theme",b)},[]);const f=async b=>{b.preventDefault(),await p(()=>Bt.login({email:s,password:o}))&&r("/notes?view=projects")},v=()=>{window.location.href="http://localhost:5003/api/auth/google"};return e.jsx("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:e.jsx("div",{className:"card w-96 bg-base-100 shadow-xl",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"card-title text-3xl font-bold text-center justify-center mb-6",children:"Welcome Back"}),m&&e.jsxs("div",{className:"alert alert-error mb-4",children:[e.jsx("svg",{className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:m})]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Email"})}),e.jsx("input",{type:"email",value:s,onChange:b=>a(b.target.value),placeholder:"Enter your email",className:"input input-bordered",required:!0})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Password"})}),e.jsx("input",{type:"password",value:o,onChange:b=>c(b.target.value),placeholder:"Enter your password",className:"input input-bordered",required:!0})]}),e.jsx("div",{className:"text-right mb-4",children:e.jsx(Pt,{to:"/forgot-password",className:"link link-primary text-sm",children:"Forgot password?"})}),e.jsx("div",{className:"form-control",children:e.jsx("button",{type:"submit",disabled:u,className:"btn btn-primary",children:u?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner"}),"Logging in..."]}):"Login"})})]}),e.jsx("div",{className:"divider",children:"OR"}),e.jsxs("button",{onClick:v,className:"btn btn-outline w-full mb-4",children:[e.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-base-content/70 mb-2",children:"Don't have an account?"}),e.jsx(Pt,{to:"/register",className:"link link-primary",children:"Sign up here"})]})]})})})},op=()=>{const[r,s]=x.useState(null);return{error:r,setError:s,clearError:()=>s(null),handleError:c=>{console.error("Error:",c);let u="An unexpected error occurred";c?.response?.data?.message?u=c.response.data.message:c?.message?u=c.message:typeof c=="string"&&(u=c),s(u)}}},nb=()=>{const r=He(),[s,a]=x.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),{loading:o,withLoading:c}=sn(),{error:u,handleError:m,clearError:p}=op(),f=g=>{a(k=>({...k,[g.target.name]:g.target.value}))},v=async g=>{if(g.preventDefault(),p(),s.password!==s.confirmPassword){m(new Error("Passwords do not match"));return}if(s.password.length<6){m(new Error("Password must be at least 6 characters long"));return}await c(async()=>{try{await Bt.register({firstName:s.firstName,lastName:s.lastName,email:s.email,password:s.password}),r("/")}catch(k){m(k)}})},b=()=>{window.location.href="http://localhost:5003/api/auth/google"};return e.jsx("div",{className:"min-h-screen bg-base-200 flex items-center justify-center px-4",children:e.jsx("div",{className:"card w-full max-w-md bg-base-100 shadow-xl",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"card-title text-3xl font-bold text-center justify-center mb-6",children:"Create Account"}),u&&e.jsxs("div",{className:"alert alert-error mb-4",children:[e.jsx("svg",{className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:u})]}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"First Name"})}),e.jsx("input",{type:"text",name:"firstName",value:s.firstName,onChange:f,placeholder:"First name",className:"input input-bordered",required:!0})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Last Name"})}),e.jsx("input",{type:"text",name:"lastName",value:s.lastName,onChange:f,placeholder:"Last name",className:"input input-bordered",required:!0})]})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Email"})}),e.jsx("input",{type:"email",name:"email",value:s.email,onChange:f,placeholder:"Enter your email",className:"input input-bordered",required:!0})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Password"})}),e.jsx("input",{type:"password",name:"password",value:s.password,onChange:f,placeholder:"Create a password",className:"input input-bordered",required:!0,minLength:6})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Confirm Password"})}),e.jsx("input",{type:"password",name:"confirmPassword",value:s.confirmPassword,onChange:f,placeholder:"Confirm your password",className:"input input-bordered",required:!0,minLength:6})]}),e.jsx("div",{className:"form-control mt-6",children:e.jsx("button",{type:"submit",disabled:o,className:"btn btn-primary",children:o?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner"}),"Creating Account..."]}):"Create Account"})})]}),e.jsx("div",{className:"divider",children:"OR"}),e.jsxs("button",{onClick:b,className:"btn btn-outline w-full mb-4",children:[e.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign up with Google"]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-base-content/70 mb-2",children:"Already have an account?"}),e.jsx(Pt,{to:"/login",className:"link link-primary",children:"Sign in here"})]})]})})})},rb=()=>{const[r,s]=x.useState(""),[a,o]=x.useState(!1),[c,u]=x.useState(""),[m,p]=x.useState(""),f=async v=>{v.preventDefault(),o(!0),p(""),u("");try{await rt.post("/auth/forgot-password",{email:r}),u("Password reset email sent! Check your inbox.")}catch(b){p(b.response?.data?.message||"Failed to send reset email")}finally{o(!1)}};return e.jsx("div",{className:"min-h-screen bg-base-100 flex items-center justify-center px-4",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsx("div",{className:"card bg-base-200 shadow-xl",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h1",{className:"text-3xl font-bold text-center text-base-content mb-6",children:"Reset Password"}),e.jsx("p",{className:"text-center text-base-content/70 mb-6",children:"Enter your email address and we'll send you a link to reset your password."}),c&&e.jsxs("div",{className:"alert alert-success mb-4",children:[e.jsx("svg",{className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:c})]}),m&&e.jsxs("div",{className:"alert alert-error mb-4",children:[e.jsx("svg",{className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:m})]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Email Address"})}),e.jsx("input",{type:"email",value:r,onChange:v=>s(v.target.value),className:"input input-bordered w-full",placeholder:"Enter your email",required:!0})]}),e.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:a,children:a?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner loading-sm"}),"Sending..."]}):"Send Reset Link"})]}),e.jsx("div",{className:"divider",children:"OR"}),e.jsx("div",{className:"text-center",children:e.jsx(Pt,{to:"/login",className:"link link-primary",children:"Back to Login"})})]})})})})},ab=()=>{const[r,s]=x.useState(""),[a,o]=x.useState(""),[c,u]=x.useState(!1),[m,p]=x.useState(""),[f,v]=x.useState(!1),[b]=xi(),g=He(),k=b.get("token");x.useEffect(()=>{k||p("Invalid reset link. Please request a new password reset.")},[k]);const N=async j=>{if(j.preventDefault(),u(!0),p(""),r!==a){p("Passwords do not match"),u(!1);return}if(r.length<6){p("Password must be at least 6 characters long"),u(!1);return}try{await rt.post("/auth/reset-password",{token:k,password:r}),v(!0),setTimeout(()=>g("/login"),3e3)}catch(w){p(w.response?.data?.message||"Failed to reset password")}finally{u(!1)}};return k?f?e.jsx("div",{className:"min-h-screen bg-base-100 flex items-center justify-center px-4",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsx("div",{className:"card bg-base-200 shadow-xl",children:e.jsxs("div",{className:"card-body text-center",children:[e.jsx("div",{className:"text-success text-6xl mb-4",children:""}),e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Password Reset Successful!"}),e.jsx("p",{className:"mb-4",children:"Your password has been reset successfully."}),e.jsx("p",{className:"text-sm text-base-content/70",children:"Redirecting to login page in 3 seconds..."}),e.jsx(Pt,{to:"/login",className:"btn btn-primary mt-4",children:"Go to Login"})]})})})}):e.jsx("div",{className:"min-h-screen bg-base-100 flex items-center justify-center px-4",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsx("div",{className:"card bg-base-200 shadow-xl",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h1",{className:"text-3xl font-bold text-center text-base-content mb-6",children:"Set New Password"}),m&&e.jsxs("div",{className:"alert alert-error mb-4",children:[e.jsx("svg",{className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:m})]}),e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"New Password"})}),e.jsx("input",{type:"password",value:r,onChange:j=>s(j.target.value),className:"input input-bordered w-full",placeholder:"Enter new password",required:!0,minLength:6})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text",children:"Confirm Password"})}),e.jsx("input",{type:"password",value:a,onChange:j=>o(j.target.value),className:"input input-bordered w-full",placeholder:"Confirm new password",required:!0,minLength:6})]}),e.jsx("button",{type:"submit",className:"btn btn-primary w-full",disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner loading-sm"}),"Resetting..."]}):"Reset Password"})]}),e.jsx("div",{className:"divider",children:"OR"}),e.jsx("div",{className:"text-center",children:e.jsx(Pt,{to:"/login",className:"link link-primary",children:"Back to Login"})})]})})})}):e.jsx("div",{className:"min-h-screen bg-base-100 flex items-center justify-center px-4",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsx("div",{className:"card bg-base-200 shadow-xl",children:e.jsxs("div",{className:"card-body text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-error mb-4",children:"Invalid Reset Link"}),e.jsx("p",{className:"mb-4",children:"This password reset link is invalid or has expired."}),e.jsx(Pt,{to:"/forgot-password",className:"btn btn-primary",children:"Request New Reset Link"})]})})})})},Tt=({isOpen:r,onConfirm:s,onCancel:a,title:o,message:c,confirmText:u="Confirm",cancelText:m="Cancel",variant:p="warning"})=>{if(!r)return null;const f=()=>{switch(p){case"error":return{bgClass:"bg-error/10",textClass:"text-error",btnClass:"btn-error",icon:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})};case"warning":return{bgClass:"bg-warning/10",textClass:"text-warning",btnClass:"btn-warning",icon:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})};default:return{bgClass:"bg-info/10",textClass:"text-info",btnClass:"btn-info",icon:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}}},{bgClass:v,textClass:b,btnClass:g,icon:k}=f();return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-base-100 rounded-lg shadow-xl p-6 w-full max-w-md",children:[e.jsx("div",{className:`flex items-center justify-center w-16 h-16 mx-auto mb-4 ${v} rounded-full`,children:e.jsx("svg",{className:`w-8 h-8 ${b}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:k})}),e.jsx("h3",{className:"text-xl font-bold text-center mb-4",children:o}),e.jsx("div",{className:"text-center text-base-content/70 mb-6",dangerouslySetInnerHTML:{__html:c}}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",className:"btn btn-ghost flex-1",onClick:N=>{N.preventDefault(),N.stopPropagation(),a()},children:m}),e.jsx("button",{type:"button",className:`btn ${g} flex-1`,onClick:N=>{N.preventDefault(),N.stopPropagation(),s()},children:u})]})]})})},ib=()=>{const r=He(),[s,a]=x.useState(!1),[o,c]=x.useState(!1),[u,m]=x.useState(!1),[p,f]=x.useState(null),[v,b]=x.useState(null),[g,k]=x.useState(!1),{data:N,refetch:j}=g0({queryKey:["billing-info"],queryFn:async()=>(await rt.get("/billing/info")).data}),w=[{name:"Free",id:"free",price:0,projects:3,features:["3 Projects","Basic Notes & Todos","Basic Documentation","Community Support"],current:N?.planTier==="free",popular:!1},{name:"Pro",id:"pro",price:5,projects:20,features:["20 Projects","Advanced Development Tools","Enhanced Documentation","Priority Support","Export Features"],current:N?.planTier==="pro",popular:!0},{name:"Enterprise",id:"enterprise",price:20,projects:-1,features:["Unlimited Projects","Advanced Analytics","Team Collaboration","Admin Dashboard","Custom Integrations","24/7 Support"],current:N?.planTier==="enterprise",popular:!1}],S=async I=>{a(!0),f(null),b(null);try{const V=await rt.post("/billing/create-checkout-session",{planTier:I});V.data.url&&(window.location.href=V.data.url)}catch(V){console.error("Failed to create checkout session:",V);const ee=V.response?.data?.error||V.response?.data?.message||"Failed to start checkout process. Please try again.";f(ee)}finally{a(!1)}},_=async()=>{c(!0),f(null),b(null),k(!1);try{const I=await rt.post("/billing/cancel-subscription");b(I.data.message||"Subscription canceled. You will retain access until the end of your billing period."),j()}catch(I){console.error("Failed to cancel subscription:",I);const V=I.response?.data?.error||I.response?.data?.message||"Failed to cancel subscription. Please try again.";f(V)}finally{c(!1)}},T=async()=>{m(!0),f(null),b(null);try{const I=await rt.post("/billing/resume-subscription");b(I.data.message||"Subscription resumed successfully!"),j()}catch(I){console.error("Failed to resume subscription:",I);const V=I.response?.data?.error||I.response?.data?.message||"Failed to resume subscription. Please try again.";f(V)}finally{m(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-base-100 to-base-200",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("button",{onClick:()=>r("/"),className:"btn btn-primary gap-2",children:[e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Projects"]}),e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("h1",{className:"text-4xl font-bold text-base-content",children:"Billing & Plans"}),e.jsx("p",{className:"text-lg text-base-content/70 mt-2",children:"Manage your subscription and upgrade your development workflow"})]}),e.jsx("div",{className:"w-32"})," "]}),p&&e.jsxs("div",{className:"alert alert-error mb-6 shadow-lg",children:[e.jsx("svg",{className:"icon-md",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),e.jsx("span",{children:p}),e.jsx("button",{onClick:()=>f(null),className:"btn btn-ghost btn-sm",children:e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),v&&e.jsxs("div",{className:"alert alert-success mb-6 shadow-lg",children:[e.jsx("svg",{className:"icon-md",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:v}),e.jsx("button",{onClick:()=>b(null),className:"btn btn-ghost btn-sm",children:e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),N&&e.jsx("div",{className:"card-default mb-8 border border-base-300",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex-center-gap-2",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"icon-md text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-base-content",children:"Current Plan"}),e.jsx("p",{className:"text-base-content/60",children:"Your active subscription details"})]})]}),e.jsx("div",{className:"badge badge-primary badge-lg text-lg font-semibold px-4 py-3",children:N.planTier.toUpperCase()})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"stat bg-base-200 rounded-lg",children:[e.jsx("div",{className:"stat-title",children:"Project Limit"}),e.jsx("div",{className:"stat-value text-2xl",children:N.projectLimit===-1?"":N.projectLimit}),e.jsx("div",{className:"stat-desc",children:N.projectLimit===-1?"Unlimited projects":"Active projects allowed"})]}),e.jsxs("div",{className:"stat bg-base-200 rounded-lg",children:[e.jsx("div",{className:"stat-title",children:"Status"}),e.jsx("div",{className:"stat-value text-2xl capitalize",children:N.subscriptionStatus==="active"?e.jsx("span",{className:"text-success",children:"Active"}):e.jsx("span",{className:"text-warning",children:N.subscriptionStatus})}),e.jsx("div",{className:"stat-desc",children:"Subscription status"})]}),N.nextBillingDate&&e.jsxs("div",{className:"stat bg-base-200 rounded-lg",children:[e.jsx("div",{className:"stat-title",children:N.cancelAtPeriodEnd?"Access Ends":"Renewal Date"}),e.jsx("div",{className:"stat-value text-lg",children:new Date(N.nextBillingDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),e.jsx("div",{className:"stat-desc",children:N.cancelAtPeriodEnd?"Plan expires on this date":"Next renewal & charge date"})]}),e.jsxs("div",{className:"stat bg-base-200 rounded-lg",children:[e.jsx("div",{className:"stat-title",children:"Actions"}),e.jsxs("div",{className:"stat-value text-sm",children:[N.hasActiveSubscription&&!N.cancelAtPeriodEnd&&e.jsx("button",{onClick:()=>k(!0),disabled:o,className:"btn btn-outline btn-error btn-sm",children:o?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner loading-xs"}),"Canceling..."]}):"Cancel Plan"}),N.cancelAtPeriodEnd&&e.jsx("button",{onClick:T,disabled:u,className:"btn btn-success btn-sm",children:u?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner loading-xs"}),"Resuming..."]}):"Resume Plan"})]})]})]}),N.cancelAtPeriodEnd&&N.nextBillingDate&&e.jsx("div",{className:"mt-6 p-4 bg-warning/10 border border-warning/20 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"icon-md text-warning mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-warning mb-1",children:"Subscription Cancelled"}),e.jsxs("p",{className:"text-sm text-base-content/80",children:["You'll continue to have access to your ",N.planTier," plan until"," ",e.jsx("strong",{children:new Date(N.nextBillingDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),". After that, your account will be downgraded to the free plan. You can resume your subscription anytime before this date."]})]})]})}),!N.cancelAtPeriodEnd&&N.hasActiveSubscription&&N.nextBillingDate&&e.jsx("div",{className:"mt-6 p-4 bg-success/10 border border-success/20 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"icon-md text-success mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-success mb-1",children:"Active Subscription"}),e.jsxs("p",{className:"text-sm text-base-content/80",children:["Your ",N.planTier," plan will automatically renew on"," ",e.jsx("strong",{children:new Date(N.nextBillingDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),". You can cancel anytime and still enjoy your plan benefits until the end of the billing period."]})]})]})})]})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-base-content mb-4",children:"Choose Your Plan"}),e.jsx("p",{className:"text-xl text-base-content/70",children:"Scale your development workflow with the right plan for you"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:w.map(I=>e.jsxs("div",{className:`card-default border-2 transition-all duration-200 hover:shadow-2xl ${I.current?"border-primary ring-2 ring-primary/20":"border-base-300 hover:border-primary/50"} ${I.popular?"transform lg:scale-105":""}`,children:[I.popular&&e.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:e.jsx("div",{className:"badge badge-primary badge-lg text-white font-semibold px-4 py-2",children:"Most Popular"})}),e.jsxs("div",{className:"card-body text-center relative",children:[I.current&&e.jsx("div",{className:"absolute top-4 right-4",children:e.jsxs("div",{className:"badge badge-success gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Current"]})}),e.jsx("h3",{className:"text-2xl font-bold text-base-content mb-2",children:I.name}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("span",{className:"text-5xl font-bold text-primary",children:["$",I.price]}),e.jsx("span",{className:"text-base-content/60 text-lg",children:"/month"})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("p",{className:"text-xl font-semibold text-base-content",children:[I.projects===-1?"Unlimited":I.projects," Projects"]})}),e.jsx("ul",{className:"space-y-3 mb-8 text-left",children:I.features.map(V=>e.jsxs("li",{className:"flex-center-gap-2",children:[e.jsx("svg",{className:"icon-md text-success flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-base-content",children:V})]},V))}),e.jsx("div",{className:"card-actions",children:I.current?e.jsxs(e.Fragment,{children:[I.id!=="free"&&N?.hasActiveSubscription&&!N?.cancelAtPeriodEnd&&e.jsx("button",{onClick:()=>k(!0),disabled:o,className:"btn btn-outline btn-error w-full",children:o?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner loading-sm"}),"Canceling..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"icon-sm mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel Plan"]})}),I.id!=="free"&&N?.cancelAtPeriodEnd&&e.jsx("button",{onClick:T,disabled:u,className:"btn btn-success w-full",children:u?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner loading-sm"}),"Resuming..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"icon-sm mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.001 8.001 0 01-15.357-2m15.357 2H15"})}),"Resume Plan"]})}),I.id==="free"&&e.jsxs("button",{className:"btn btn-outline w-full",disabled:!0,children:[e.jsx("svg",{className:"icon-sm mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Current Plan"]})]}):I.id==="free"?e.jsx(e.Fragment,{}):e.jsx("button",{onClick:()=>S(I.id),disabled:s,className:`btn w-full ${I.popular?"btn-primary":"btn-outline btn-primary"}`,children:s?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner loading-sm"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"icon-sm mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})}),"Choose Plan"]})})})]})]},I.id))}),e.jsxs("div",{className:"text-center py-8 border-t border-base-300",children:[e.jsx("p",{className:"text-base-content/70 mb-4 text-lg",children:"Trusted by developers worldwide  14-day free trial  Cancel anytime"}),e.jsxs("div",{className:"flex justify-center items-center space-x-8 text-base-content/60",children:[e.jsxs("div",{className:"flex-center-gap-2",children:[e.jsx("svg",{className:"icon-md text-success",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),e.jsx("span",{children:"SSL Encrypted"})]}),e.jsxs("div",{className:"flex-center-gap-2",children:[e.jsx("svg",{className:"icon-md text-success",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),e.jsx("span",{children:"PCI Compliant"})]}),e.jsxs("div",{className:"flex-center-gap-2",children:[e.jsx("svg",{className:"icon-md text-success",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("span",{children:"30-day Money Back"})]})]})]})]}),e.jsx(Tt,{isOpen:g,onConfirm:_,onCancel:()=>k(!1),title:"Cancel Subscription",message:"Are you sure you want to cancel your subscription? You'll retain access until the end of your billing period, but you won't be charged again.",confirmText:o?"Canceling...":"Cancel Subscription",cancelText:"Keep Subscription",variant:"warning"})]})},ob=()=>{const r=He(),[s]=xi(),[a,o]=x.useState(!0),[c,u]=x.useState("");return x.useEffect(()=>{if(!s.get("session_id")){u("Missing session ID"),o(!1);return}const p=async()=>{try{o(!1)}catch{u("Failed to verify payment"),o(!1)}};setTimeout(()=>{p()},2e3)},[s]),e.jsx("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:e.jsx("div",{className:"card w-96 bg-base-100 shadow-xl",children:e.jsx("div",{className:"card-body text-center",children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 bg-success/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"loading loading-spinner loading-lg text-success"})}),e.jsx("h2",{className:"card-title justify-center text-2xl mb-2",children:"Processing Payment..."}),e.jsx("p",{className:"text-base-content/60 mb-4",children:"Please wait while we confirm your subscription."})]}):c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 bg-error/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-error",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("h2",{className:"card-title justify-center text-2xl mb-2 text-error",children:"Payment Error"}),e.jsx("p",{className:"text-base-content/60 mb-6",children:c}),e.jsx("button",{onClick:()=>r("/billing"),className:"btn btn-primary",children:"Back to Billing"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 bg-success/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-success",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h2",{className:"card-title justify-center text-2xl mb-2 text-success",children:"Payment Successful!"}),e.jsx("p",{className:"text-base-content/60 mb-6",children:"Your subscription has been activated. Welcome to your new plan!"}),e.jsxs("div",{className:"card-actions justify-center",children:[e.jsx("button",{onClick:()=>r("/"),className:"btn btn-primary",children:"Go to Projects"}),e.jsx("button",{onClick:()=>r("/billing"),className:"btn btn-outline",children:"View Billing"})]})]})})})})},lb=()=>{const r=He();return e.jsx("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:e.jsx("div",{className:"card w-96 bg-base-100 shadow-xl",children:e.jsxs("div",{className:"card-body text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-warning/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-warning",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h2",{className:"card-title justify-center text-2xl mb-2 text-warning",children:"Payment Cancelled"}),e.jsx("p",{className:"text-base-content/60 mb-6",children:"Your payment was cancelled. No charges were made to your account."}),e.jsxs("div",{className:"card-actions justify-center",children:[e.jsx("button",{onClick:()=>r("/billing"),className:"btn btn-primary",children:"Back to Billing"}),e.jsx("button",{onClick:()=>r("/"),className:"btn btn-outline",children:"Go to Projects"})]})]})})})};class In{static instance;session=null;currentUserId=null;activityTimer=null;heartbeatTimer=null;isOnline=navigator.onLine;pendingEvents=[];HEARTBEAT_INTERVAL=30*1e3;SESSION_TIMEOUT=900*1e3;MAX_PENDING_EVENTS=100;RETRY_ATTEMPTS=3;RETRY_DELAY=1e3;isAuthenticated=!1;constructor(){this.setupEventListeners(),this.startInactivityTimer(),this.checkAuthenticationStatus();const s=localStorage.getItem("analytics_session");if(s&&this.isAuthenticated)try{const a=JSON.parse(s),o=Date.now();o-(a.lastActivity||a.startTime)<this.SESSION_TIMEOUT&&(this.session={sessionId:a.sessionId,userId:this.currentUserId||void 0,startTime:a.startTime,lastActivity:o,pageViews:[],projectsViewed:[],events:[],currentProjectId:a.currentProjectId,currentPage:a.currentPage},this.updateStorage(),this.startHeartbeat())}catch{localStorage.removeItem("analytics_session")}}static getInstance(){return In.instance||(In.instance=new In),In.instance}updateStorage(){this.session&&localStorage.setItem("analytics_session",JSON.stringify({sessionId:this.session.sessionId,startTime:this.session.startTime,lastActivity:this.session.lastActivity,currentProjectId:this.session.currentProjectId,currentPage:this.session.currentPage}))}setupEventListeners(){window.addEventListener("online",()=>{this.isOnline=!0,this.flushPendingEvents()}),window.addEventListener("offline",()=>{this.isOnline=!1}),document.addEventListener("visibilitychange",()=>{document.hidden?this.stopHeartbeat():(this.recordActivity(),this.startHeartbeat(),this.sendHeartbeatNow())}),["click","keydown","scroll"].forEach(a=>{document.addEventListener(a,()=>this.recordActivity(),{passive:!0})})}async startSession(){if(!this.isAuthenticated)return"offline_unauthenticated";if(this.session)return this.startInactivityTimer(),this.session.sessionId;try{const a=await fetch("/api/analytics/session/start",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(a.status===401)return this.isAuthenticated=!1,"offline_unauthenticated";if(a.ok){const{sessionId:o}=await a.json(),c=localStorage.getItem("analytics_session");let u=!1;if(c)try{const m=JSON.parse(c);m.sessionId===o&&(this.session={sessionId:o,userId:this.currentUserId||m.userId,startTime:m.startTime||Date.now(),lastActivity:Date.now(),pageViews:m.pageViews||[],projectsViewed:m.projectsViewed||[],events:[],currentProjectId:m.currentProjectId,currentPage:m.currentPage,userAgent:navigator.userAgent,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},u=!0)}catch{console.warn("Analytics: Failed to restore session from storage")}return u||(this.session={sessionId:o,userId:this.currentUserId||void 0,startTime:Date.now(),lastActivity:Date.now(),pageViews:[],projectsViewed:[],events:[],userAgent:navigator.userAgent,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}),this.updateStorage(),this.startHeartbeat(),await this.sendHeartbeatNow(),o}}catch(a){console.error("Failed to start analytics session:",a)}const s=`offline_${Date.now()}_${Math.random().toString(36).substring(2,11)}`;return this.session={sessionId:s,userId:this.currentUserId||void 0,startTime:Date.now(),lastActivity:Date.now(),pageViews:[],projectsViewed:[],events:[],userAgent:navigator.userAgent,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},this.updateStorage(),this.startHeartbeat(),await this.sendHeartbeatNow(),s}async endSession(){if(!this.session)return;this.stopHeartbeat();const s=Date.now()-this.session.startTime;this.session.sessionDuration=s;try{await fetch("/api/analytics/session/end",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.session.sessionId,duration:s,pageViews:this.session.pageViews.length,projectsViewed:this.session.projectsViewed.length,events:this.session.events.length})}),this.pendingEvents.length>0&&await this.flushPendingEvents()}catch(a){console.error("Analytics: Failed to end session:",a)}localStorage.removeItem("analytics_session"),this.session=null}async trackEvent(s){if(this.isAuthenticated){if(!this.session&&(await this.startSession(),!this.session)){console.warn("Analytics: Failed to start session, event ignored");return}s.timestamp||(s.timestamp=Date.now()),this.recordActivity(),this.session.events.push(s),this.pendingEvents.length>=this.MAX_PENDING_EVENTS&&this.pendingEvents.shift(),this.isOnline?await this.sendEventWithRetry(s):this.pendingEvents.push(s)}}async trackFieldEdit(s,a,o,c,u){const m=this.sanitizeValue(a),p=this.sanitizeValue(o);await this.trackEvent({eventType:"field_edit",timestamp:Date.now(),eventData:{fieldName:s,fieldType:this.getFieldType(s,o),oldValue:m,newValue:p,projectId:c,projectName:u,metadata:{changeSize:JSON.stringify(p).length-JSON.stringify(m).length}}})}async trackProjectOpen(s,a){if(!s||!a){console.warn("Analytics: Invalid project data provided");return}if(this.session){this.session.projectsViewed.includes(s)||this.session.projectsViewed.push(s),await this.setCurrentProject(s);try{const o=await fetch("/api/activity-logs/smart-join",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({projectId:s,sessionId:this.session.sessionId})});o.ok&&(await o.json()).logged&&await this.sendHeartbeatNow()}catch(o){console.error("Analytics: Failed to log smart project join:",o)}}await this.trackEvent({eventType:"project_open",timestamp:Date.now(),eventData:{projectId:s,projectName:a,metadata:{projectsViewedCount:this.session?.projectsViewed.length||0}}})}async trackPageView(s){this.session&&(this.session.pageViews.includes(s)||this.session.pageViews.push(s),this.setCurrentPage(s)),await this.trackEvent({eventType:"page_view",timestamp:Date.now(),eventData:{pageName:s,metadata:{referrer:document.referrer,url:window.location.href,viewportWidth:window.innerWidth,viewportHeight:window.innerHeight,screenWidth:screen.width,screenHeight:screen.height}}})}async trackAction(s,a){await this.trackEvent({eventType:"action",timestamp:Date.now(),eventData:{actionName:s,metadata:a||{}}})}getSessionInfo(){if(!this.session)return null;const s=Date.now(),a=s-this.session.startTime,o=s-this.session.lastActivity;return{sessionId:this.session.sessionId,userId:this.session.userId,duration:Math.round(a/1e3),timeSinceLastActivity:Math.round(o/1e3),pageViews:this.session.pageViews.length,projectsViewed:this.session.projectsViewed.length,events:this.session.events.length,pendingEvents:this.pendingEvents.length,isActive:this.session!==null&&!document.hidden&&o<this.SESSION_TIMEOUT,isOnline:this.isOnline,startTime:new Date(this.session.startTime).toISOString(),lastActivity:new Date(this.session.lastActivity).toISOString(),timezone:this.session.timezone,userAgent:this.session.userAgent}}hasActiveSession(){return this.session!==null}getAnalyticsStats(){return{hasActiveSession:this.hasActiveSession(),pendingEventsCount:this.pendingEvents.length,isOnline:this.isOnline,sessionInfo:this.getSessionInfo(),heartbeatActive:this.heartbeatTimer!==null,lastError:null}}async flushEvents(){await this.flushPendingEvents()}async trackFeatureUsage(s,a,o){await this.trackEvent({eventType:"feature_usage",timestamp:Date.now(),eventData:{featureName:s,componentName:a,projectId:this.getCurrentProject()||void 0||void 0,metadata:{...o,screenSize:`${window.innerWidth}x${window.innerHeight}`}}})}async trackNavigation(s,a,o){await this.trackEvent({eventType:"navigation",timestamp:Date.now(),eventData:{navigationSource:s,navigationTarget:a,projectId:this.getCurrentProject()||void 0||void 0,metadata:o}})}async trackSearch(s,a,o){await this.trackEvent({eventType:"search",timestamp:Date.now(),eventData:{searchTerm:s,searchResultsCount:a,componentName:o,projectId:this.getCurrentProject()||void 0}})}async trackError(s,a,o,c){await this.trackEvent({eventType:"error",timestamp:Date.now(),eventData:{errorType:s,errorMessage:a,componentName:o,projectId:this.getCurrentProject()||void 0||void 0,pageName:this.getCurrentPage()||void 0,metadata:c}})}async trackPerformance(s,a,o,c){await this.trackEvent({eventType:"performance",timestamp:Date.now(),eventData:{actionType:s,duration:a,componentName:o,projectId:this.getCurrentProject()||void 0||void 0,metadata:c}})}async trackUIInteraction(s,a,o,c,u){await this.trackEvent({eventType:"ui_interaction",timestamp:Date.now(),eventData:{interactionType:s,elementId:a,elementText:o,componentName:c,projectId:this.getCurrentProject()||void 0||void 0,pageName:this.getCurrentPage()||void 0,metadata:u}})}async trackButtonClick(s,a,o){await this.trackUIInteraction("click",void 0,s,a,{buttonName:s,...o})}async trackTabSwitch(s,a,o){await this.trackNavigation(s,a,{interactionType:"tab_switch",componentName:o})}async trackFormSubmission(s,a,o,c){a?await this.trackFeatureUsage("form_submit",s,{formName:s,success:a,...c}):await this.trackError("form_submission_failed",o||"Unknown form error",s,{formName:s,...c})}async trackModalInteraction(s,a,o){await this.trackFeatureUsage("modal_interaction",s,{modalName:s,action:a,...o})}async trackFileOperation(s,a,o,c=!0){c?await this.trackFeatureUsage("file_operation",s,{operation:s,fileName:a,fileSize:o,success:c}):await this.trackError("file_operation_failed",`Failed to ${s} file`,s,{operation:s,fileName:a,fileSize:o})}setCurrentUser(s){this.currentUserId=s,this.isAuthenticated=s!==null,this.session&&s&&!this.session.userId&&(this.session.userId=s,this.updateStorage()),!s&&this.session&&this.endSession()}clearUserSession(){this.currentUserId=null,this.isAuthenticated=!1,this.endSession(),localStorage.removeItem("analytics_session")}async checkAuthenticationStatus(){try{const s=await fetch("/api/auth/me",{method:"GET",credentials:"include"});if(this.isAuthenticated=s.ok,s.ok){const a=await s.json();this.currentUserId=a.user?.id||null}}catch{this.isAuthenticated=!1}}async setCurrentProject(s){if(this.session&&this.isAuthenticated){const a=this.session.currentProjectId;if(this.isOnline&&a!==s)try{const o=await fetch("/api/analytics/project/switch",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.session.sessionId,newProjectId:s})});if(o.status===401||o.status===403){this.isAuthenticated=!1;return}}catch(o){console.warn("Failed to record project switch:",o)}this.session.currentProjectId=s||void 0,this.updateStorage(),s&&this.isOnline&&this.isAuthenticated&&await this.sendHeartbeatNow()}}setCurrentPage(s){this.session&&(this.session.currentPage=s||void 0,this.updateStorage())}getCurrentProject(){return this.session?.currentProjectId||null}getCurrentPage(){return this.session?.currentPage||null}async sendEvent(s){try{const a=await fetch("/api/analytics/track",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-Session-ID":this.session?.sessionId||""},body:JSON.stringify(s)});if(!a.ok)throw new Error(`Analytics API error: ${a.status}`)}catch(a){console.warn("Analytics: Failed to send event, adding to pending queue:",a),this.pendingEvents.push(s)}}async sendEventWithRetry(s,a=1){try{await this.sendEvent(s)}catch(o){if(a<this.RETRY_ATTEMPTS)return await new Promise(c=>setTimeout(c,this.RETRY_DELAY*a)),this.sendEventWithRetry(s,a+1);console.error(`Analytics: Failed to send event after ${this.RETRY_ATTEMPTS} attempts:`,o)}}sanitizeValue(s){if(typeof s=="string")return s.replace(/\b\d{4}[\s-]\d{4}[\s-]\d{4}[\s-]\d{4}\b/g,"[CARD_NUMBER]").replace(/\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b/g,"[EMAIL]").replace(/\b\d{3}[\s-]\d{2}[\s-]\d{4}\b/g,"[SSN]");if(typeof s=="object"&&s!==null){const a=Array.isArray(s)?[]:{};for(const o in s)o.toLowerCase().includes("password")||o.toLowerCase().includes("token")||o.toLowerCase().includes("secret")?a[o]="[REDACTED]":a[o]=this.sanitizeValue(s[o]);return a}return s}async flushPendingEvents(){if(this.pendingEvents.length===0)return;const s=[...this.pendingEvents];this.pendingEvents=[];for(const a of s)await this.sendEvent(a)}recordActivity(){if(!this.session&&this.isAuthenticated){this.startSession().catch(console.error);return}this.session&&(this.session.lastActivity=Date.now(),this.updateStorage()),this.activityTimer&&clearTimeout(this.activityTimer),this.startInactivityTimer()}startInactivityTimer(){this.activityTimer&&clearTimeout(this.activityTimer),this.activityTimer=window.setTimeout(async()=>{await this.endSession()},this.SESSION_TIMEOUT)}startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.session&&(this.heartbeatTimer=window.setInterval(()=>{this.sendHeartbeat()},this.HEARTBEAT_INTERVAL))}stopHeartbeat(){this.heartbeatTimer&&(clearInterval(this.heartbeatTimer),this.heartbeatTimer=null)}async sendHeartbeat(){if(!(!this.session||!this.isOnline||!this.isAuthenticated))try{this.session.lastActivity=Date.now(),this.updateStorage();const s=await fetch("/api/analytics/heartbeat",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-Session-ID":this.session.sessionId},body:JSON.stringify({sessionId:this.session.sessionId,lastActivity:this.session.lastActivity,isVisible:!document.hidden,currentProjectId:this.session.currentProjectId,currentPage:this.session.currentPage})});s.ok||(s.status===401||s.status===403?(console.warn("Analytics: Session unauthorized, ending session and stopping heartbeat"),this.isAuthenticated=!1,this.session=null,localStorage.removeItem("analytics_session"),this.stopHeartbeat()):console.warn(`Analytics: Heartbeat failed with status ${s.status}`))}catch(s){console.error("Analytics: Heartbeat network error:",s)}}async sendHeartbeatNow(){await this.sendHeartbeat()}getFieldType(s,a){return Array.isArray(a)?"array":typeof a=="object"&&a!==null?"object":typeof a=="boolean"?"boolean":typeof a=="number"?"number":typeof a=="string"?s.toLowerCase().includes("email")?"email":s.toLowerCase().includes("url")?"url":s.toLowerCase().includes("color")?"color":s.toLowerCase().includes("date")?"date":s.toLowerCase().includes("description")||s.toLowerCase().includes("content")||a.length>100?"text_long":"text_short":"unknown"}async getProjectsTimeData(s=30){try{const a=await fetch(`/api/analytics/projects/time?days=${s}`,{method:"GET",credentials:"include"});if(!a.ok)throw new Error(`Failed to fetch projects time data: ${a.status}`);return await a.json()}catch(a){return console.error("Failed to fetch projects time data:",a),{projects:[],period:`${s} days`}}}async getProjectTimeData(s,a=30){try{const o=await fetch(`/api/analytics/project/${s}/time?days=${a}`,{method:"GET",credentials:"include"});if(!o.ok)throw new Error(`Failed to fetch project time data: ${o.status}`);return await o.json()}catch(o){return console.error("Failed to fetch project time data:",o),{projectId:s,totalTime:0,dailyBreakdown:[],period:`${a} days`}}}}const Te=In.getInstance(),ss={getProjectActivities:async(r,s={})=>{const a=new URLSearchParams;return s.limit&&a.append("limit",s.limit.toString()),s.offset&&a.append("offset",s.offset.toString()),s.userId&&a.append("userId",s.userId),s.resourceType&&a.append("resourceType",s.resourceType),s.startDate&&a.append("startDate",s.startDate.toISOString()),s.endDate&&a.append("endDate",s.endDate.toISOString()),(await rt.get(`/activity-logs/project/${r}?${a}`)).data},getRecentActivities:async(r,s=5)=>(await rt.get(`/activity-logs/project/${r}/recent?minutes=${s}`)).data.activities,getActiveUsers:async(r,s=3)=>(await rt.get(`/activity-logs/project/${r}/active-users?minutes=${s}`)).data,logActivity:async r=>(await rt.post("/activity-logs/log",r)).data,getUserActivities:async(r,s={})=>{const a=new URLSearchParams;return s.limit&&a.append("limit",s.limit.toString()),s.offset&&a.append("offset",s.offset.toString()),s.projectId&&a.append("projectId",s.projectId),s.startDate&&a.append("startDate",s.startDate.toISOString()),s.endDate&&a.append("endDate",s.endDate.toISOString()),(await rt.get(`/activity-logs/user/${r}?${a}`)).data}},cb=r=>{const s=`${r.userId.firstName} ${r.userId.lastName}`,a=r.resourceType,o=r.details?.resourceName,c=r.details?.fileName,u=r.details?.field,m=()=>c?`"${c}"`:o?`"${o}"`:`${a}`,p=f=>f?f.replace(/([A-Z])/g," $1").replace(/^./,b=>b.toUpperCase()).trim():"";switch(r.action){case"created":return o||c?`${s} created ${m()}`:`${s} created a ${a}`;case"updated":return u&&(o||c)?`${s} edited ${p(u)} in ${m()}`:u?`${s} updated ${p(u)}`:o||c?`${s} updated ${m()}`:`${s} updated a ${a}`;case"deleted":return o||c?`${s} deleted ${m()}`:`${s} deleted a ${a}`;case"viewed":return o||c?`${s} viewed ${m()}`:`${s} viewed ${a}`;case"invited_member":const f=r.details?.metadata?.memberName;return f?`${s} invited ${f} to the team`:`${s} invited a team member`;case"removed_member":const v=r.details?.metadata?.memberName;return v?`${s} removed ${v} from the team`:`${s} removed a team member`;case"updated_role":const b=r.details?.metadata?.memberName,g=r.details?.newValue;return b&&g?`${s} changed ${b}'s role to ${g}`:g?`${s} updated a team member's role to ${g}`:`${s} updated a team member's role`;case"added_tech":const k=r.details?.metadata?.techName||r.details?.newValue;return k?`${s} added "${k}" technology`:`${s} added a technology`;case"removed_tech":const N=r.details?.metadata?.techName||r.details?.oldValue;return N?`${s} removed "${N}" technology`:`${s} removed a technology`;case"added_package":const j=r.details?.metadata?.packageName||r.details?.newValue;return j?`${s} added package "${j}"`:`${s} added a package`;case"removed_package":const w=r.details?.metadata?.packageName||r.details?.oldValue;return w?`${s} removed package "${w}"`:`${s} removed a package`;case"shared_project":return`${s} made the project public`;case"unshared_project":return`${s} made the project private`;case"archived_project":return`${s} archived the project`;case"unarchived_project":return`${s} unarchived the project`;case"joined_project":return`${s} started working on the project`;case"left_project":return`${s} stopped working on the project`;case"exported_data":const S=r.details?.metadata?.format;return S?`${s} exported project data as ${S.toUpperCase()}`:`${s} exported project data`;case"imported_data":const _=r.details?.metadata?.source;return _?`${s} imported data from ${_}`:`${s} imported project data`;case"cleared_activity_log":const T=r.details?.metadata?.deletedCount;return T?`${s} cleared ${T} activity log entries`:`${s} cleared the activity log`;default:return`${s} performed ${r.action} on ${m()}`}},db=r=>{const s=new Date,a=new Date(r),o=Math.floor((s.getTime()-a.getTime())/1e3);if(o<60)return`${o}s ago`;const c=Math.floor(o/60);if(c<60)return`${c}m ago`;const u=Math.floor(c/60);if(u<24)return`${u}h ago`;const m=Math.floor(u/24);return m<7?`${m}d ago`:a.toLocaleDateString()},ub=({projectId:r,currentUserId:s,showInSessionTracker:a=!1,className:o=""})=>{const[c,u]=x.useState([]),[m,p]=x.useState(!1),f=async()=>{if(r)try{p(!0);const g=await ss.getActiveUsers(r,3),k=s?g.activeUsers.filter(N=>N.userId!==s):g.activeUsers;u(k)}catch(g){console.error("Failed to load active users:",g)}finally{p(!1)}};if(x.useEffect(()=>{if(r){f();const g=setInterval(f,15e3);return()=>clearInterval(g)}else u([])},[r,s]),x.useEffect(()=>{r||Te.getCurrentProject()},[r]),!r||c.length===0)return null;const v=(g,k)=>`${g.charAt(0)}${k.charAt(0)}`.toUpperCase(),b=g=>{const k=new Date,N=new Date(g),j=Math.floor((k.getTime()-N.getTime())/1e3);return j<60?"ring-success":j<180?"ring-warning":"ring-base-content/30"};return a?e.jsxs("div",{className:`flex items-center gap-1 ${o}`,children:[e.jsx("div",{className:"flex -space-x-1",children:c.slice(0,3).map(g=>e.jsx("div",{className:`w-6 h-6 rounded-full bg-secondary flex items-center justify-center text-secondary-content text-xs font-medium ring-2 ring-base-100 ${b(g.lastActivity)}`,title:`${g.user.firstName} ${g.user.lastName} - Active now`,children:v(g.user.firstName,g.user.lastName)},g.sessionId))}),c.length>3&&e.jsxs("span",{className:"text-xs text-base-content/60 ml-1",children:["+",c.length-3]})]}):e.jsxs("div",{className:`flex items-center gap-2 ${o}`,children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4 text-success",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"})}),e.jsx("span",{className:"text-sm font-medium",children:c.length})]}),e.jsx("div",{className:"flex -space-x-2",children:c.slice(0,4).map(g=>e.jsx("div",{className:`w-8 h-8 rounded-full bg-primary flex items-center justify-center text-primary-content text-sm font-medium ring-2 ring-base-100 ${b(g.lastActivity)}`,title:`${g.user.firstName} ${g.user.lastName} - ${g.currentPage?`viewing ${g.currentPage}`:"active now"}`,children:v(g.user.firstName,g.user.lastName)},g.sessionId))}),c.length>4&&e.jsxs("span",{className:"text-xs text-base-content/60",children:["+",c.length-4," more"]}),m&&e.jsx("div",{className:"loading loading-spinner loading-sm opacity-50"})]})},Zh=({showDetails:r=!1,className:s="",currentUserId:a,projectId:o})=>{const[c,u]=x.useState(null),[m,p]=x.useState(!1);x.useEffect(()=>{const g=()=>{const N=Te.getSessionInfo();u(N)};g();const k=setInterval(g,1e3);return()=>clearInterval(k)},[]);const f=g=>{const k=Math.floor(g/3600),N=Math.floor(g%3600/60),j=g%60;return k>0?`${k}h ${N}m`:N>0?`${N}m ${j}s`:`${j}s`},v=g=>g?"Active":"Background",b=g=>g?"text-success":"text-info";return c?e.jsxs("div",{className:`session-tracker relative ${s}`,children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-base-100/80 rounded-lg border border-base-content/10 shadow-sm hover:bg-base-200/70 transition-all duration-200 w-28 h-8",children:[e.jsx("div",{className:"tooltip tooltip-left","data-tip":`Session: ${f(c.duration)} | Status: ${v(c.isActive)}`,children:e.jsx("div",{className:`w-2 h-2 rounded-full shadow-sm ${c.isActive?"bg-success animate-pulse":"bg-info"}`})}),e.jsx("button",{onClick:()=>p(!m),className:"text-xs text-base-content/70 hover:text-base-content/90 font-mono font-medium transition-colors duration-200 flex-1 text-center",children:f(c.duration)}),o&&e.jsx(ub,{projectId:o,currentUserId:a,showInSessionTracker:!0,className:"ml-1"})]}),(m||r)&&e.jsx("div",{className:"absolute right-0 md:right-0 top-full mt-2 bg-base-100 border border-base-content/10 rounded-lg shadow-lg p-4 z-50 min-w-64 max-w-80 md:min-w-64 transform -translate-x-full md:translate-x-0",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Session Info"}),e.jsx("button",{onClick:()=>p(!1),className:"btn btn-ghost btn-xs",children:""})]}),e.jsx("div",{className:"divider"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-base-content/60",children:"Status:"}),e.jsx("span",{className:b(c.isActive),children:v(c.isActive)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-base-content/60",children:"Total Time:"}),e.jsx("span",{className:"font-mono",children:f(c.duration)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-base-content/60",children:"Pages Viewed:"}),e.jsx("span",{children:c.pageViews})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-base-content/60",children:"Projects:"}),e.jsx("span",{children:c.projectsViewed})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-base-content/60",children:"Actions:"}),e.jsx("span",{children:c.events})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-base-content/60",children:"Session ID:"}),e.jsx("span",{className:"font-mono text-xs truncate max-w-24",title:c.sessionId,children:c.sessionId.slice(-8)})]})]})]})})]}):null};class hb{components=new Set;listeners=new Set;confirmationHandler=null;setUnsavedChanges(s,a){a?this.components.add(s):this.components.delete(s),this.notifyListeners()}hasUnsavedChanges(){return this.components.size>0}clearAll(){this.components.clear(),this.notifyListeners()}subscribe(s){return this.listeners.add(s),()=>{this.listeners.delete(s)}}notifyListeners(){this.listeners.forEach(s=>s())}setConfirmationHandler(s){this.confirmationHandler=s}savePromptHandler=null;setSavePromptHandler(s){this.savePromptHandler=s}async checkNavigationAllowed(){if(!this.hasUnsavedChanges())return!0;const s="You have unsaved changes. Are you sure you want to leave this page?";return this.confirmationHandler?await this.confirmationHandler(s):window.confirm(s)}async checkSavePrompt(){if(!this.hasUnsavedChanges())return"discard";const s="You have unsaved changes. What would you like to do?";return this.savePromptHandler?await this.savePromptHandler(s):window.confirm("You have unsaved changes. Do you want to save before continuing?")?"save":"discard"}checkNavigationAllowedSync(){return this.hasUnsavedChanges()?window.confirm("You have unsaved changes. Are you sure you want to leave this page?"):!0}}const jt=new hb;if(typeof window<"u"){const r=s=>{if(jt.hasUnsavedChanges())return s.preventDefault(),s.returnValue="You have unsaved changes. Are you sure you want to leave?","You have unsaved changes. Are you sure you want to leave?"};window.addEventListener("beforeunload",r)}const em=()=>{const[r,s]=x.useState(0),[a,o]=x.useState([]),[c,u]=x.useState(!1),[m,p]=x.useState(!1),[f,v]=x.useState(null),[b,g]=x.useState(!1),[k,N]=x.useState(!1),[j,w]=x.useState(!1),[S,_]=x.useState(""),[T,I]=x.useState(!1),V=x.useRef(null),ee=He();x.useEffect(()=>{const B=async()=>{try{const D=await Rl.getNotifications({limit:5});o(D.notifications),s(D.unreadCount)}catch(D){console.error("Failed to fetch notifications:",D)}};B();const J=setInterval(B,1e4);return()=>clearInterval(J)},[]),x.useEffect(()=>{const B=J=>{V.current&&!V.current.contains(J.target)&&u(!1)};return c&&document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}},[c]);const F=async B=>{try{await Rl.markAsRead(B),o(J=>J.map(D=>D._id===B?{...D,isRead:!0}:D)),s(J=>Math.max(0,J-1))}catch(J){console.error("Failed to mark as read:",J)}},q=async B=>{if(B.isRead||await F(B._id),u(!1),B.type==="project_invitation"&&B.relatedInvitationId)try{if((await Al.getPending()).invitations.find(le=>le._id===B.relatedInvitationId))v(B),p(!0);else if(B.relatedProjectId&&await jt.checkNavigationAllowed()){const W=typeof B.relatedProjectId=="string"?B.relatedProjectId:B.relatedProjectId._id;localStorage.setItem("selectedProjectId",W),window.dispatchEvent(new CustomEvent("selectProject",{detail:{projectId:W}})),ee("/notes")}}catch(J){console.error("Failed to check invitation status:",J),v(B),p(!0)}else if(B.relatedProjectId&&await jt.checkNavigationAllowed()){const D=typeof B.relatedProjectId=="string"?B.relatedProjectId:B.relatedProjectId._id;localStorage.setItem("selectedProjectId",D),window.dispatchEvent(new CustomEvent("selectProject",{detail:{projectId:D}})),ee("/notes")}},Y=async()=>{if(!(!f||T)){I(!0);try{const J=(await Al.getPending()).invitations.find(D=>D._id===f.relatedInvitationId);J?(await Al.acceptInvitation(J.token),p(!1),v(null),_(`Successfully joined ${f.relatedProjectId?.name||"the project"}!`),N(!0),setTimeout(async()=>{if(f.relatedProjectId&&await jt.checkNavigationAllowed()){const le=typeof f.relatedProjectId=="string"?f.relatedProjectId:f.relatedProjectId._id;localStorage.setItem("selectedProjectId",le),window.dispatchEvent(new CustomEvent("selectProject",{detail:{projectId:le}})),ee("/notes")}},1500)):(_("Invitation not found or already processed"),p(!1),v(null),w(!0))}catch(B){console.error("Failed to accept invitation:",B);const J=B.response?.data?.message||B.message||"Failed to accept invitation";_(J),p(!1),v(null),w(!0)}finally{I(!1)}}},M=()=>{p(!1),v(null),_("Invitation declined"),N(!0)};return e.jsxs("div",{className:"relative",ref:V,children:[e.jsxs("button",{className:"btn btn-ghost btn-circle relative",onClick:()=>u(!c),children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),r>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-error text-error-content text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:r>9?"9+":r})]}),c&&e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-base-100 rounded-box z-[60] p-2 shadow-lg border border-base-300",children:[e.jsxs("div",{className:"flex justify-between items-center p-2",children:[e.jsx("h3",{className:"font-semibold",children:"Notifications"}),a.length>0&&e.jsx("button",{className:"btn btn-xs btn-ghost",onClick:()=>{g(!0),u(!1)},children:"Clear all"})]}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:a.length===0?e.jsx("p",{className:"text-center p-4 text-base-content/60",children:"No notifications"}):a.map(B=>e.jsxs("div",{className:`p-2 rounded cursor-pointer hover:bg-base-200 ${B.isRead?"":"bg-primary/10"}`,onClick:()=>q(B),children:[e.jsx("div",{className:"font-medium text-sm",children:B.title}),e.jsx("div",{className:"text-xs text-base-content/70",children:B.message})]},B._id))})]}),m&&f&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 translate-y-48 ",children:e.jsxs("div",{className:"bg-base-100 rounded-lg shadow-xl p-6 w-full max-w-md",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 bg-primary/10 rounded-full",children:e.jsx("svg",{className:"w-8 h-8 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),e.jsx("h3",{className:"text-xl font-bold text-center mb-4",children:"Project Invitation"}),e.jsxs("p",{className:"text-center text-base-content/70 mb-6",children:['Accept invitation to join "',f.relatedProjectId?.name||"this project",'"?']}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{className:"btn btn-ghost flex-1",onClick:M,disabled:T,children:"Decline"}),e.jsx("button",{className:"btn btn-primary flex-1",onClick:Y,disabled:T,children:T?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner loading-sm"}),"Accepting..."]}):"Accept"})]})]})}),b&&e.jsx("div",{className:"fixed inset-0 translate-y-48 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-base-100 rounded-lg shadow-xl p-6 w-full max-w-md",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 bg-warning/10 rounded-full",children:e.jsx("svg",{className:"w-8 h-8 text-warning",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h3",{className:"text-xl font-bold text-center mb-4",children:"Clear All Notifications"}),e.jsx("p",{className:"text-center text-base-content/70 mb-6",children:"Are you sure you want to clear all notifications? This action cannot be undone."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{className:"btn btn-ghost flex-1",onClick:()=>g(!1),children:"Cancel"}),e.jsx("button",{className:"btn btn-warning flex-1",onClick:async()=>{try{for(const B of a)await Rl.deleteNotification(B._id);o([]),s(0),g(!1)}catch(B){console.error("Failed to clear notifications:",B),g(!1)}},children:"Clear All"})]})]})}),k&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 translate-y-48",children:e.jsxs("div",{className:"bg-base-100 rounded-lg shadow-xl p-6 w-full max-w-md",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 bg-success/10 rounded-full",children:e.jsx("svg",{className:"w-8 h-8 text-success",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-xl font-bold text-center mb-4",children:"Success"}),e.jsx("p",{className:"text-center text-base-content/70 mb-6",children:S}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{className:"btn btn-primary",onClick:()=>N(!1),children:"OK"})})]})}),j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 translate-y-48",children:e.jsxs("div",{className:"bg-base-100 rounded-lg shadow-xl p-6 w-full max-w-md",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 bg-error/10 rounded-full",children:e.jsx("svg",{className:"w-8 h-8 text-error",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("h3",{className:"text-xl font-bold text-center mb-4",children:"Error"}),e.jsx("p",{className:"text-center text-base-content/70 mb-6",children:S}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{className:"btn btn-primary",onClick:()=>w(!1),children:"OK"})})]})})]})},tm=({user:r,onLogout:s})=>{const[a,o]=x.useState(!1),c=x.useRef(null),u=He(),m=async p=>{await jt.checkNavigationAllowed()&&(u(p),o(!1))};return x.useEffect(()=>{const p=f=>{c.current&&!c.current.contains(f.target)&&o(!1)};return a&&document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[a]),e.jsxs("div",{className:"relative",ref:c,children:[e.jsx("button",{className:"btn btn-ghost btn-circle relative",onClick:()=>o(!a),children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),a&&e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-base-100 rounded-box z-[60] p-2 shadow-lg border border-base-300",children:[e.jsx("div",{className:"flex justify-between items-center p-2",children:e.jsx("h3",{className:"font-semibold",children:"User Menu"})}),e.jsxs("div",{className:"max-h-80 overflow-y-auto",children:[e.jsx("div",{className:"p-2 rounded cursor-pointer hover:bg-base-200",onClick:()=>m("/billing"),children:"Billing & Plans"}),e.jsx("div",{className:"p-2 rounded cursor-pointer hover:bg-base-200",onClick:()=>m("/account-settings"),children:"Account Settings"}),e.jsx("div",{className:"p-2 rounded cursor-pointer hover:bg-base-200",onClick:()=>m("/help"),children:"Help & Info"}),e.jsx("div",{className:"p-2 rounded cursor-pointer hover:bg-base-200",onClick:()=>m("/support"),children:"Contact Support"}),r?.isAdmin&&e.jsx("div",{className:"p-2 rounded cursor-pointer hover:bg-base-200",onClick:()=>m("/admin"),children:"Admin Dashboard"}),e.jsx("hr",{className:"my-2 border-base-300"}),e.jsx("div",{className:"p-2 rounded cursor-pointer hover:bg-base-200 text-error",onClick:()=>{s(),o(!1)},children:"Logout"})]})]})]})},mb=(r={})=>{const{trackPageViews:s=!0,trackFieldEdits:a=!0,projectId:o,projectName:c}=r,u=Fs(),m=x.useRef({}),p=x.useRef(!1),[f,v]=x.useState(!1),b=x.useRef(null);x.useEffect(()=>((async()=>{if(!p.current){try{await Te.startSession(),v(!0)}catch(S){console.error("Failed to initialize analytics session:",S),v(!0)}p.current=!0}})(),b.current=window.setInterval(()=>{if(!Te.hasActiveSession()&&p.current){v(!1);const _=()=>{Te.hasActiveSession()?v(!0):setTimeout(_,1e3)};setTimeout(_,1e3)}},5e3),()=>{b.current&&clearInterval(b.current)}),[]),x.useEffect(()=>{s&&f&&Te.trackPageView(u.pathname)},[u.pathname,s,f]),x.useEffect(()=>{o&&c&&f&&Te.trackProjectOpen(o,c)},[o,c,f]);const g=x.useCallback((w,S,_,T,I)=>{a&&Te.trackFieldEdit(w,S,_,T||o,I||c)},[a,o,c]),k=x.useCallback((w,S)=>{Te.trackAction(w,{...S,projectId:o,projectName:c})},[o,c]),N=x.useCallback((w,S)=>{const _=`${o||"global"}_${w}`,T=m.current[_];T!==void 0&&T!==S&&g(w,T,S),m.current[_]=S},[g,o]),j=x.useCallback(()=>Te.getSessionInfo(),[]);return{trackFieldEdit:g,trackAction:k,trackFormField:N,getSessionInfo:j,hasActiveSession:()=>Te.hasActiveSession(),trackPageView:w=>Te.trackPageView(w),trackProjectOpen:(w,S)=>Te.trackProjectOpen(w,S),endSession:()=>Te.endSession(),startSession:()=>Te.startSession(),setCurrentUser:w=>Te.setCurrentUser(w),clearUserSession:()=>Te.clearUserSession(),trackFeatureUsage:(w,S,_)=>Te.trackFeatureUsage(w,S,_),trackNavigation:(w,S,_)=>Te.trackNavigation(w,S,_),trackSearch:(w,S,_)=>Te.trackSearch(w,S,_),trackError:(w,S,_,T)=>Te.trackError(w,S,_,T),trackPerformance:(w,S,_,T)=>Te.trackPerformance(w,S,_,T),trackUIInteraction:(w,S,_,T,I)=>Te.trackUIInteraction(w,S,_,T,I),trackButtonClick:(w,S,_)=>Te.trackButtonClick(w,S,_),trackTabSwitch:(w,S,_)=>Te.trackTabSwitch(w,S,_),trackFormSubmission:(w,S,_,T)=>Te.trackFormSubmission(w,S,_,T),trackModalInteraction:(w,S,_)=>Te.trackModalInteraction(w,S,_),trackFileOperation:(w,S,_,T)=>Te.trackFileOperation(w,S,_,T),getAnalyticsStats:()=>Te.getAnalyticsStats(),flushEvents:()=>Te.flushEvents()}};class pb{toasts=[];listeners=new Set;show(s,a="info",o=4e3){const c=Math.random().toString(36).substr(2,9),u={id:c,message:s,type:a,duration:o};return this.toasts.push(u),this.notifyListeners(),setTimeout(()=>{this.remove(c)},o),c}remove(s){this.toasts=this.toasts.filter(a=>a.id!==s),this.notifyListeners()}clear(){this.toasts=[],this.notifyListeners()}success(s,a){return this.show(s,"success",a)}error(s,a){return this.show(s,"error",a)}warning(s,a){return this.show(s,"warning",a)}info(s,a){return this.show(s,"info",a)}subscribe(s){return this.listeners.add(s),()=>this.listeners.delete(s)}notifyListeners(){this.listeners.forEach(s=>s([...this.toasts]))}getToasts(){return[...this.toasts]}}const yt=new pb,fb=()=>{const[r,s]=x.useState([]);if(x.useEffect(()=>{const u=yt.subscribe(s);return()=>{u()}},[]),r.length===0)return null;const a=u=>{switch(u){case"success":return"alert-success";case"error":return"alert-error";case"warning":return"alert-warning";case"info":default:return"alert-info"}},o=u=>{switch(u){case"success":return e.jsx("svg",{className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"error":return e.jsx("svg",{className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})});case"warning":return e.jsx("svg",{className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})});case"info":default:return e.jsx("svg",{className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}},c=e.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-[99999] space-y-2",children:r.map(u=>e.jsxs("div",{className:`alert ${a(u.type)} shadow-xl min-w-96 max-w-lg`,children:[o(u.type),e.jsx("span",{children:u.message}),e.jsx("button",{className:"btn btn-sm btn-ghost",onClick:()=>yt.remove(u.id),children:""})]},u.id))});return mm.createPortal(c,document.body)},xb=()=>{const r=He(),s=Fs(),[a]=xi(),[o,c]=x.useState(null),[u,m]=x.useState([]),[p,f]=x.useState(null),[v,b]=x.useState(!0),[g,k]=x.useState(""),[N,j]=x.useState("active"),[w,S]=x.useState("users"),[_,T]=x.useState({}),[I,V]=x.useState(!1),[ee,F]=x.useState(null),q=mb({trackPageViews:!0,projectId:p?.id,projectName:p?.name}),[Y,M]=x.useState(()=>localStorage.getItem("theme")||"retro"),[B,J]=x.useState(()=>{const $=localStorage.getItem("collapsedSections");return $?JSON.parse($):{}});x.useEffect(()=>{document.documentElement.setAttribute("data-theme",Y)},[Y]),x.useEffect(()=>{localStorage.setItem("collapsedSections",JSON.stringify(B))},[B]),x.useEffect(()=>{const $=R=>new Promise(H=>{F(()=>H),V(!0)});jt.setConfirmationHandler($)},[]);const D=()=>{V(!1),ee&&(ee(!0),F(null))},le=()=>{V(!1),ee&&(ee(!1),F(null))},W=async $=>{const R=s.pathname+s.search;await jt.checkNavigationAllowed()?(q.trackNavigation(R,$,{navigationMethod:"internal_link",hasUnsavedChanges:!1}),r($)):q.trackFeatureUsage("unsaved_changes_protection","Layout",{fromPath:R,toPath:$,blocked:!0})},te=$=>{const R=p;f($),localStorage.setItem("selectedProjectId",$.id),k(""),q.trackFeatureUsage("project_selection","Layout",{projectId:$.id,projectName:$.name,previousProjectId:R?.id,selectionMethod:"direct_click",projectCategory:$.category});const H=q.getSessionInfo();H?.sessionId&&ln.switchProject(H.sessionId,$.id).catch(me=>{console.warn("Failed to record project switch:",me)}),setTimeout(()=>{se()},1e3),window.scrollTo(0,0)},he=$=>{const R=B[$];J(H=>({...H,[$]:!H[$]})),q.trackUIInteraction("click",`section-${$}`,$,"Layout",{action:R?"expand":"collapse",sectionName:$})},ue=$=>{const R={};return $.forEach(H=>{const Le=(H.category||"General").split(" ").map($e=>$e.charAt(0).toUpperCase()+$e.slice(1).toLowerCase()).join(" ");R[Le]||(R[Le]=[]),R[Le].push(H)}),Object.keys(R).forEach(H=>{R[H].sort((me,Le)=>me.name.localeCompare(Le.name))}),R},se=async()=>{try{const $=await ln.getProjectsTime(30);if($&&$.projects&&Array.isArray($.projects)){const R={};$.projects.forEach(H=>{R[H._id]=H.totalTime||0}),console.log("DEBUG: Project time data loaded (nested):",Object.keys(R).length,"projects"),T(R)}else if($&&Array.isArray($)){const R={};$.forEach(H=>{R[H._id]=H.totalTime||0}),console.log("DEBUG: Project time data loaded (direct array):",Object.keys(R).length,"projects"),T(R)}}catch($){console.error("Failed to load project time data:",$)}},de=$=>{const R=_[$]||0,H=Math.floor(R/(1e3*60)),me=Math.floor(H/60),Le=H%60;return me>0?`${me}h ${Le}m`:Le>0?`${Le}m`:"0m"},L=async()=>{try{const $=await De.getAll();m($.projects),await se();const R=localStorage.getItem("selectedProjectId");if(R){const H=$.projects.find(me=>me.id===R);if(H){f(H);return}}if($.projects.length>0){const H=$.projects.filter(Le=>!Le.isArchived),me=H.length>0?H[0]:$.projects[0];te(me)}}catch($){console.error("Failed to load projects:",$)}};x.useEffect(()=>{(async()=>{if(s.pathname.startsWith("/project/")||s.pathname.startsWith("/user/")){b(!1);return}try{const[H,me]=await Promise.all([Bt.getMe(),De.getAll()]);if(c(H.user),m(me.projects),await se(),H.user?.theme){const $e=H.user.theme;M($e),localStorage.setItem("theme",$e),document.documentElement.setAttribute("data-theme",$e)}q.setCurrentUser(H.user?.id||null);const Le=localStorage.getItem("selectedProjectId");if(Le){const $e=me.projects.find(Gt=>Gt.id===Le);if($e){f($e);return}}if((s.pathname==="/"||s.pathname==="/notes")&&(j("active"),r("/notes?view=projects")),me.projects.length>0){const $e=me.projects.filter(ms=>!ms.isArchived),Gt=$e.length>0?$e[0]:me.projects[0];te(Gt)}}catch{r("/login")}finally{b(!1)}})()},[r,s.pathname]),x.useEffect(()=>{const $=H=>{const{projectId:me}=H.detail;if(u.length>0){const Le=u.find($e=>$e.id===me);Le&&f(Le)}},R=()=>{o&&L()};return window.addEventListener("selectProject",$),window.addEventListener("refreshProject",R),()=>{window.removeEventListener("selectProject",$),window.removeEventListener("refreshProject",R)}},[u,o]),x.useEffect(()=>{if(!o)return;const $=setInterval(()=>{se()},3e4);return()=>clearInterval($)},[o]),x.useEffect(()=>{if(!o)return;const $=()=>{document.hidden||se()};return document.addEventListener("visibilitychange",$),()=>{document.removeEventListener("visibilitychange",$)}},[o]);const C=async()=>{try{q.clearUserSession(),await Bt.logout(),r("/login")}catch{q.clearUserSession(),r("/login")}},P=async($,R)=>{try{if(!$||$==="undefined")throw new Error("Invalid project ID");const H=await De.update($,R);return await L(),H}catch(H){throw console.error("Failed to update project:",H),H}},X=async($,R)=>{try{await De.archive($,R),await L()}catch(H){throw console.error("Failed to archive project:",H),H}},oe=async $=>{try{await De.deleteProject($),await L(),p?.id===$&&f(null)}catch(R){throw console.error("Failed to delete project:",R),R}};if(v)return e.jsx("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:e.jsx("div",{className:"loading loading-spinner loading-lg"})});const pe=[{id:"notes",label:"Notes / To Dos",path:"/notes"},{id:"stack",label:"Stack",path:"/stack"},{id:"docs",label:"Docs",path:"/docs"},{id:"deployment",label:"Deployment",path:"/deployment"},{id:"public",label:"Public",path:"/public"},{id:"settings",label:"Settings",path:"/settings"}],ye=s.pathname.slice(1)||"notes",ke=u.filter($=>$.name.toLowerCase().includes(g.toLowerCase())||$.category&&$.category.toLowerCase().includes(g.toLowerCase())||$.tags&&$.tags.some(R=>R.toLowerCase().includes(g.toLowerCase()))),G=ke.filter($=>!$.isArchived&&!$.isShared),Z=ke.filter($=>$.isArchived&&!$.isShared),ne=ke.filter($=>$.isShared);ne.length>0&&(console.log("DEBUG: Shared projects found:",ne.length),console.log("DEBUG: Shared project IDs:",ne.map($=>$.id)),console.log("DEBUG: Shared project names:",ne.map($=>$.name)));const Se=ue(G),Ve=ue(Z),kt=ue(ne);return e.jsxs("div",{className:"min-h-screen bg-base-100 flex flex-col",children:[e.jsxs("header",{className:"bg-base-100 border-b border-base-content/10 shadow-sm sticky top-0 z-40",children:[e.jsx("div",{className:"block desktop:hidden px-4 py-2",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex-between-center",children:[e.jsxs("div",{className:"flex-center-gap-2 cursor-pointer",onClick:()=>r("/notes?view=projects"),children:[e.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center shadow-sm",children:e.jsx("svg",{className:"icon-md text-primary-content",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})})}),e.jsx("h1",{className:"text-lg font-bold bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent",children:"Dev Codex"})]}),o?e.jsxs("div",{className:"flex-center-gap-2",children:[p&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-base-100/80 rounded-lg border border-base-content/10 shadow-sm hover:bg-base-200/70 transition-all duration-200 cursor-pointer h-8",onClick:()=>W("/notes"),title:`Current project: ${p.name}`,children:[e.jsx("div",{className:"w-2 h-2 rounded-full shadow-sm",style:{backgroundColor:p.color}}),e.jsx("span",{className:"text-xs font-medium truncate max-w-16",children:p.name})]}),e.jsx(Zh,{projectId:p?.id,currentUserId:o?.id}),e.jsxs("span",{className:"text-sm font-medium text-base-content/80 ml-2",children:["Hi, ",o?.firstName,"!"]}),e.jsx(em,{}),e.jsx(tm,{user:o,onLogout:C})]}):e.jsx("button",{onClick:()=>r("/login"),className:"btn-primary-sm",children:"Sign In"})]}),e.jsx("div",{className:"flex flex-col sm:flex-row gap-2",children:e.jsxs("div",{className:"flex-center-gap-2 flex-1",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("svg",{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 icon-sm text-base-content/50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Search",value:g,onChange:$=>{const R=$.target.value;if(k(R),R.trim()){const H=u.filter(me=>me.name.toLowerCase().includes(R.toLowerCase())||me.category&&me.category.toLowerCase().includes(R.toLowerCase())||me.tags&&me.tags.some(Le=>Le.toLowerCase().includes(R.toLowerCase()))).length;q.trackSearch(R,H,"MobileSearch"),a.get("view")!=="projects"&&r("/notes?view=projects")}else g.trim()&&q.trackFeatureUsage("search_clear","MobileSearch")},className:"input-field input-sm pl-9 pr-8 w-full bg-base-100/80 backdrop-blur-sm"}),g&&e.jsx("button",{onClick:()=>k(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 icon-sm text-base-content/50 hover:text-base-content/80 transition-colors",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{children:e.jsx("button",{onClick:$=>{$.preventDefault(),$.stopPropagation(),q.trackButtonClick("Create Project","MobileHeader",{location:"mobile_header",hasSelectedProject:!!p}),r("/create-project")},className:"btn btn-primary btn-sm btn-circle shadow-sm relative z-50",title:"New Project",style:{pointerEvents:"auto"},children:e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})})]})}),s.pathname!=="/support"&&e.jsxs("div",{className:"flex my-2 gap-1 overflow-x-auto scrollbar-hide self-center pb-2",children:[e.jsxs("button",{className:`btn btn-sm ${a.get("view")==="projects"?"btn-primary":"btn-ghost"} gap-1 font-bold whitespace-nowrap`,onClick:()=>W("/notes?view=projects"),children:[e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),e.jsx("span",{className:"hidden sm:inline",children:"My Projects"}),e.jsx("span",{className:"sm:hidden",children:"Projects"})]}),e.jsxs("button",{className:`btn btn-sm ${(s.pathname==="/notes"||s.pathname==="/stack"||s.pathname==="/docs"||s.pathname==="/deployment"||s.pathname==="/public"||s.pathname==="/settings")&&a.get("view")!=="projects"?"btn-primary":"btn-ghost"} gap-1 font-bold whitespace-nowrap`,onClick:()=>W("/notes"),children:[e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("span",{className:"hidden sm:inline",children:"Project Details"}),e.jsx("span",{className:"sm:hidden",children:"Details"})]}),e.jsxs("button",{className:`btn btn-sm ${s.pathname==="/ideas"?"btn-primary":"btn-ghost"} gap-1 font-bold whitespace-nowrap`,onClick:()=>W("/ideas"),children:[e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Ideas"]}),e.jsxs("button",{className:`btn btn-sm ${s.pathname==="/discover"||s.pathname.startsWith("/discover/")?"btn-primary":"btn-ghost"} gap-1 font-bold whitespace-nowrap`,onClick:()=>{q.trackFeatureUsage("discover_button_click","Layout"),W("/discover")},children:[e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Discover"]})]})]})}),e.jsx("div",{className:"hidden desktop:block px-6 py-2",children:e.jsxs("div",{className:"flex-between-center",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-base-200/50 backdrop-blur-sm border-subtle rounded-xl px-4 py-2 h-12 shadow-sm hover:shadow-md transition-all cursor-pointer",onClick:()=>r("/notes?view=projects"),children:[e.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center shadow-sm",children:e.jsx("svg",{className:"icon-md text-primary-content",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})})}),e.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-primary to-primary/80 bg-clip-text text-transparent",children:"Dev Codex"}),e.jsxs("div",{className:"relative ml-4 flex-center-gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 icon-sm text-base-content/50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Search",value:g,onChange:$=>{k($.target.value),$.target.value.trim()&&a.get("view")!=="projects"&&r("/notes?view=projects")},className:"input-field input-sm pl-9 pr-8 w-48 h-8 bg-base-100/80 backdrop-blur-sm shadow-sm"}),g&&e.jsx("button",{onClick:()=>k(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 icon-sm text-base-content/50 hover:text-base-content/80 transition-colors",children:e.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("button",{onClick:$=>{$.preventDefault(),$.stopPropagation(),r("/create-project")},className:"btn btn-primary btn-sm btn-circle shadow-sm relative z-50",title:"New Project",style:{pointerEvents:"auto"},children:e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsxs("button",{className:`btn ${a.get("view")==="projects"?"btn-primary":"btn-ghost"} gap-2 font-bold`,onClick:()=>W("/notes?view=projects"),children:[e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),"My Projects"]}),e.jsxs("button",{className:`btn ${(s.pathname==="/notes"||s.pathname==="/stack"||s.pathname==="/docs"||s.pathname==="/deployment"||s.pathname==="/public"||s.pathname==="/settings")&&a.get("view")!=="projects"?"btn-primary":"btn-ghost"} gap-2 font-bold`,onClick:()=>W("/notes"),children:[e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Project Details"]}),e.jsxs("button",{className:`btn ${s.pathname==="/ideas"?"btn-primary":"btn-ghost"} gap-2 font-bold`,onClick:()=>W("/ideas"),children:[e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"Ideas"]}),e.jsxs("button",{className:`btn ${s.pathname==="/discover"||s.pathname.startsWith("/discover/")?"btn-primary":"btn-ghost"} gap-2 font-bold`,onClick:()=>W("/discover"),children:[e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Discover"]})]}),o?e.jsxs("div",{className:"flex items-center gap-0 bg-base-200/50 backdrop-blur-sm border-subtle rounded-xl px-2 py-2 h-12 shadow-sm",children:[p&&e.jsxs("div",{className:"flex-center-gap-2 px-3 py-1.5 bg-base-100/80 rounded-lg border-subtle shadow-sm mr-2 cursor-pointer hover:bg-base-200/70 transition-all duration-200 h-8",onClick:()=>W("/notes"),children:[e.jsx("div",{className:"w-2 h-2 rounded-full shadow-sm",style:{backgroundColor:p.color}}),e.jsx("span",{className:"text-sm font-medium",children:p.name}),p.isShared&&e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${p.isOwner?"bg-primary text-primary-content":p.userRole==="editor"?"bg-secondary text-secondary-content":"bg-base-300 text-base-content"}`,children:p.isOwner?"owner":p.userRole||"member"})]}),e.jsx(Zh,{projectId:p?.id,currentUserId:o?.id}),e.jsxs("span",{className:"text-sm font-medium text-base-content/80 ml-2",children:["Hi, ",o?.firstName,"!"]}),e.jsx(em,{}),e.jsx(tm,{user:o,onLogout:C})]}):e.jsx("div",{className:"flex items-center gap-3 bg-base-200/50 backdrop-blur-sm border-subtle rounded-xl px-4 py-2 h-12 shadow-sm",children:e.jsx("button",{onClick:()=>r("/login"),className:"btn-primary-sm",children:"Sign In"})})]})})]}),e.jsx("div",{className:"flex-1 w-full max-w-7xl mx-auto px-4 bg-base-100 flex flex-col mb-4 min-h-0",children:a.get("view")==="projects"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center px-4 py-6",children:e.jsxs("div",{className:"tabs tabs-boxed tabs-lg border-subtle shadow-sm",children:[e.jsxs("button",{onClick:()=>{q.trackTabSwitch(N,"active","ProjectTabs"),j("active")},className:`tab tab-lg font-bold text-base ${N==="active"?"tab-active":""}`,children:["Active (",G.length,")"]}),Z.length>0&&e.jsxs("button",{onClick:()=>j("archived"),className:`tab tab-lg font-bold text-base ${N==="archived"?"tab-active":""}`,children:["Archived (",Z.length,")"]}),ne.length>0&&e.jsxs("button",{onClick:()=>j("shared"),className:`tab tab-lg font-bold text-base ${N==="shared"?"tab-active":""}`,children:["Shared (",ne.length,")"]})]})}),e.jsx("div",{className:"flex-1 overflow-auto border-subtle bg-gradient-to-br from-base-50 to-base-100/50 rounded-2xl shadow-2xl backdrop-blur-sm container-height-fix",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[N==="active"&&e.jsx("div",{className:"space-y-4",children:Object.keys(Se).length===0?e.jsx("div",{className:"flex items-center justify-center min-h-[50vh] py-16",children:e.jsxs("div",{className:"text-center bg-base-100 rounded-xl p-12 border-subtle shadow-lg max-w-md mx-auto",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-primary/20 to-secondary/20 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-10 h-10 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),e.jsx("h3",{className:"text-2xl font-bold mb-3 bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"No active projects"}),e.jsx("p",{className:"text-base-content/60 mb-6",children:"Create your first project to get started"}),e.jsxs("button",{onClick:$=>{$.preventDefault(),$.stopPropagation(),r("/create-project")},className:"btn btn-primary btn-lg gap-2 relative z-50",style:{pointerEvents:"auto"},children:[e.jsx("svg",{className:"icon-md",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Create Project"]})]})}):Object.entries(Se).map(([$,R])=>e.jsxs("div",{className:"border-subtle rounded-xl bg-base-100 shadow-sm",children:[e.jsx("div",{className:"tabs tabs-boxed tabs-lg",children:e.jsxs("div",{className:"tab tab-lg cursor-pointer hover:tab-active transition-all flex items-center gap-3 w-full font-bold text-base",onClick:()=>he(`active-${$}`),children:[e.jsx("svg",{className:`icon-md transition-transform ${B[`active-${$}`]?"":"rotate-90"}`,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.jsx("svg",{className:"w-6 h-6 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})}),e.jsx("span",{className:"text-xl font-semibold text-base-content flex-1",children:$}),e.jsx("span",{className:"bg-primary/10 text-base-content px-3 py-1 rounded-full text-sm font-medium",children:R.length})]})}),!B[`active-${$}`]&&e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:R.map(H=>e.jsxs("button",{onClick:()=>{te(H),r("/notes")},className:`btn btn-lg w-full justify-start gap-3 h-auto py-4 min-h-[6rem] ${p?.id===H.id?"btn-primary border-2 border-primary ring-4 ring-primary/20 shadow-lg":"btn-ghost bg-base-100 hover:bg-base-200 border-subtle shadow-md"}`,children:[e.jsx("div",{className:"icon-md rounded-md shadow-sm flex-shrink-0",style:{backgroundColor:H.color}}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:"font-semibold leading-tight truncate",children:H.name}),H.description&&e.jsx("div",{className:"text-xs mt-1 line-clamp-2 text-base-content/70",children:H.description}),H.tags&&H.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[H.tags.slice(0,3).map((me,Le)=>e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${p?.id===H.id?"bg-white/20 text-white border border-white/30":"bg-primary/10 text-primary border border-primary/20"}`,children:me},Le)),H.tags.length>3&&e.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${p?.id===H.id?"bg-white/10 text-white/70 border border-white/20":"bg-base-300 text-base-content/60 border border-base-300"}`,children:["+",H.tags.length-3]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs",children:[e.jsx("div",{className:"flex items-center gap-3 text-base-content/50",children:e.jsxs("span",{children:["Updated: ",new Date(H.updatedAt).toLocaleDateString()]})}),e.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full font-medium ${p?.id===H.id?"bg-white/10 text-white/80":"bg-success/10 text-success"}`,children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-xs",children:de(H.id)})]})]})]}),p?.id===H.id&&e.jsx("svg",{className:"icon-sm flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},H.id))})})]},$))}),N==="archived"&&e.jsx("div",{className:"space-y-4",children:Object.entries(Ve).map(([$,R])=>e.jsxs("div",{className:"border-subtle rounded-xl bg-base-100 shadow-sm",children:[e.jsx("div",{className:"tabs tabs-boxed tabs-lg",children:e.jsxs("div",{className:"tab tab-lg cursor-pointer hover:tab-active transition-all flex items-center gap-3 w-full font-bold text-base",onClick:()=>he(`archived-${$}`),children:[e.jsx("svg",{className:`icon-md transition-transform ${B[`archived-${$}`]?"":"rotate-90"}`,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.jsx("svg",{className:"w-6 h-6 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})}),e.jsx("span",{className:"text-xl font-semibold text-base-content flex-1",children:$}),e.jsx("span",{className:"bg-primary/10 text-base-content px-3 py-1 rounded-full text-sm font-medium",children:R.length})]})}),!B[`archived-${$}`]&&e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:R.map(H=>e.jsxs("button",{onClick:()=>{te(H),r("/notes")},className:`btn btn-lg w-full justify-start gap-3 h-auto py-4 min-h-[6rem] ${p?.id===H.id?"btn-primary border-2 border-primary ring-4 ring-primary/20 shadow-lg":"btn-ghost bg-base-100 hover:bg-base-200 border-subtle shadow-md"}`,children:[e.jsx("div",{className:"icon-md rounded-md shadow-sm flex-shrink-0",style:{backgroundColor:H.color}}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:"font-semibold leading-tight truncate",children:H.name}),H.description&&e.jsx("div",{className:"text-xs mt-1 line-clamp-2 text-base-content/70",children:H.description}),H.tags&&H.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[H.tags.slice(0,3).map((me,Le)=>e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${p?.id===H.id?"bg-white/20 text-white border border-white/30":"bg-primary/10 text-primary border border-primary/20"}`,children:me},Le)),H.tags.length>3&&e.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${p?.id===H.id?"bg-white/10 text-white/70 border border-white/20":"bg-base-300 text-base-content/60 border border-base-300"}`,children:["+",H.tags.length-3]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs",children:[e.jsx("div",{className:"flex items-center gap-3 text-base-content/50",children:e.jsxs("span",{children:["Updated: ",new Date(H.updatedAt).toLocaleDateString()]})}),e.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full font-medium ${p?.id===H.id?"bg-white/10 text-white/80":"bg-success/10 text-success"}`,children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-xs",children:de(H.id)})]})]})]}),p?.id===H.id&&e.jsx("svg",{className:"icon-sm flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},H.id))})})]},$))}),N==="shared"&&e.jsx("div",{className:"space-y-4",children:Object.entries(kt).map(([$,R])=>e.jsxs("div",{className:"space-y-3 border-subtle rounded-xl bg-base-100 shadow-sm",children:[e.jsx("div",{className:"tabs tabs-boxed tabs-lg",children:e.jsxs("div",{className:"tab tab-lg cursor-pointer hover:tab-active transition-all flex items-center gap-3 w-full font-bold text-base",onClick:()=>he(`shared-${$}`),children:[e.jsx("svg",{className:`icon-md transition-transform ${B[`shared-${$}`]?"":"rotate-90"}`,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),e.jsx("svg",{className:"w-6 h-6 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})}),e.jsx("span",{className:"text-xl font-semibold text-base-content flex-1",children:$}),e.jsx("span",{className:"bg-primary/10 text-base-content px-3 py-1 rounded-full text-sm font-medium",children:R.length})]})}),!B[`shared-${$}`]&&e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:R.map(H=>e.jsxs("button",{onClick:()=>{te(H),r("/notes")},className:`btn btn-lg w-full justify-start gap-3 h-auto py-4 min-h-[6rem] ${p?.id===H.id?"btn-primary border-2 border-primary ring-4 ring-primary/20 shadow-lg":"btn-ghost bg-base-100 hover:bg-base-200 border-subtle shadow-md"}`,children:[e.jsx("div",{className:"icon-md rounded-md shadow-sm flex-shrink-0",style:{backgroundColor:H.color}}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:"font-semibold leading-tight truncate",children:H.name}),H.description&&e.jsx("div",{className:"text-xs mt-1 line-clamp-2 text-base-content/70",children:H.description}),H.tags&&H.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[H.tags.slice(0,3).map((me,Le)=>e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${p?.id===H.id?"bg-white/20 text-white border border-white/30":"bg-primary/10 text-primary border border-primary/20"}`,children:me},Le)),H.tags.length>3&&e.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${p?.id===H.id?"bg-white/10 text-white/70 border border-white/20":"bg-base-300 text-base-content/60 border border-base-300"}`,children:["+",H.tags.length-3]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs",children:[e.jsx("div",{className:"flex items-center gap-3 text-base-content/50",children:e.jsxs("span",{children:["Updated: ",new Date(H.updatedAt).toLocaleDateString()]})}),e.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full font-medium ${p?.id===H.id?"bg-white/10 text-white/80":"bg-success/10 text-success"}`,children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-xs",children:de(H.id)})]})]})]}),p?.id===H.id&&e.jsx("svg",{className:"icon-sm flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},H.id))})})]},$))})]})})})]}):s.pathname==="/discover"||s.pathname.startsWith("/discover/")?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center px-4 py-6",children:e.jsxs("div",{className:"tabs tabs-boxed tabs-lg border-subtle shadow-sm",children:[e.jsx("button",{onClick:()=>W("/discover"),className:`tab tab-lg font-bold text-base ${s.pathname==="/discover"?"tab-active":""}`,children:"Discover"}),e.jsx("button",{onClick:()=>W("/discover"),className:`tab tab-lg font-bold text-base ${s.pathname.startsWith("/discover/project/")||s.pathname.startsWith("/discover/user/")?"tab-active":""}`,disabled:!(s.pathname.startsWith("/discover/project/")||s.pathname.startsWith("/discover/user/")),children:"Details"})]})}),e.jsx("div",{className:"flex-1 overflow-auto border-subtle bg-gradient-to-br from-base-50 to-base-100/50 rounded-2xl shadow-2xl backdrop-blur-sm container-height-fix",children:e.jsx("div",{className:"p-1",children:e.jsx(Mn,{})})})]}):s.pathname.startsWith("/project/")||s.pathname.startsWith("/user/")?e.jsx("div",{className:"flex-1 overflow-auto border-subtle bg-gradient-to-br from-base-50 to-base-100/50 mx-4 my-4 rounded-2xl shadow-2xl backdrop-blur-sm container-height-fix",children:e.jsx("div",{className:"p-1",children:e.jsx(Mn,{})})}):s.pathname==="/ideas"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center px-4 py-6",children:e.jsx("div",{className:"tabs tabs-boxed tabs-lg border-subtle shadow-sm",children:e.jsx("div",{className:"tab tab-lg tab-active font-bold text-base",children:"Ideas"})})}),e.jsx("div",{className:"flex-1 overflow-auto border-subtle bg-gradient-to-br from-base-50 to-base-100/50 rounded-2xl shadow-2xl backdrop-blur-sm container-height-fix",children:e.jsx("div",{className:"p-1",children:e.jsx(Mn,{})})})]}):s.pathname==="/admin"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center px-4 py-6",children:e.jsxs("div",{className:"tabs tabs-boxed tabs-lg border-subtle shadow-sm bg-base-200",children:[e.jsxs("button",{className:`tab tab-lg font-bold text-base ${w==="users"?"tab-active":""}`,onClick:()=>S("users"),children:[e.jsx("svg",{className:"icon-sm mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),"Users"]}),e.jsxs("button",{className:`tab tab-lg font-bold text-base ${w==="tickets"?"tab-active":""}`,onClick:()=>S("tickets"),children:[e.jsx("svg",{className:"icon-sm mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Support Tickets"]}),e.jsxs("button",{className:`tab tab-lg font-bold text-base ${w==="analytics"?"tab-active":""}`,onClick:()=>S("analytics"),children:[e.jsx("svg",{className:"icon-sm mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Platform Analytics"]})]})}),e.jsx("div",{className:"flex-1 overflow-auto border-subtle bg-gradient-to-br from-base-50 to-base-100/50 rounded-2xl shadow-2xl backdrop-blur-sm container-height-fix",children:e.jsx("div",{className:"p-1",children:e.jsx(Mn,{context:{selectedProject:p,user:o,onProjectUpdate:P,onProjectArchive:X,onProjectDelete:oe,onProjectRefresh:L,activeAdminTab:w}})})})]}):s.pathname==="/billing"||s.pathname==="/account-settings"?e.jsx("div",{className:"flex-1 overflow-auto border-subtle bg-gradient-to-br from-base-50 to-base-100/50 mx-4 my-4 rounded-2xl shadow-2xl backdrop-blur-sm container-height-fix",children:e.jsx("div",{className:"p-1",children:e.jsx(Mn,{})})}):e.jsxs(e.Fragment,{children:[p&&s.pathname!=="/support"&&e.jsx("div",{className:"flex justify-center px-4 py-6",children:e.jsx("div",{className:"tabs tabs-boxed tabs-lg border-subtle shadow-sm",children:pe.map($=>e.jsx("button",{onClick:()=>W($.path),className:`tab tab-lg font-bold text-base ${ye===$.id?"tab-active":""}`,children:$.label},$.id))})}),e.jsx("div",{className:`flex-1 overflow-auto border-subtle bg-gradient-to-br from-base-50 to-base-100/50 rounded-2xl shadow-2xl backdrop-blur-sm container-height-fix ${s.pathname==="/support"?"mt-4":""}`,children:p?e.jsx("div",{className:"p-1",children:e.jsx(Mn,{context:{selectedProject:p,user:o,onProjectUpdate:P,onProjectArchive:X,onProjectDelete:oe,onProjectRefresh:L}})}):e.jsx("div",{className:"flex items-center justify-center min-h-[50vh] h-full",children:e.jsxs("div",{className:"text-center bg-base-100 rounded-xl p-12 border-subtle shadow-lg max-w-md mx-auto",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-primary/20 to-secondary/20 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-10 h-10 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})})}),e.jsx("h2",{className:"text-2xl font-semibold mb-4 bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:"Select a project to get started"}),e.jsx("p",{className:"text-base-content/60 mb-6",children:"Go to My Projects to choose a project"}),e.jsxs("button",{onClick:()=>r("/notes?view=projects"),className:"btn btn-primary btn-lg gap-2",children:[e.jsx("svg",{className:"icon-md",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),"View My Projects"]})]})})})]})}),e.jsx(fb,{}),e.jsx(Tt,{isOpen:I,onConfirm:D,onCancel:le,title:"Unsaved Changes",message:"You have unsaved changes. Are you sure you want to leave this page?",confirmText:"Leave Page",cancelText:"Stay Here",variant:"warning"})]})},gb=()=>{const r=He(),[s,a]=x.useState({name:"",description:"",category:"general",color:"#3B82F6",tags:[],stagingEnvironment:"development"}),{loading:o,withLoading:c}=sn(),{error:u,handleError:m,clearError:p}=op();x.useEffect(()=>{const k=localStorage.getItem("theme")||"retro";document.documentElement.setAttribute("data-theme",k)},[]);const f=async k=>{k.preventDefault(),p();try{await c(async()=>{await De.create({name:s.name,description:s.description,category:s.category,color:s.color,tags:s.tags,stagingEnvironment:s.stagingEnvironment})}),r("/")}catch(N){m(N)}},v=k=>{a(N=>({...N,[k.target.name]:k.target.value}))},b=()=>{const k=document.getElementById("new-tag"),N=k?.value.trim();N&&!s.tags.includes(N)&&(a(j=>({...j,tags:[...j.tags,N]})),k.value="")},g=k=>{a(N=>({...N,tags:N.tags.filter(j=>j!==k)}))};return e.jsx("div",{className:"min-h-screen bg-base-200 py-8",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})}),e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Create New Project"})]}),e.jsx("div",{className:"card bg-base-100 shadow-xl",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"card-title text-xl",children:"Project Details"}),e.jsxs("button",{onClick:()=>r("/"),className:"btn btn-primary gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Projects"]})]}),u&&e.jsxs("div",{className:"alert alert-error mb-6",children:[e.jsx("svg",{className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:u})]}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Project Name *"})}),e.jsx("input",{type:"text",name:"name",value:s.name,onChange:v,className:"input input-bordered w-full",placeholder:"Enter project name...",required:!0})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Description *"})}),e.jsx("textarea",{name:"description",value:s.description,onChange:v,rows:4,className:"textarea textarea-bordered w-full resize-none",placeholder:"Describe your project...",required:!0})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-base-content/80",children:"Optional Settings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Category"})}),e.jsx("input",{type:"text",name:"category",value:s.category,onChange:v,className:"input input-bordered w-full",placeholder:"e.g. Web App, Mobile, API..."})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Project Color"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"color",name:"color",value:s.color,onChange:v,className:"w-10 h-10 border border-base-300 rounded cursor-pointer flex-shrink-0"}),e.jsx("input",{type:"text",value:s.color,onChange:k=>a(N=>({...N,color:k.target.value})),className:"input input-bordered flex-1 font-mono text-sm w-5",placeholder:"#3B82F6"})]})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Environment"})}),e.jsxs("select",{name:"stagingEnvironment",value:s.stagingEnvironment,onChange:v,className:"select select-bordered w-full",children:[e.jsx("option",{value:"development",children:"Development"}),e.jsx("option",{value:"staging",children:"Staging"}),e.jsx("option",{value:"production",children:"Production"})]})]})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text font-medium",children:["Tags (",s.tags.length,")"]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{id:"new-tag",type:"text",className:"input input-bordered flex-1",placeholder:"Add a tag...",onKeyDown:k=>{k.key==="Enter"&&(k.preventDefault(),b())}}),e.jsx("button",{type:"button",onClick:b,className:"btn btn-primary btn-square",children:"+"})]}),s.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map((k,N)=>e.jsxs("span",{className:"badge badge-info gap-2",children:[k,e.jsx("button",{type:"button",onClick:()=>g(k),className:"text-info-content hover:text-error text-lg font-bold leading-none",children:""})]},`tag-${N}-${k}`))})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>r("/"),className:"btn btn-outline",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o||!s.name.trim()||!s.description.trim(),className:"btn btn-primary gap-2",children:o?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner loading-sm"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Create Project"]})})]})]})]})})]})})},mi=({label:r,value:s,onChange:a,placeholder:o="Select date...",minDate:c,className:u="",required:m=!1})=>{const p=b=>{if(!b)return"";const g=new Date(b);if(isNaN(g.getTime()))return"";const k=g.getFullYear(),N=String(g.getMonth()+1).padStart(2,"0"),j=String(g.getDate()).padStart(2,"0"),w=String(g.getHours()).padStart(2,"0"),S=String(g.getMinutes()).padStart(2,"0");return`${k}-${N}-${j}T${w}:${S}`},f=b=>{const g=b.target.value;a(g?new Date(g).toISOString():"")},v=()=>new Date().toLocaleDateString(void 0,{day:"2-digit",timeZoneName:"short"}).substring(4);return e.jsxs("div",{className:`form-control ${u}`,children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text font-medium",children:[r,m&&e.jsx("span",{className:"text-error ml-1",children:"*"}),e.jsxs("span",{className:"text-xs text-base-content/50 ml-2",children:["(",v(),")"]})]})}),e.jsx("input",{type:"datetime-local",value:p(s),onChange:f,min:c?p(c):void 0,className:"input input-bordered input-sm",placeholder:o,required:m})]})},lp=({projectId:r,value:s,onChange:a,label:o="Assigned To",placeholder:c="Select team member...",className:u="",required:m=!1})=>{const[p,f]=x.useState([]),[v,b]=x.useState(!0),[g,k]=x.useState(null);x.useEffect(()=>{(async()=>{try{k(null);const w=await tn.getMembers(r);f(w.members)}catch(w){console.error("Failed to fetch team members:",w),k("Failed to load team members")}finally{b(!1)}})()},[r]);const N=j=>{const w=j.target.value;a(w===""?void 0:w)};return e.jsxs("div",{className:`form-control ${u}`,children:[e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text font-medium",children:[o,m&&e.jsx("span",{className:"text-error ml-1",children:"*"})]})}),e.jsxs("select",{value:s||"",onChange:N,className:"select select-bordered select-sm",disabled:v,required:m,children:[e.jsx("option",{value:"",children:v?"Loading...":c}),!v&&!g&&p.map(j=>e.jsxs("option",{value:j.userId._id,children:[j.userId.firstName," ",j.userId.lastName,j.isOwner&&" (Owner)",j.role==="editor"&&" (Editor)",j.role==="viewer"&&" (Viewer)"]},j.userId._id))]}),g&&e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text-alt text-error",children:g})}),v&&e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text-alt",children:[e.jsx("span",{className:"loading loading-spinner loading-xs mr-2"}),"Loading team members..."]})})]})},vb=({parentTodo:r,subtasks:s,projectId:a,onUpdate:o,onArchiveToDevLog:c,isSharedProject:u=!1,canEdit:m=!0})=>{const[p,f]=x.useState(!1),[v,b]=x.useState(!1),g=s.filter(j=>j.completed).length,k=s.length>0?g/s.length*100:0,N=()=>{f(!1),o()};return e.jsxs("div",{className:"ml-6 mt-3 border-l-2 border-base-300 pl-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>b(!v),className:"btn btn-xs btn-ghost",disabled:s.length===0,children:e.jsx("svg",{className:`w-3 h-3 transition-transform ${v?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsxs("span",{className:"text-sm font-medium text-base-content/80",children:["Subtasks (",g,"/",s.length,")"]}),s.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("progress",{className:"progress progress-primary w-20",value:k,max:"100"}),e.jsxs("span",{className:"text-xs text-base-content/60",children:[Math.round(k),"%"]})]})]}),m&&e.jsxs("button",{onClick:()=>f(!0),className:"btn btn-xs btn-outline btn-primary",title:"Add Subtask",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Subtask"]})]}),p&&e.jsxs("div",{className:"mb-3 p-3 bg-base-200 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h4",{className:"font-medium text-sm",children:"Add Subtask"}),e.jsx("button",{onClick:()=>f(!1),className:"btn btn-xs btn-ghost",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx(pc,{projectId:a,onAdd:N,isSharedProject:u,parentTodoId:r.id,compact:!0})]}),v&&s.length>0&&e.jsx("div",{className:"space-y-2",children:s.map(j=>e.jsx("div",{className:"bg-base-50 rounded-md",children:e.jsx(cp,{todo:j,projectId:a,onUpdate:o,onArchiveToDevLog:c,isSharedProject:u,canEdit:m,isSubtask:!0})},j.id))}),v&&s.length===0&&e.jsx("div",{className:"text-center text-sm text-base-content/60 py-4",children:'No subtasks yet. Click "Add Subtask" to break this todo into smaller tasks.'})]})},cp=({todo:r,projectId:s,onUpdate:a,onArchiveToDevLog:o,isSharedProject:c=!1,canEdit:u=!0,isSubtask:m=!1,allTodos:p=[]})=>{const[f,v]=x.useState(!1),[b,g]=x.useState(!1),[k,N]=x.useState(r.text),[j,w]=x.useState(r.description||""),[S,_]=x.useState(r.priority||"medium"),[T,I]=x.useState(r.status||"not_started"),[V,ee]=x.useState(r.dueDate||""),[F,q]=x.useState(r.reminderDate||""),[Y,M]=x.useState(typeof r.assignedTo=="object"?r.assignedTo._id:r.assignedTo||""),[B,J]=x.useState(!1),[D,le]=x.useState(!1),W=async()=>{if(k.trim()){J(!0);try{await De.updateTodo(s,r.id,{text:k.trim(),description:j.trim(),priority:S,status:T,dueDate:V||void 0,reminderDate:F||void 0,assignedTo:Y||void 0}),v(!1),a()}catch(G){console.error("Failed to update todo:",G)}finally{J(!1)}}},te=async()=>{try{await De.updateTodo(s,r.id,{completed:!r.completed}),a()}catch(G){console.error("Failed to toggle todo:",G)}},he=async()=>{try{await De.deleteTodo(s,r.id),a(),le(!1)}catch(G){console.error("Failed to delete todo:",G),le(!1)}},ue=()=>{o(r)},se=()=>{g(!1),a()},de=G=>{switch(G){case"high":return"badge-error";case"medium":return"badge-warning";case"low":return"badge-success";default:return"badge-neutral"}},L=G=>{switch(G){case"high":return"";case"medium":return"";case"low":return"";default:return""}},C=G=>{switch(G){case"completed":return"badge-success";case"in_progress":return"badge-info";case"blocked":return"badge-error";case"not_started":return"badge-neutral";default:return"badge-neutral"}},P=G=>{switch(G){case"completed":return"";case"in_progress":return"";case"blocked":return"";case"not_started":return"";default:return""}},X=G=>{if(!G)return"";const Z=new Date(G);return Z.toLocaleDateString()+" "+Z.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},oe=G=>{if(!G)return!1;const Z=new Date(G),ne=new Date,Se=(Z.getTime()-ne.getTime())/(1e3*60*60);return Se>0&&Se<=24},pe=G=>{if(!G)return!1;const Z=new Date(G),ne=new Date;return Z.getTime()<ne.getTime()},ye=p.filter(G=>G.parentTodoId===r.id),ke=ye.length>0;return e.jsxs("div",{className:`bg-base-100 border-subtle rounded-lg p-3 mb-3 ${r.completed?"opacity-60":""}`,children:[f?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex-center-gap-2 justify-between mb-3",children:[e.jsx("h4",{className:"font-medium text-sm text-base-content/70",children:"Editing Todo"}),e.jsxs("div",{className:"flex-center-gap-2",children:[e.jsxs("button",{onClick:W,className:"btn-primary-xs",disabled:B||!k.trim(),children:[e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),B?"Saving...":"Save"]}),e.jsxs("button",{onClick:()=>v(!1),className:"btn-ghost-xs",disabled:B,children:[e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel"]})]})]}),e.jsx("input",{type:"text",value:k,onChange:G=>N(G.target.value),className:"input-field input-sm w-full",placeholder:"Todo title..."}),e.jsx("textarea",{value:j,onChange:G=>w(G.target.value),className:"textarea textarea-bordered textarea-sm w-full",placeholder:"Todo description...",rows:2}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Priority"})}),e.jsxs("select",{value:S,onChange:G=>_(G.target.value),className:"select select-bordered select-xs",children:[e.jsx("option",{value:"low",children:" Low"}),e.jsx("option",{value:"medium",children:" Medium"}),e.jsx("option",{value:"high",children:" High"})]})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Status"})}),e.jsxs("select",{value:T,onChange:G=>I(G.target.value),className:"select select-bordered select-xs",children:[e.jsx("option",{value:"not_started",children:" Not Started"}),e.jsx("option",{value:"in_progress",children:" In Progress"}),e.jsx("option",{value:"blocked",children:" Blocked"}),e.jsx("option",{value:"completed",children:" Completed"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx(mi,{label:"Due Date",value:V,onChange:ee,placeholder:"Set due date...",className:""}),e.jsx(mi,{label:"Reminder Date",value:F,onChange:q,placeholder:"Set reminder...",className:""})]}),e.jsx(lp,{projectId:s,value:Y,onChange:G=>M(G??""),isSharedProject:c,placeholder:"Assign to team member..."}),e.jsxs("div",{className:"flex-center-gap-2 justify-end",children:[e.jsx("button",{onClick:()=>v(!1),className:"btn-ghost-sm",disabled:B,children:"Cancel"}),e.jsx("button",{onClick:W,className:"btn-primary-sm",disabled:B||!k.trim(),children:B?"Saving...":"Save"})]})]}):e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("input",{type:"checkbox",checked:r.completed,onChange:te,className:"checkbox checkbox-primary checkbox-sm mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex-center-gap-2 flex-wrap",children:[e.jsx("h3",{className:`font-semibold text-lg ${r.completed?"line-through text-base-content/60":""}`,children:r.text}),e.jsxs("div",{className:`badge badge-xs ${de(r.priority||"medium")}`,children:[L(r.priority||"medium")," ",r.priority||"medium"]}),e.jsxs("div",{className:`badge badge-xs ${C(r.status||"not_started")}`,children:[P(r.status||"not_started")," ",(r.status||"not_started").replace("_"," ")]}),ke&&e.jsxs("div",{className:"badge badge-xs badge-info",children:[" ",ye.filter(G=>G.completed).length,"/",ye.length," subtasks"]}),pe(r.dueDate)&&e.jsx("div",{className:"badge badge-xs badge-error",children:" Overdue"}),!pe(r.dueDate)&&oe(r.dueDate)&&e.jsx("div",{className:"badge badge-xs badge-warning",children:" Due Soon"})]}),r.description&&e.jsx("p",{className:`text-sm text-base-content/70 mt-1 ${r.completed?"line-through":""}`,children:r.description}),e.jsxs("div",{className:"space-y-1 mt-2",children:[r.dueDate&&e.jsxs("div",{className:`text-xs ${pe(r.dueDate)?"text-error":oe(r.dueDate)?"text-warning":"text-base-content/70"}`,children:[" Due: ",X(r.dueDate)]}),r.reminderDate&&e.jsxs("div",{className:"text-xs text-base-content/70",children:[" Reminder: ",X(r.reminderDate)]}),r.assignedTo&&c&&e.jsxs("div",{className:"text-xs text-base-content/70",children:[" Assigned to: ",typeof r.assignedTo=="object"?`${r.assignedTo.firstName} ${r.assignedTo.lastName}`:r.assignedTo]}),e.jsxs("div",{className:"text-xs text-base-content/50",children:["Created: ",new Date(r.createdAt).toLocaleDateString()]})]})]})]}),e.jsxs("div",{className:"flex-center-gap-2 ml-2",children:[!m&&u&&e.jsxs("button",{onClick:()=>g(!0),className:"btn btn-sm btn-primary btn-outline",title:"Add Subtask",children:[e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Subtask"]}),r.completed&&e.jsxs("button",{onClick:ue,className:"btn btn-sm btn-info btn-outline",title:"Archive to Dev Log",children:[e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 8l6 6 6-6"})}),"Archive"]}),e.jsxs("button",{onClick:()=>v(!0),className:"btn-ghost-sm",children:[e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),e.jsxs("button",{onClick:()=>le(!0),className:"btn btn-sm btn-error btn-outline",children:[e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]}),e.jsx(Tt,{isOpen:D,onConfirm:he,onCancel:()=>le(!1),title:"Delete Todo",message:`Are you sure you want to delete "<strong>${r.text}</strong>"? This action cannot be undone.`,confirmText:"Delete Todo",variant:"error"}),b&&!m&&e.jsxs("div",{className:"mt-3 p-3 bg-base-200/50 rounded-lg border-l-4 border-primary",children:[e.jsxs("div",{className:"flex-center-gap-2 justify-between mb-3",children:[e.jsxs("h4",{className:"font-medium text-sm text-primary",children:['Add Subtask to "',r.text,'"']}),e.jsx("button",{onClick:()=>g(!1),className:"btn-ghost-xs",title:"Cancel",children:e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx(pc,{projectId:s,onAdd:se,isSharedProject:c,parentTodoId:r.id,compact:!0})]}),!m&&ke&&e.jsx(vb,{parentTodo:r,subtasks:ye,projectId:s,onUpdate:a,onArchiveToDevLog:o,isSharedProject:c,canEdit:u})]})},pc=({projectId:r,onAdd:s,isSharedProject:a=!1,parentTodoId:o,compact:c=!1})=>{const[u,m]=x.useState(""),[p,f]=x.useState(""),[v,b]=x.useState("medium"),[g,k]=x.useState("not_started"),[N,j]=x.useState(""),[w,S]=x.useState(""),[_,T]=x.useState(""),[I,V]=x.useState(!1),[ee,F]=x.useState(!1),q=async Y=>{if(Y.preventDefault(),!!u.trim()){V(!0);try{await De.createTodo(r,{text:u.trim(),description:p.trim(),priority:v,status:g,dueDate:N||void 0,reminderDate:w||void 0,assignedTo:_||void 0,parentTodoId:o||void 0}),m(""),f(""),b("medium"),k("not_started"),j(""),S(""),T(""),F(!1),s()}catch(M){console.error("Failed to create todo:",M)}finally{V(!1)}}};return c?e.jsxs("form",{onSubmit:q,className:"space-y-3",children:[e.jsx("div",{className:"form-control",children:e.jsx("input",{type:"text",value:u,onChange:Y=>m(Y.target.value),className:"input-field input-sm",placeholder:"Enter subtask title...",required:!0})}),e.jsxs("div",{className:"flex-center-gap-2",children:[e.jsxs("select",{value:v,onChange:Y=>b(Y.target.value),className:"select select-bordered select-sm flex-1",children:[e.jsx("option",{value:"low",children:" Low"}),e.jsx("option",{value:"medium",children:" Medium"}),e.jsx("option",{value:"high",children:" High"})]}),e.jsx("button",{type:"submit",className:"btn-primary-sm",disabled:I||!u.trim(),children:I?"Adding...":"Add"})]})]}):e.jsxs("div",{className:"collapse collapse-arrow bg-base-100 shadow-lg border-subtle mb-4",children:[e.jsx("input",{type:"checkbox",checked:ee,onChange:Y=>F(Y.target.checked)}),e.jsx("div",{className:"collapse-title text-lg font-semibold bg-base-200 border-b border-subtle",children:o?"Create New Subtask":"Create New Todo"}),e.jsx("div",{className:"collapse-content",children:e.jsxs("form",{onSubmit:q,className:"space-y-4 pt-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Todo Title"})}),e.jsx("input",{type:"text",value:u,onChange:Y=>m(Y.target.value),className:"input-field border-base-300",placeholder:"Enter todo title...",required:!0})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Description (Optional)"})}),e.jsx("textarea",{value:p,onChange:Y=>f(Y.target.value),className:"textarea textarea-bordered border-base-300",placeholder:"Todo description...",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Priority"})}),e.jsxs("select",{value:v,onChange:Y=>b(Y.target.value),className:"select select-bordered border-base-300",children:[e.jsx("option",{value:"low",children:" Low"}),e.jsx("option",{value:"medium",children:" Medium"}),e.jsx("option",{value:"high",children:" High"})]})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Status"})}),e.jsxs("select",{value:g,onChange:Y=>k(Y.target.value),className:"select select-bordered border-base-300",children:[e.jsx("option",{value:"not_started",children:" Not Started"}),e.jsx("option",{value:"in_progress",children:" In Progress"}),e.jsx("option",{value:"blocked",children:" Blocked"}),e.jsx("option",{value:"completed",children:" Completed"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(mi,{label:"Due Date",value:N,onChange:j,placeholder:"Set due date..."}),e.jsx(mi,{label:"Reminder Date",value:w,onChange:S,placeholder:"Set reminder..."})]}),e.jsx(lp,{projectId:r,value:_,onChange:Y=>T(Y??""),isSharedProject:a,placeholder:"Assign to team member..."}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:I||!u.trim(),children:I?"Adding...":"Add Todo"})})]})})]})},bb=({entry:r,projectId:s,onUpdate:a})=>{const[o,c]=x.useState(!1),[u,m]=x.useState(r.title||r.entry),[p,f]=x.useState(r.description||""),[v,b]=x.useState(!1),[g,k]=x.useState(!1),N=async()=>{if(u.trim()){b(!0);try{await De.updateDevLogEntry(s,r.id,{title:u.trim(),description:p.trim(),entry:u.trim()}),c(!1),a()}catch(w){console.error("Failed to update dev log entry:",w)}finally{b(!1)}}},j=async()=>{try{await De.deleteDevLogEntry(s,r.id),a(),k(!1)}catch(w){console.error("Failed to delete dev log entry:",w),k(!1)}};return e.jsxs("div",{className:"bg-base-100 border border-base-content/10 rounded-lg p-3 mb-3",children:[o?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h4",{className:"font-medium text-sm text-base-content/70",children:"Editing Dev Log"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:N,className:"btn btn-xs btn-primary",disabled:v||!u.trim(),children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),v?"Saving...":"Save"]}),e.jsxs("button",{onClick:()=>c(!1),className:"btn btn-xs btn-ghost",disabled:v,children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel"]})]})]}),e.jsx("input",{type:"text",value:u,onChange:w=>m(w.target.value),className:"input input-bordered input-sm w-full",placeholder:"Dev log title..."}),e.jsx("textarea",{value:p,onChange:w=>f(w.target.value),className:"textarea textarea-bordered textarea-sm w-full",placeholder:"Dev log description...",rows:3}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:()=>c(!1),className:"btn btn-ghost btn-sm",disabled:v,children:"Cancel"}),e.jsx("button",{onClick:N,className:"btn btn-primary btn-sm",disabled:v||!u.trim(),children:v?"Saving...":"Save"})]})]}):e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsx("div",{className:"avatar placeholder",children:e.jsx("div",{className:"bg-secondary text-secondary-content rounded-full w-6 h-6",children:e.jsx("span",{className:"text-xs",children:""})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-lg",children:r.title||r.entry}),r.description&&e.jsx("p",{className:"text-sm text-base-content/70 mt-1",children:r.description}),e.jsxs("div",{className:"text-xs text-base-content/50 mt-1",children:[new Date(r.date).toLocaleDateString()," at ",new Date(r.date).toLocaleTimeString()]})]})]}),e.jsxs("div",{className:"flex gap-2 ml-2",children:[e.jsxs("button",{onClick:()=>c(!0),className:"btn btn-sm btn-ghost",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),e.jsxs("button",{onClick:()=>k(!0),className:"btn btn-sm btn-error btn-outline",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]}),e.jsx(Tt,{isOpen:g,onConfirm:j,onCancel:()=>k(!1),title:"Delete Dev Log Entry",message:`Are you sure you want to delete "<strong>${r.title||r.entry}</strong>"? This action cannot be undone.`,confirmText:"Delete Entry",variant:"error"})]})},yb=({projectId:r,onAdd:s})=>{const[a,o]=x.useState(""),[c,u]=x.useState(""),[m,p]=x.useState(!1),[f,v]=x.useState(!1),b=async g=>{if(g.preventDefault(),!!a.trim()){p(!0);try{await De.createDevLogEntry(r,{title:a.trim(),description:c.trim(),entry:a.trim()}),o(""),u(""),v(!1),s()}catch(k){console.error("Failed to create dev log entry:",k)}finally{p(!1)}}};return e.jsxs("div",{className:"collapse collapse-arrow bg-base-100 shadow-lg border border-base-content/10 mb-4",children:[e.jsx("input",{type:"checkbox",checked:f,onChange:g=>v(g.target.checked)}),e.jsx("div",{className:"collapse-title text-lg font-semibold bg-base-200 border-b border-base-content/10",children:"Create New Dev Log Entry"}),e.jsx("div",{className:"collapse-content",children:e.jsxs("form",{onSubmit:b,className:"space-y-4 pt-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Entry Title"})}),e.jsx("input",{type:"text",value:a,onChange:g=>o(g.target.value),className:"input input-bordered border-base-300",placeholder:"Enter dev log title...",required:!0})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Description"})}),e.jsx("textarea",{value:c,onChange:g=>u(g.target.value),className:"textarea textarea-bordered border-base-300",placeholder:"Dev log description...",rows:4})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",className:"btn btn-secondary",disabled:m||!a.trim(),children:m?"Adding...":"Add Dev Log Entry"})})]})})]})},Ci=({value:r,onChange:s,placeholder:a="Write your note here..."})=>{const[o,c]=x.useState(!1),[u,m]=x.useState({start:0,end:0}),p=g=>{if(!g)return'<p class="text-base-content/60 italic">Nothing to preview yet...</p>';let k=g;const N=j=>j.startsWith("http://")||j.startsWith("https://")?j:"https://"+j;return k=k.replace(/^### (.*$)/gim,'<h3 class="text-lg font-semibold mt-4 mb-2">$1</h3>').replace(/^## (.*$)/gim,'<h2 class="text-xl font-semibold mt-4 mb-2">$1</h2>').replace(/^# (.*$)/gim,'<h1 class="text-2xl font-bold mt-4 mb-2">$1</h1>'),k=k.replace(/```([\s\S]*?)```/gim,'<pre class="bg-base-200 rounded p-3 my-2 overflow-x-auto"><code class="text-sm font-mono">$1</code></pre>').replace(/`([^`]+)`/gim,'<code class="bg-base-200 px-2 py-1 rounded text-sm font-mono">$1</code>'),k=k.replace(/\[([^\]]+)\]\(([^)]+)\)/gim,(j,w,S)=>`<a href="${N(S)}" class="link link-primary" target="_blank" rel="noopener noreferrer">${w}</a>`),k=k.replace(new RegExp("(?<!<[^>]*|`[^`]*|\\[[^\\]]*\\]\\()[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*\\.[a-zA-Z]{2,}(?:\\/[^\\s<]*)?","gi"),j=>`<a href="${N(j)}" class="link link-primary" target="_blank" rel="noopener noreferrer">${j}</a>`),k=k.replace(new RegExp("(?<!<[^>]*|`[^`]*|\\[[^\\]]*\\]\\()https?:\\/\\/[^\\s<]+","gi"),j=>`<a href="${j}" class="link link-primary" target="_blank" rel="noopener noreferrer">${j}</a>`),k=k.replace(/\*\*([^*]+)\*\*/gim,'<strong class="font-semibold">$1</strong>').replace(/\*([^*]+)\*/gim,'<em class="italic">$1</em>'),k=k.replace(/^> (.*$)/gim,'<blockquote class="border-l-4 border-primary pl-4 my-2 italic text-base-content/80">$1</blockquote>'),k=k.replace(/^- \[ \] (.*$)/gim,'<li class="ml-4 flex items-center gap-2"><input type="checkbox" class="checkbox checkbox-sm" disabled> <span>$1</span></li>').replace(/^- \[x\] (.*$)/gim,'<li class="ml-4 flex items-center gap-2"><input type="checkbox" class="checkbox checkbox-sm" checked disabled> <span class="line-through text-base-content/60">$1</span></li>').replace(/^- (.*$)/gim,'<li class="ml-4 list-disc list-inside">$1</li>').replace(/^\* (.*$)/gim,'<li class="ml-4 list-disc list-inside">$1</li>').replace(/^\d+\. (.*$)/gim,'<li class="ml-4 list-decimal list-inside">$1</li>'),k=k.replace(/\n(?![</])/gim,"<br>"),k},f=(g,k="")=>{const N=document.querySelector(".enhanced-textarea");if(!N)return;const j=N===document.activeElement?N.selectionStart:u.start,w=N===document.activeElement?N.selectionEnd:u.end,S=r.slice(j,w),_=j!==w,T=_?S:"",I=r.slice(0,j)+g+T+k+r.slice(w);s(I),setTimeout(()=>{const V=document.querySelector(".enhanced-textarea");V&&(V.focus(),_?V.setSelectionRange(j+g.length,j+g.length+T.length):V.setSelectionRange(j+g.length,j+g.length))},0)},v=(g,k)=>{g.preventDefault(),g.stopPropagation(),k()},b=[{icon:"**B**",label:"Bold",action:()=>f("**","**"),className:"font-bold",hasCheckbox:!1},{icon:"*I*",label:"Italic",action:()=>f("*","*"),className:"italic",hasCheckbox:!1},{icon:"</>",label:"Code",action:()=>f("`","`"),className:"font-mono text-xs",hasCheckbox:!1},{icon:'""',label:"Quote",action:()=>f("> "),className:"",hasCheckbox:!1},{icon:"",label:"List",action:()=>f("- "),className:"",hasCheckbox:!1},{icon:"",label:"Checkbox",action:()=>f("- [ ] "),className:"",hasCheckbox:!0}];return e.jsxs("div",{className:"border border-base-300 rounded-lg bg-base-100 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-base-200 border-b border-base-300 rounded-t-lg",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[b.map((g,k)=>e.jsx("button",{type:"button",onMouseDown:N=>v(N,g.action),className:`btn btn-xs btn-ghost border border-base-300 hover:bg-base-300 ${g.className}`,title:g.label,children:g.icon},k)),e.jsx("div",{className:"mx-2 w-px h-4 bg-base-300"}),e.jsx("button",{type:"button",onMouseDown:g=>v(g,()=>f("# ")),className:"btn btn-xs btn-ghost border border-base-300 hover:bg-base-300 font-bold",title:"Header",children:"H1"}),e.jsx("button",{type:"button",onMouseDown:g=>v(g,()=>f("## ")),className:"btn btn-xs btn-ghost border border-base-300 hover:bg-base-300 font-bold",title:"Header 2",children:"H2"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{type:"button",onClick:g=>{g.preventDefault(),c(!o)},className:`btn btn-xs gap-1 ${o?"btn-primary":"btn-ghost border border-base-300 hover:bg-base-300"}`,title:o?"Edit":"Preview",children:o?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Preview"]})})})]}),e.jsx("div",{className:"relative",children:o?e.jsx("div",{className:"p-6 min-h-[300px] sm:min-h-[400px] lg:min-h-[500px] xl:min-h-[600px] bg-base-100",children:e.jsx("div",{className:"prose prose-sm max-w-none text-base-content",dangerouslySetInnerHTML:{__html:p(r)}})}):e.jsx("textarea",{className:"enhanced-textarea w-full min-h-[300px] sm:min-h-[500px] lg:min-h-[600px] xl:min-h-[700px] p-6 resize-none border-0 focus:outline-none bg-base-100 text-base-content font-mono text-sm leading-relaxed rounded-b-lg",value:r,onChange:g=>s(g.target.value),onSelect:g=>{const k=g.target;m({start:k.selectionStart,end:k.selectionEnd})},onBlur:g=>{m({start:g.target.selectionStart,end:g.target.selectionEnd})},placeholder:a,style:{fontFamily:"'JetBrains Mono', 'SF Mono', 'Monaco', 'Cascadia Code', 'Roboto Mono', monospace"}})}),e.jsx("div",{className:"px-4 py-3 bg-base-200 border-t border-base-300 rounded-b-lg",children:e.jsxs("details",{className:"text-xs text-base-content/60",children:[e.jsx("summary",{className:"cursor-pointer hover:text-base-content select-none",children:e.jsxs("span",{className:"inline-flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Markdown shortcuts"]})}),e.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("kbd",{className:"kbd kbd-sm bg-base-300 text-base-content",children:"**bold**"}),e.jsx("span",{className:"text-xs",children:"Bold"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("kbd",{className:"kbd kbd-sm bg-base-300 text-base-content",children:"*italic*"}),e.jsx("span",{className:"text-xs",children:"Italic"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("kbd",{className:"kbd kbd-sm bg-base-300 text-base-content",children:"`code`"}),e.jsx("span",{className:"text-xs",children:"Code"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("kbd",{className:"kbd kbd-sm bg-base-300 text-base-content",children:"# header"}),e.jsx("span",{className:"text-xs",children:"Header"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("kbd",{className:"kbd kbd-sm bg-base-300 text-base-content",children:"- list"}),e.jsx("span",{className:"text-xs",children:"List"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("kbd",{className:"kbd kbd-sm bg-base-300 text-base-content",children:"> quote"}),e.jsx("span",{className:"text-xs",children:"Quote"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("kbd",{className:"kbd kbd-sm bg-base-300 text-base-content",children:"- [ ]"}),e.jsx("span",{className:"text-xs",children:"Checkbox"})]})]}),e.jsx("div",{className:"mt-3 pt-2 border-t border-base-300",children:e.jsx("p",{className:"text-xs text-base-content/50",children:" Tip: URLs are automatically converted to clickable links"})})]})})]})};class On{static instance;currentProjectId=null;constructor(){}static getInstance(){return On.instance||(On.instance=new On),On.instance}setContext(s,a){this.currentProjectId=s}async trackCreate(s,a,o,c,u){if(this.currentProjectId)try{await ss.logActivity({projectId:this.currentProjectId,action:"created",resourceType:s,resourceId:a,details:{resourceName:o,fileName:c,metadata:u}}),await Te.trackAction(`create_${s}`,{projectId:this.currentProjectId,resourceId:a,...u})}catch(m){console.error("Failed to track create action:",m)}}async trackUpdate(s,a,o,c,u,m,p){if(this.currentProjectId)try{await ss.logActivity({projectId:this.currentProjectId,action:"updated",resourceType:s,resourceId:a,details:{field:o,oldValue:c,newValue:u,resourceName:m,fileName:p}}),await Te.trackAction(`update_${s}`,{projectId:this.currentProjectId,resourceId:a,field:o,hasResourceName:!!m,hasFileName:!!p})}catch(f){console.error("Failed to track update action:",f)}}async trackDelete(s,a,o,c,u){if(this.currentProjectId)try{await ss.logActivity({projectId:this.currentProjectId,action:"deleted",resourceType:s,resourceId:a,details:{resourceName:o,fileName:c,metadata:u}}),await Te.trackAction(`delete_${s}`,{projectId:this.currentProjectId,resourceId:a,...u})}catch(m){console.error("Failed to track delete action:",m)}}async trackView(s,a){if(this.currentProjectId)try{await ss.logActivity({projectId:this.currentProjectId,action:"viewed",resourceType:s,resourceId:a})}catch(o){console.error("Failed to track view action:",o)}}async trackTeamAction(s,a){if(this.currentProjectId)try{await ss.logActivity({projectId:this.currentProjectId,action:s,resourceType:"team",details:{metadata:a}})}catch(o){console.error("Failed to track team action:",o)}}async trackProjectAction(s,a){if(this.currentProjectId)try{await ss.logActivity({projectId:this.currentProjectId,action:s,resourceType:"project",resourceId:this.currentProjectId,details:{metadata:a}})}catch(o){console.error("Failed to track project action:",o)}}async trackProjectPresence(s){if(this.currentProjectId)try{await ss.logActivity({projectId:this.currentProjectId,action:s,resourceType:"project",resourceId:this.currentProjectId})}catch(a){console.error("Failed to track project presence:",a)}}}const nn=On.getInstance(),ns=Object.create(null);ns.open="0";ns.close="1";ns.ping="2";ns.pong="3";ns.message="4";ns.upgrade="5";ns.noop="6";const ti=Object.create(null);Object.keys(ns).forEach(r=>{ti[ns[r]]=r});const Xl={type:"error",data:"parser error"},dp=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",up=typeof ArrayBuffer=="function",hp=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,fc=({type:r,data:s},a,o)=>dp&&s instanceof Blob?a?o(s):sm(s,o):up&&(s instanceof ArrayBuffer||hp(s))?a?o(s):sm(new Blob([s]),o):o(ns[r]+(s||"")),sm=(r,s)=>{const a=new FileReader;return a.onload=function(){const o=a.result.split(",")[1];s("b"+(o||""))},a.readAsDataURL(r)};function nm(r){return r instanceof Uint8Array?r:r instanceof ArrayBuffer?new Uint8Array(r):new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}let Dl;function jb(r,s){if(dp&&r.data instanceof Blob)return r.data.arrayBuffer().then(nm).then(s);if(up&&(r.data instanceof ArrayBuffer||hp(r.data)))return s(nm(r.data));fc(r,!1,a=>{Dl||(Dl=new TextEncoder),s(Dl.encode(a))})}const rm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let r=0;r<rm.length;r++)Rr[rm.charCodeAt(r)]=r;const wb=r=>{let s=r.length*.75,a=r.length,o,c=0,u,m,p,f;r[r.length-1]==="="&&(s--,r[r.length-2]==="="&&s--);const v=new ArrayBuffer(s),b=new Uint8Array(v);for(o=0;o<a;o+=4)u=Rr[r.charCodeAt(o)],m=Rr[r.charCodeAt(o+1)],p=Rr[r.charCodeAt(o+2)],f=Rr[r.charCodeAt(o+3)],b[c++]=u<<2|m>>4,b[c++]=(m&15)<<4|p>>2,b[c++]=(p&3)<<6|f&63;return v},Nb=typeof ArrayBuffer=="function",xc=(r,s)=>{if(typeof r!="string")return{type:"message",data:mp(r,s)};const a=r.charAt(0);return a==="b"?{type:"message",data:kb(r.substring(1),s)}:ti[a]?r.length>1?{type:ti[a],data:r.substring(1)}:{type:ti[a]}:Xl},kb=(r,s)=>{if(Nb){const a=wb(r);return mp(a,s)}else return{base64:!0,data:r}},mp=(r,s)=>{switch(s){case"blob":return r instanceof Blob?r:new Blob([r]);case"arraybuffer":default:return r instanceof ArrayBuffer?r:r.buffer}},pp="",Sb=(r,s)=>{const a=r.length,o=new Array(a);let c=0;r.forEach((u,m)=>{fc(u,!1,p=>{o[m]=p,++c===a&&s(o.join(pp))})})},Cb=(r,s)=>{const a=r.split(pp),o=[];for(let c=0;c<a.length;c++){const u=xc(a[c],s);if(o.push(u),u.type==="error")break}return o};function Eb(){return new TransformStream({transform(r,s){jb(r,a=>{const o=a.length;let c;if(o<126)c=new Uint8Array(1),new DataView(c.buffer).setUint8(0,o);else if(o<65536){c=new Uint8Array(3);const u=new DataView(c.buffer);u.setUint8(0,126),u.setUint16(1,o)}else{c=new Uint8Array(9);const u=new DataView(c.buffer);u.setUint8(0,127),u.setBigUint64(1,BigInt(o))}r.data&&typeof r.data!="string"&&(c[0]|=128),s.enqueue(c),s.enqueue(a)})}})}let _l;function Ga(r){return r.reduce((s,a)=>s+a.length,0)}function Ja(r,s){if(r[0].length===s)return r.shift();const a=new Uint8Array(s);let o=0;for(let c=0;c<s;c++)a[c]=r[0][o++],o===r[0].length&&(r.shift(),o=0);return r.length&&o<r[0].length&&(r[0]=r[0].slice(o)),a}function Lb(r,s){_l||(_l=new TextDecoder);const a=[];let o=0,c=-1,u=!1;return new TransformStream({transform(m,p){for(a.push(m);;){if(o===0){if(Ga(a)<1)break;const f=Ja(a,1);u=(f[0]&128)===128,c=f[0]&127,c<126?o=3:c===126?o=1:o=2}else if(o===1){if(Ga(a)<2)break;const f=Ja(a,2);c=new DataView(f.buffer,f.byteOffset,f.length).getUint16(0),o=3}else if(o===2){if(Ga(a)<8)break;const f=Ja(a,8),v=new DataView(f.buffer,f.byteOffset,f.length),b=v.getUint32(0);if(b>Math.pow(2,21)-1){p.enqueue(Xl);break}c=b*Math.pow(2,32)+v.getUint32(4),o=3}else{if(Ga(a)<c)break;const f=Ja(a,c);p.enqueue(xc(u?f:_l.decode(f),s)),o=0}if(c===0||c>r){p.enqueue(Xl);break}}}})}const fp=4;function Xe(r){if(r)return Pb(r)}function Pb(r){for(var s in Xe.prototype)r[s]=Xe.prototype[s];return r}Xe.prototype.on=Xe.prototype.addEventListener=function(r,s){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(s),this};Xe.prototype.once=function(r,s){function a(){this.off(r,a),s.apply(this,arguments)}return a.fn=s,this.on(r,a),this};Xe.prototype.off=Xe.prototype.removeListener=Xe.prototype.removeAllListeners=Xe.prototype.removeEventListener=function(r,s){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var a=this._callbacks["$"+r];if(!a)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var o,c=0;c<a.length;c++)if(o=a[c],o===s||o.fn===s){a.splice(c,1);break}return a.length===0&&delete this._callbacks["$"+r],this};Xe.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var s=new Array(arguments.length-1),a=this._callbacks["$"+r],o=1;o<arguments.length;o++)s[o-1]=arguments[o];if(a){a=a.slice(0);for(var o=0,c=a.length;o<c;++o)a[o].apply(this,s)}return this};Xe.prototype.emitReserved=Xe.prototype.emit;Xe.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]};Xe.prototype.hasListeners=function(r){return!!this.listeners(r).length};const Ei=typeof Promise=="function"&&typeof Promise.resolve=="function"?s=>Promise.resolve().then(s):(s,a)=>a(s,0),Ft=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Tb="arraybuffer";function xp(r,...s){return s.reduce((a,o)=>(r.hasOwnProperty(o)&&(a[o]=r[o]),a),{})}const Ab=Ft.setTimeout,Rb=Ft.clearTimeout;function Li(r,s){s.useNativeTimers?(r.setTimeoutFn=Ab.bind(Ft),r.clearTimeoutFn=Rb.bind(Ft)):(r.setTimeoutFn=Ft.setTimeout.bind(Ft),r.clearTimeoutFn=Ft.clearTimeout.bind(Ft))}const Db=1.33;function _b(r){return typeof r=="string"?Mb(r):Math.ceil((r.byteLength||r.size)*Db)}function Mb(r){let s=0,a=0;for(let o=0,c=r.length;o<c;o++)s=r.charCodeAt(o),s<128?a+=1:s<2048?a+=2:s<55296||s>=57344?a+=3:(o++,a+=4);return a}function gp(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Ib(r){let s="";for(let a in r)r.hasOwnProperty(a)&&(s.length&&(s+="&"),s+=encodeURIComponent(a)+"="+encodeURIComponent(r[a]));return s}function Ob(r){let s={},a=r.split("&");for(let o=0,c=a.length;o<c;o++){let u=a[o].split("=");s[decodeURIComponent(u[0])]=decodeURIComponent(u[1])}return s}class Bb extends Error{constructor(s,a,o){super(s),this.description=a,this.context=o,this.type="TransportError"}}class gc extends Xe{constructor(s){super(),this.writable=!1,Li(this,s),this.opts=s,this.query=s.query,this.socket=s.socket,this.supportsBinary=!s.forceBase64}onError(s,a,o){return super.emitReserved("error",new Bb(s,a,o)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(s){this.readyState==="open"&&this.write(s)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(s){const a=xc(s,this.socket.binaryType);this.onPacket(a)}onPacket(s){super.emitReserved("packet",s)}onClose(s){this.readyState="closed",super.emitReserved("close",s)}pause(s){}createUri(s,a={}){return s+"://"+this._hostname()+this._port()+this.opts.path+this._query(a)}_hostname(){const s=this.opts.hostname;return s.indexOf(":")===-1?s:"["+s+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(s){const a=Ib(s);return a.length?"?"+a:""}}class Fb extends gc{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(s){this.readyState="pausing";const a=()=>{this.readyState="paused",s()};if(this._polling||!this.writable){let o=0;this._polling&&(o++,this.once("pollComplete",function(){--o||a()})),this.writable||(o++,this.once("drain",function(){--o||a()}))}else a()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(s){const a=o=>{if(this.readyState==="opening"&&o.type==="open"&&this.onOpen(),o.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(o)};Cb(s,this.socket.binaryType).forEach(a),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const s=()=>{this.write([{type:"close"}])};this.readyState==="open"?s():this.once("open",s)}write(s){this.writable=!1,Sb(s,a=>{this.doWrite(a,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const s=this.opts.secure?"https":"http",a=this.query||{};return this.opts.timestampRequests!==!1&&(a[this.opts.timestampParam]=gp()),!this.supportsBinary&&!a.sid&&(a.b64=1),this.createUri(s,a)}}let vp=!1;try{vp=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const $b=vp;function Ub(){}class zb extends Fb{constructor(s){if(super(s),typeof location<"u"){const a=location.protocol==="https:";let o=location.port;o||(o=a?"443":"80"),this.xd=typeof location<"u"&&s.hostname!==location.hostname||o!==s.port}}doWrite(s,a){const o=this.request({method:"POST",data:s});o.on("success",a),o.on("error",(c,u)=>{this.onError("xhr post error",c,u)})}doPoll(){const s=this.request();s.on("data",this.onData.bind(this)),s.on("error",(a,o)=>{this.onError("xhr poll error",a,o)}),this.pollXhr=s}}let Bn=class si extends Xe{constructor(s,a,o){super(),this.createRequest=s,Li(this,o),this._opts=o,this._method=o.method||"GET",this._uri=a,this._data=o.data!==void 0?o.data:null,this._create()}_create(){var s;const a=xp(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");a.xdomain=!!this._opts.xd;const o=this._xhr=this.createRequest(a);try{o.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){o.setDisableHeaderCheck&&o.setDisableHeaderCheck(!0);for(let c in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(c)&&o.setRequestHeader(c,this._opts.extraHeaders[c])}}catch{}if(this._method==="POST")try{o.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{o.setRequestHeader("Accept","*/*")}catch{}(s=this._opts.cookieJar)===null||s===void 0||s.addCookies(o),"withCredentials"in o&&(o.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(o.timeout=this._opts.requestTimeout),o.onreadystatechange=()=>{var c;o.readyState===3&&((c=this._opts.cookieJar)===null||c===void 0||c.parseCookies(o.getResponseHeader("set-cookie"))),o.readyState===4&&(o.status===200||o.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof o.status=="number"?o.status:0)},0))},o.send(this._data)}catch(c){this.setTimeoutFn(()=>{this._onError(c)},0);return}typeof document<"u"&&(this._index=si.requestsCount++,si.requests[this._index]=this)}_onError(s){this.emitReserved("error",s,this._xhr),this._cleanup(!0)}_cleanup(s){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Ub,s)try{this._xhr.abort()}catch{}typeof document<"u"&&delete si.requests[this._index],this._xhr=null}}_onLoad(){const s=this._xhr.responseText;s!==null&&(this.emitReserved("data",s),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Bn.requestsCount=0;Bn.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",am);else if(typeof addEventListener=="function"){const r="onpagehide"in Ft?"pagehide":"unload";addEventListener(r,am,!1)}}function am(){for(let r in Bn.requests)Bn.requests.hasOwnProperty(r)&&Bn.requests[r].abort()}const Vb=function(){const r=bp({xdomain:!1});return r&&r.responseType!==null}();class Wb extends zb{constructor(s){super(s);const a=s&&s.forceBase64;this.supportsBinary=Vb&&!a}request(s={}){return Object.assign(s,{xd:this.xd},this.opts),new Bn(bp,this.uri(),s)}}function bp(r){const s=r.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!s||$b))return new XMLHttpRequest}catch{}if(!s)try{return new Ft[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const yp=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Hb extends gc{get name(){return"websocket"}doOpen(){const s=this.uri(),a=this.opts.protocols,o=yp?{}:xp(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(o.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(s,a,o)}catch(c){return this.emitReserved("error",c)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=s=>this.onClose({description:"websocket connection closed",context:s}),this.ws.onmessage=s=>this.onData(s.data),this.ws.onerror=s=>this.onError("websocket error",s)}write(s){this.writable=!1;for(let a=0;a<s.length;a++){const o=s[a],c=a===s.length-1;fc(o,this.supportsBinary,u=>{try{this.doWrite(o,u)}catch{}c&&Ei(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const s=this.opts.secure?"wss":"ws",a=this.query||{};return this.opts.timestampRequests&&(a[this.opts.timestampParam]=gp()),this.supportsBinary||(a.b64=1),this.createUri(s,a)}}const Ml=Ft.WebSocket||Ft.MozWebSocket;class qb extends Hb{createSocket(s,a,o){return yp?new Ml(s,a,o):a?new Ml(s,a):new Ml(s)}doWrite(s,a){this.ws.send(a)}}class Qb extends gc{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(s){return this.emitReserved("error",s)}this._transport.closed.then(()=>{this.onClose()}).catch(s=>{this.onError("webtransport error",s)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(s=>{const a=Lb(Number.MAX_SAFE_INTEGER,this.socket.binaryType),o=s.readable.pipeThrough(a).getReader(),c=Eb();c.readable.pipeTo(s.writable),this._writer=c.writable.getWriter();const u=()=>{o.read().then(({done:p,value:f})=>{p||(this.onPacket(f),u())}).catch(p=>{})};u();const m={type:"open"};this.query.sid&&(m.data=`{"sid":"${this.query.sid}"}`),this._writer.write(m).then(()=>this.onOpen())})})}write(s){this.writable=!1;for(let a=0;a<s.length;a++){const o=s[a],c=a===s.length-1;this._writer.write(o).then(()=>{c&&Ei(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var s;(s=this._transport)===null||s===void 0||s.close()}}const Kb={websocket:qb,webtransport:Qb,polling:Wb},Gb=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Jb=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Zl(r){if(r.length>8e3)throw"URI too long";const s=r,a=r.indexOf("["),o=r.indexOf("]");a!=-1&&o!=-1&&(r=r.substring(0,a)+r.substring(a,o).replace(/:/g,";")+r.substring(o,r.length));let c=Gb.exec(r||""),u={},m=14;for(;m--;)u[Jb[m]]=c[m]||"";return a!=-1&&o!=-1&&(u.source=s,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u.pathNames=Yb(u,u.path),u.queryKey=Xb(u,u.query),u}function Yb(r,s){const a=/\/{2,9}/g,o=s.replace(a,"/").split("/");return(s.slice(0,1)=="/"||s.length===0)&&o.splice(0,1),s.slice(-1)=="/"&&o.splice(o.length-1,1),o}function Xb(r,s){const a={};return s.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(o,c,u){c&&(a[c]=u)}),a}const ec=typeof addEventListener=="function"&&typeof removeEventListener=="function",ni=[];ec&&addEventListener("offline",()=>{ni.forEach(r=>r())},!1);class Os extends Xe{constructor(s,a){if(super(),this.binaryType=Tb,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,s&&typeof s=="object"&&(a=s,s=null),s){const o=Zl(s);a.hostname=o.host,a.secure=o.protocol==="https"||o.protocol==="wss",a.port=o.port,o.query&&(a.query=o.query)}else a.host&&(a.hostname=Zl(a.host).host);Li(this,a),this.secure=a.secure!=null?a.secure:typeof location<"u"&&location.protocol==="https:",a.hostname&&!a.port&&(a.port=this.secure?"443":"80"),this.hostname=a.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=a.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},a.transports.forEach(o=>{const c=o.prototype.name;this.transports.push(c),this._transportsByName[c]=o}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},a),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Ob(this.opts.query)),ec&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ni.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(s){const a=Object.assign({},this.opts.query);a.EIO=fp,a.transport=s,this.id&&(a.sid=this.id);const o=Object.assign({},this.opts,{query:a,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[s]);return new this._transportsByName[s](o)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const s=this.opts.rememberUpgrade&&Os.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const a=this.createTransport(s);a.open(),this.setTransport(a)}setTransport(s){this.transport&&this.transport.removeAllListeners(),this.transport=s,s.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",a=>this._onClose("transport close",a))}onOpen(){this.readyState="open",Os.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",s),this.emitReserved("heartbeat"),s.type){case"open":this.onHandshake(JSON.parse(s.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const a=new Error("server error");a.code=s.data,this._onError(a);break;case"message":this.emitReserved("data",s.data),this.emitReserved("message",s.data);break}}onHandshake(s){this.emitReserved("handshake",s),this.id=s.sid,this.transport.query.sid=s.sid,this._pingInterval=s.pingInterval,this._pingTimeout=s.pingTimeout,this._maxPayload=s.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const s=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+s,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},s),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const s=this._getWritablePackets();this.transport.send(s),this._prevBufferLen=s.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let a=1;for(let o=0;o<this.writeBuffer.length;o++){const c=this.writeBuffer[o].data;if(c&&(a+=_b(c)),o>0&&a>this._maxPayload)return this.writeBuffer.slice(0,o);a+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const s=Date.now()>this._pingTimeoutTime;return s&&(this._pingTimeoutTime=0,Ei(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),s}write(s,a,o){return this._sendPacket("message",s,a,o),this}send(s,a,o){return this._sendPacket("message",s,a,o),this}_sendPacket(s,a,o,c){if(typeof a=="function"&&(c=a,a=void 0),typeof o=="function"&&(c=o,o=null),this.readyState==="closing"||this.readyState==="closed")return;o=o||{},o.compress=o.compress!==!1;const u={type:s,data:a,options:o};this.emitReserved("packetCreate",u),this.writeBuffer.push(u),c&&this.once("flush",c),this.flush()}close(){const s=()=>{this._onClose("forced close"),this.transport.close()},a=()=>{this.off("upgrade",a),this.off("upgradeError",a),s()},o=()=>{this.once("upgrade",a),this.once("upgradeError",a)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?o():s()}):this.upgrading?o():s()),this}_onError(s){if(Os.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",s),this._onClose("transport error",s)}_onClose(s,a){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),ec&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const o=ni.indexOf(this._offlineEventListener);o!==-1&&ni.splice(o,1)}this.readyState="closed",this.id=null,this.emitReserved("close",s,a),this.writeBuffer=[],this._prevBufferLen=0}}}Os.protocol=fp;class Zb extends Os{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let s=0;s<this._upgrades.length;s++)this._probe(this._upgrades[s])}_probe(s){let a=this.createTransport(s),o=!1;Os.priorWebsocketSuccess=!1;const c=()=>{o||(a.send([{type:"ping",data:"probe"}]),a.once("packet",g=>{if(!o)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",a),!a)return;Os.priorWebsocketSuccess=a.name==="websocket",this.transport.pause(()=>{o||this.readyState!=="closed"&&(b(),this.setTransport(a),a.send([{type:"upgrade"}]),this.emitReserved("upgrade",a),a=null,this.upgrading=!1,this.flush())})}else{const k=new Error("probe error");k.transport=a.name,this.emitReserved("upgradeError",k)}}))};function u(){o||(o=!0,b(),a.close(),a=null)}const m=g=>{const k=new Error("probe error: "+g);k.transport=a.name,u(),this.emitReserved("upgradeError",k)};function p(){m("transport closed")}function f(){m("socket closed")}function v(g){a&&g.name!==a.name&&u()}const b=()=>{a.removeListener("open",c),a.removeListener("error",m),a.removeListener("close",p),this.off("close",f),this.off("upgrading",v)};a.once("open",c),a.once("error",m),a.once("close",p),this.once("close",f),this.once("upgrading",v),this._upgrades.indexOf("webtransport")!==-1&&s!=="webtransport"?this.setTimeoutFn(()=>{o||a.open()},200):a.open()}onHandshake(s){this._upgrades=this._filterUpgrades(s.upgrades),super.onHandshake(s)}_filterUpgrades(s){const a=[];for(let o=0;o<s.length;o++)~this.transports.indexOf(s[o])&&a.push(s[o]);return a}}let ey=class extends Zb{constructor(s,a={}){const o=typeof s=="object"?s:a;(!o.transports||o.transports&&typeof o.transports[0]=="string")&&(o.transports=(o.transports||["polling","websocket","webtransport"]).map(c=>Kb[c]).filter(c=>!!c)),super(s,o)}};function ty(r,s="",a){let o=r;a=a||typeof location<"u"&&location,r==null&&(r=a.protocol+"//"+a.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=a.protocol+r:r=a.host+r),/^(https?|wss?):\/\//.test(r)||(typeof a<"u"?r=a.protocol+"//"+r:r="https://"+r),o=Zl(r)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";const u=o.host.indexOf(":")!==-1?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+u+":"+o.port+s,o.href=o.protocol+"://"+u+(a&&a.port===o.port?"":":"+o.port),o}const sy=typeof ArrayBuffer=="function",ny=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,jp=Object.prototype.toString,ry=typeof Blob=="function"||typeof Blob<"u"&&jp.call(Blob)==="[object BlobConstructor]",ay=typeof File=="function"||typeof File<"u"&&jp.call(File)==="[object FileConstructor]";function vc(r){return sy&&(r instanceof ArrayBuffer||ny(r))||ry&&r instanceof Blob||ay&&r instanceof File}function ri(r,s){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let a=0,o=r.length;a<o;a++)if(ri(r[a]))return!0;return!1}if(vc(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return ri(r.toJSON(),!0);for(const a in r)if(Object.prototype.hasOwnProperty.call(r,a)&&ri(r[a]))return!0;return!1}function iy(r){const s=[],a=r.data,o=r;return o.data=tc(a,s),o.attachments=s.length,{packet:o,buffers:s}}function tc(r,s){if(!r)return r;if(vc(r)){const a={_placeholder:!0,num:s.length};return s.push(r),a}else if(Array.isArray(r)){const a=new Array(r.length);for(let o=0;o<r.length;o++)a[o]=tc(r[o],s);return a}else if(typeof r=="object"&&!(r instanceof Date)){const a={};for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&(a[o]=tc(r[o],s));return a}return r}function oy(r,s){return r.data=sc(r.data,s),delete r.attachments,r}function sc(r,s){if(!r)return r;if(r&&r._placeholder===!0){if(typeof r.num=="number"&&r.num>=0&&r.num<s.length)return s[r.num];throw new Error("illegal attachments")}else if(Array.isArray(r))for(let a=0;a<r.length;a++)r[a]=sc(r[a],s);else if(typeof r=="object")for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&(r[a]=sc(r[a],s));return r}const ly=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],cy=5;var Pe;(function(r){r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK"})(Pe||(Pe={}));class dy{constructor(s){this.replacer=s}encode(s){return(s.type===Pe.EVENT||s.type===Pe.ACK)&&ri(s)?this.encodeAsBinary({type:s.type===Pe.EVENT?Pe.BINARY_EVENT:Pe.BINARY_ACK,nsp:s.nsp,data:s.data,id:s.id}):[this.encodeAsString(s)]}encodeAsString(s){let a=""+s.type;return(s.type===Pe.BINARY_EVENT||s.type===Pe.BINARY_ACK)&&(a+=s.attachments+"-"),s.nsp&&s.nsp!=="/"&&(a+=s.nsp+","),s.id!=null&&(a+=s.id),s.data!=null&&(a+=JSON.stringify(s.data,this.replacer)),a}encodeAsBinary(s){const a=iy(s),o=this.encodeAsString(a.packet),c=a.buffers;return c.unshift(o),c}}function im(r){return Object.prototype.toString.call(r)==="[object Object]"}class bc extends Xe{constructor(s){super(),this.reviver=s}add(s){let a;if(typeof s=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");a=this.decodeString(s);const o=a.type===Pe.BINARY_EVENT;o||a.type===Pe.BINARY_ACK?(a.type=o?Pe.EVENT:Pe.ACK,this.reconstructor=new uy(a),a.attachments===0&&super.emitReserved("decoded",a)):super.emitReserved("decoded",a)}else if(vc(s)||s.base64)if(this.reconstructor)a=this.reconstructor.takeBinaryData(s),a&&(this.reconstructor=null,super.emitReserved("decoded",a));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+s)}decodeString(s){let a=0;const o={type:Number(s.charAt(0))};if(Pe[o.type]===void 0)throw new Error("unknown packet type "+o.type);if(o.type===Pe.BINARY_EVENT||o.type===Pe.BINARY_ACK){const u=a+1;for(;s.charAt(++a)!=="-"&&a!=s.length;);const m=s.substring(u,a);if(m!=Number(m)||s.charAt(a)!=="-")throw new Error("Illegal attachments");o.attachments=Number(m)}if(s.charAt(a+1)==="/"){const u=a+1;for(;++a&&!(s.charAt(a)===","||a===s.length););o.nsp=s.substring(u,a)}else o.nsp="/";const c=s.charAt(a+1);if(c!==""&&Number(c)==c){const u=a+1;for(;++a;){const m=s.charAt(a);if(m==null||Number(m)!=m){--a;break}if(a===s.length)break}o.id=Number(s.substring(u,a+1))}if(s.charAt(++a)){const u=this.tryParse(s.substr(a));if(bc.isPayloadValid(o.type,u))o.data=u;else throw new Error("invalid payload")}return o}tryParse(s){try{return JSON.parse(s,this.reviver)}catch{return!1}}static isPayloadValid(s,a){switch(s){case Pe.CONNECT:return im(a);case Pe.DISCONNECT:return a===void 0;case Pe.CONNECT_ERROR:return typeof a=="string"||im(a);case Pe.EVENT:case Pe.BINARY_EVENT:return Array.isArray(a)&&(typeof a[0]=="number"||typeof a[0]=="string"&&ly.indexOf(a[0])===-1);case Pe.ACK:case Pe.BINARY_ACK:return Array.isArray(a)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class uy{constructor(s){this.packet=s,this.buffers=[],this.reconPack=s}takeBinaryData(s){if(this.buffers.push(s),this.buffers.length===this.reconPack.attachments){const a=oy(this.reconPack,this.buffers);return this.finishedReconstruction(),a}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const hy=Object.freeze(Object.defineProperty({__proto__:null,Decoder:bc,Encoder:dy,get PacketType(){return Pe},protocol:cy},Symbol.toStringTag,{value:"Module"}));function Qt(r,s,a){return r.on(s,a),function(){r.off(s,a)}}const my=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class wp extends Xe{constructor(s,a,o){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=s,this.nsp=a,o&&o.auth&&(this.auth=o.auth),this._opts=Object.assign({},o),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const s=this.io;this.subs=[Qt(s,"open",this.onopen.bind(this)),Qt(s,"packet",this.onpacket.bind(this)),Qt(s,"error",this.onerror.bind(this)),Qt(s,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...s){return s.unshift("message"),this.emit.apply(this,s),this}emit(s,...a){var o,c,u;if(my.hasOwnProperty(s))throw new Error('"'+s.toString()+'" is a reserved event name');if(a.unshift(s),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(a),this;const m={type:Pe.EVENT,data:a};if(m.options={},m.options.compress=this.flags.compress!==!1,typeof a[a.length-1]=="function"){const b=this.ids++,g=a.pop();this._registerAckCallback(b,g),m.id=b}const p=(c=(o=this.io.engine)===null||o===void 0?void 0:o.transport)===null||c===void 0?void 0:c.writable,f=this.connected&&!(!((u=this.io.engine)===null||u===void 0)&&u._hasPingExpired());return this.flags.volatile&&!p||(f?(this.notifyOutgoingListeners(m),this.packet(m)):this.sendBuffer.push(m)),this.flags={},this}_registerAckCallback(s,a){var o;const c=(o=this.flags.timeout)!==null&&o!==void 0?o:this._opts.ackTimeout;if(c===void 0){this.acks[s]=a;return}const u=this.io.setTimeoutFn(()=>{delete this.acks[s];for(let p=0;p<this.sendBuffer.length;p++)this.sendBuffer[p].id===s&&this.sendBuffer.splice(p,1);a.call(this,new Error("operation has timed out"))},c),m=(...p)=>{this.io.clearTimeoutFn(u),a.apply(this,p)};m.withError=!0,this.acks[s]=m}emitWithAck(s,...a){return new Promise((o,c)=>{const u=(m,p)=>m?c(m):o(p);u.withError=!0,a.push(u),this.emit(s,...a)})}_addToQueue(s){let a;typeof s[s.length-1]=="function"&&(a=s.pop());const o={id:this._queueSeq++,tryCount:0,pending:!1,args:s,flags:Object.assign({fromQueue:!0},this.flags)};s.push((c,...u)=>o!==this._queue[0]?void 0:(c!==null?o.tryCount>this._opts.retries&&(this._queue.shift(),a&&a(c)):(this._queue.shift(),a&&a(null,...u)),o.pending=!1,this._drainQueue())),this._queue.push(o),this._drainQueue()}_drainQueue(s=!1){if(!this.connected||this._queue.length===0)return;const a=this._queue[0];a.pending&&!s||(a.pending=!0,a.tryCount++,this.flags=a.flags,this.emit.apply(this,a.args))}packet(s){s.nsp=this.nsp,this.io._packet(s)}onopen(){typeof this.auth=="function"?this.auth(s=>{this._sendConnectPacket(s)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(s){this.packet({type:Pe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},s):s})}onerror(s){this.connected||this.emitReserved("connect_error",s)}onclose(s,a){this.connected=!1,delete this.id,this.emitReserved("disconnect",s,a),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(s=>{if(!this.sendBuffer.some(o=>String(o.id)===s)){const o=this.acks[s];delete this.acks[s],o.withError&&o.call(this,new Error("socket has been disconnected"))}})}onpacket(s){if(s.nsp===this.nsp)switch(s.type){case Pe.CONNECT:s.data&&s.data.sid?this.onconnect(s.data.sid,s.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Pe.EVENT:case Pe.BINARY_EVENT:this.onevent(s);break;case Pe.ACK:case Pe.BINARY_ACK:this.onack(s);break;case Pe.DISCONNECT:this.ondisconnect();break;case Pe.CONNECT_ERROR:this.destroy();const o=new Error(s.data.message);o.data=s.data.data,this.emitReserved("connect_error",o);break}}onevent(s){const a=s.data||[];s.id!=null&&a.push(this.ack(s.id)),this.connected?this.emitEvent(a):this.receiveBuffer.push(Object.freeze(a))}emitEvent(s){if(this._anyListeners&&this._anyListeners.length){const a=this._anyListeners.slice();for(const o of a)o.apply(this,s)}super.emit.apply(this,s),this._pid&&s.length&&typeof s[s.length-1]=="string"&&(this._lastOffset=s[s.length-1])}ack(s){const a=this;let o=!1;return function(...c){o||(o=!0,a.packet({type:Pe.ACK,id:s,data:c}))}}onack(s){const a=this.acks[s.id];typeof a=="function"&&(delete this.acks[s.id],a.withError&&s.data.unshift(null),a.apply(this,s.data))}onconnect(s,a){this.id=s,this.recovered=a&&this._pid===a,this._pid=a,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(s=>this.emitEvent(s)),this.receiveBuffer=[],this.sendBuffer.forEach(s=>{this.notifyOutgoingListeners(s),this.packet(s)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(s=>s()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Pe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(s){return this.flags.compress=s,this}get volatile(){return this.flags.volatile=!0,this}timeout(s){return this.flags.timeout=s,this}onAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(s),this}prependAny(s){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(s),this}offAny(s){if(!this._anyListeners)return this;if(s){const a=this._anyListeners;for(let o=0;o<a.length;o++)if(s===a[o])return a.splice(o,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(s),this}prependAnyOutgoing(s){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(s),this}offAnyOutgoing(s){if(!this._anyOutgoingListeners)return this;if(s){const a=this._anyOutgoingListeners;for(let o=0;o<a.length;o++)if(s===a[o])return a.splice(o,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(s){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const a=this._anyOutgoingListeners.slice();for(const o of a)o.apply(this,s.data)}}}function Vn(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}Vn.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var s=Math.random(),a=Math.floor(s*this.jitter*r);r=(Math.floor(s*10)&1)==0?r-a:r+a}return Math.min(r,this.max)|0};Vn.prototype.reset=function(){this.attempts=0};Vn.prototype.setMin=function(r){this.ms=r};Vn.prototype.setMax=function(r){this.max=r};Vn.prototype.setJitter=function(r){this.jitter=r};class nc extends Xe{constructor(s,a){var o;super(),this.nsps={},this.subs=[],s&&typeof s=="object"&&(a=s,s=void 0),a=a||{},a.path=a.path||"/socket.io",this.opts=a,Li(this,a),this.reconnection(a.reconnection!==!1),this.reconnectionAttempts(a.reconnectionAttempts||1/0),this.reconnectionDelay(a.reconnectionDelay||1e3),this.reconnectionDelayMax(a.reconnectionDelayMax||5e3),this.randomizationFactor((o=a.randomizationFactor)!==null&&o!==void 0?o:.5),this.backoff=new Vn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(a.timeout==null?2e4:a.timeout),this._readyState="closed",this.uri=s;const c=a.parser||hy;this.encoder=new c.Encoder,this.decoder=new c.Decoder,this._autoConnect=a.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(s){return arguments.length?(this._reconnection=!!s,s||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(s){return s===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=s,this)}reconnectionDelay(s){var a;return s===void 0?this._reconnectionDelay:(this._reconnectionDelay=s,(a=this.backoff)===null||a===void 0||a.setMin(s),this)}randomizationFactor(s){var a;return s===void 0?this._randomizationFactor:(this._randomizationFactor=s,(a=this.backoff)===null||a===void 0||a.setJitter(s),this)}reconnectionDelayMax(s){var a;return s===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=s,(a=this.backoff)===null||a===void 0||a.setMax(s),this)}timeout(s){return arguments.length?(this._timeout=s,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(s){if(~this._readyState.indexOf("open"))return this;this.engine=new ey(this.uri,this.opts);const a=this.engine,o=this;this._readyState="opening",this.skipReconnect=!1;const c=Qt(a,"open",function(){o.onopen(),s&&s()}),u=p=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",p),s?s(p):this.maybeReconnectOnOpen()},m=Qt(a,"error",u);if(this._timeout!==!1){const p=this._timeout,f=this.setTimeoutFn(()=>{c(),u(new Error("timeout")),a.close()},p);this.opts.autoUnref&&f.unref(),this.subs.push(()=>{this.clearTimeoutFn(f)})}return this.subs.push(c),this.subs.push(m),this}connect(s){return this.open(s)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const s=this.engine;this.subs.push(Qt(s,"ping",this.onping.bind(this)),Qt(s,"data",this.ondata.bind(this)),Qt(s,"error",this.onerror.bind(this)),Qt(s,"close",this.onclose.bind(this)),Qt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(s){try{this.decoder.add(s)}catch(a){this.onclose("parse error",a)}}ondecoded(s){Ei(()=>{this.emitReserved("packet",s)},this.setTimeoutFn)}onerror(s){this.emitReserved("error",s)}socket(s,a){let o=this.nsps[s];return o?this._autoConnect&&!o.active&&o.connect():(o=new wp(this,s,a),this.nsps[s]=o),o}_destroy(s){const a=Object.keys(this.nsps);for(const o of a)if(this.nsps[o].active)return;this._close()}_packet(s){const a=this.encoder.encode(s);for(let o=0;o<a.length;o++)this.engine.write(a[o],s.options)}cleanup(){this.subs.forEach(s=>s()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(s,a){var o;this.cleanup(),(o=this.engine)===null||o===void 0||o.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",s,a),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const s=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const a=this.backoff.duration();this._reconnecting=!0;const o=this.setTimeoutFn(()=>{s.skipReconnect||(this.emitReserved("reconnect_attempt",s.backoff.attempts),!s.skipReconnect&&s.open(c=>{c?(s._reconnecting=!1,s.reconnect(),this.emitReserved("reconnect_error",c)):s.onreconnect()}))},a);this.opts.autoUnref&&o.unref(),this.subs.push(()=>{this.clearTimeoutFn(o)})}}onreconnect(){const s=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",s)}}const Tr={};function ai(r,s){typeof r=="object"&&(s=r,r=void 0),s=s||{};const a=ty(r,s.path||"/socket.io"),o=a.source,c=a.id,u=a.path,m=Tr[c]&&u in Tr[c].nsps,p=s.forceNew||s["force new connection"]||s.multiplex===!1||m;let f;return p?f=new nc(o,s):(Tr[c]||(Tr[c]=new nc(o,s)),f=Tr[c]),a.query&&!s.query&&(s.query=a.queryKey),f.socket(a.path,s)}Object.assign(ai,{Manager:nc,Socket:wp,io:ai,connect:ai});class py{socket=null;currentProjectId=null;listeners=new Map;connect(){if(this.socket?.connected)return;const s=window.location.origin;this.socket=ai(s,{withCredentials:!0,transports:["websocket","polling"]}),this.socket.on("connect",()=>{this.currentProjectId&&this.joinProject(this.currentProjectId)}),this.socket.on("disconnect",()=>{}),this.socket.on("note-locked",a=>{this.emit("note-locked",a)}),this.socket.on("note-unlocked",a=>{this.emit("note-unlocked",a)}),this.socket.on("note-updated",a=>{this.emit("note-updated",a)})}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null),this.currentProjectId=null}joinProject(s){this.socket?.connected||this.connect(),this.currentProjectId&&this.currentProjectId!==s&&this.socket?.emit("leave-project",this.currentProjectId),this.currentProjectId=s,this.socket?.emit("join-project",s)}leaveProject(){this.currentProjectId&&this.socket?.connected&&this.socket.emit("leave-project",this.currentProjectId),this.currentProjectId=null}on(s,a){this.listeners.has(s)||this.listeners.set(s,new Set),this.listeners.get(s)?.add(a)}off(s,a){this.listeners.get(s)?.delete(a)}emit(s,a){this.listeners.get(s)?.forEach(o=>{try{o(a)}catch(c){console.error("Error in lock signaling callback:",c)}})}}const Ds=new py,fy=({note:r,projectId:s,onUpdate:a,onClick:o})=>{const[c,u]=x.useState(!1),m=async()=>{try{await De.deleteNote(s,r.id),await nn.trackDelete("note",r.id,r.title,void 0,{originalTitle:r.title}),a(),u(!1)}catch(v){console.error("Failed to delete note:",v),u(!1)}},p=v=>{v.stopPropagation(),u(!0)},f=async v=>{v.stopPropagation();try{await navigator.clipboard.writeText(r.content)}catch(b){console.error("Failed to copy note content:",b)}};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-base-100 shadow-lg border-subtle rounded-lg p-4 cursor-pointer hover:shadow-xl transition-shadow duration-200 group",onClick:o,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2 text-base-content truncate group-hover:text-primary transition-colors",children:r.title}),r.description&&e.jsx("p",{className:"text-sm text-base-content/70 mb-3",children:r.description}),e.jsxs("div",{className:"text-xs text-base-content/50",children:[r.updatedAt!==r.createdAt&&e.jsxs(e.Fragment,{children:["Updated: ",new Date(r.updatedAt).toLocaleDateString(),r.updatedBy&&` by ${r.updatedBy}`,"  "]}),r.createdAt&&e.jsxs(e.Fragment,{children:["Created: ",new Date(r.createdAt).toLocaleDateString(),r.createdBy&&` by ${r.createdBy}`]})]})]}),e.jsxs("div",{className:"flex gap-1 ml-4 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:f,className:"btn btn-xs btn-ghost",title:"Copy content",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),e.jsx("button",{onClick:p,className:"btn btn-xs btn-ghost text-error hover:bg-error/20",title:"Delete note",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})}),e.jsx(Tt,{isOpen:c,onConfirm:m,onCancel:()=>u(!1),title:"Delete Note",message:`Are you sure you want to delete "<strong>${r.title}</strong>"? This action cannot be undone.`,confirmText:"Delete Note",variant:"error"})]})},xy=({note:r,projectId:s,isOpen:a,onClose:o,onUpdate:c,mode:u,onModeChange:m,project:p})=>{const[f,v]=x.useState(""),[b,g]=x.useState(""),[k,N]=x.useState(""),[j,w]=x.useState(!1),[S,_]=x.useState(!1),[T,I]=x.useState(!1),[V,ee]=x.useState(!1),[F,q]=x.useState(null),[Y,M]=x.useState(""),B=r?`note-modal-${r.id}`:"note-modal",J=x.useRef(null),D=x.useRef(!1),le=x.useRef(!1),W=x.useRef(null);x.useEffect(()=>{const $=async R=>{!a||!r||(R.key==="Escape"?u==="edit"?f.trim()!==r.title||b.trim()!==(r.description||"")||k.trim()!==r.content?I(!0):m("view"):o():R.key==="e"&&u==="view"?await P():R.key==="c"&&u==="view"&&!R.ctrlKey&&!R.metaKey?ye():R.ctrlKey&&R.key==="s"&&u==="edit"&&(R.preventDefault(),X()))};return a&&(document.addEventListener("keydown",$),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",$),document.body.style.overflow="unset"}},[a,o,u,m,f,b,k,r?.title,r?.description,r?.content]),x.useEffect(()=>{r&&(v(r.title),g(r.description||""),N(r.content))},[r]),x.useEffect(()=>{if(u==="edit"&&r){const $=f.trim()!==r.title||b.trim()!==(r.description||"")||k.trim()!==r.content;jt.setUnsavedChanges(B,$)}else jt.setUnsavedChanges(B,!1)},[u,f,b,k,r?.title,r?.description,r?.content,B]),x.useEffect(()=>()=>{jt.setUnsavedChanges(B,!1)},[B]),x.useEffect(()=>{if(a&&r){te(),Ds.connect(),Ds.joinProject(s);const $=me=>{me.noteId===r.id&&(ee(!0),q({...me.lockedBy,isCurrentUser:!1}),M(`Note is being edited by ${me.lockedBy.name}`))},R=me=>{me.noteId===r.id&&(ee(!1),q(null),M(""))},H=me=>{me.noteId===r.id&&u==="view"&&window.dispatchEvent(new CustomEvent("refreshProject"))};return Ds.on("note-locked",$),Ds.on("note-unlocked",R),Ds.on("note-updated",H),()=>{Ds.off("note-locked",$),Ds.off("note-unlocked",R),Ds.off("note-updated",H)}}},[a,r?.id,u,s]),x.useEffect(()=>(u==="edit"&&r&&F?.isCurrentUser?se():de(),()=>de()),[u,F?.isCurrentUser]);const te=async()=>{if(r)try{const $=await De.checkNoteLock(s,r.id);ee($.locked),q($.lockedBy||null)}catch($){console.error("Failed to check lock status:",$)}},he=async()=>{if(!r)return!1;try{return await De.lockNote(s,r.id),ee(!0),q({email:"",name:"",isCurrentUser:!0}),M(""),!0}catch($){return $.response?.status===423?(M(`Note is being edited by ${$.response.data.lockedBy?.name||"another user"}`),ee(!0),q($.response.data.lockedBy),yt.warning(`Note is currently being edited by ${$.response.data.lockedBy?.name||"another user"}`,4e3)):$.response?.status===403?yt.error("You do not have permission to edit this note",5e3):$.response?.status===401?yt.error("You need to be logged in to edit notes",5e3):(M("Failed to acquire lock"),yt.error("Failed to start editing. Please try again.",4e3)),!1}},ue=async()=>{if(r)try{await De.unlockNote(s,r.id),ee(!1),q(null),M("")}catch($){console.error("Failed to release lock:",$)}},se=()=>{W.current||(W.current=window.setInterval(async()=>{if(r&&u==="edit")try{await De.heartbeatNoteLock(s,r.id)}catch($){console.error("Heartbeat failed:",$)}},6e4))},de=()=>{W.current&&(clearInterval(W.current),W.current=null)};if(!a||!r)return null;const L=()=>{J.current&&clearTimeout(J.current),J.current=window.setTimeout(()=>{u==="edit"&&(f.trim()!==r.title||b.trim()!==(r.description||"")||k.trim()!==r.content)&&X()},3e4)},C=($,R)=>{$==="title"?v(R):$==="description"?g(R):$==="content"&&N(R),L()},P=async()=>{if(p&&p.canEdit===!1){p.userRole==="viewer"?yt.error("You need editor access to edit notes in this project",5e3):yt.error("You do not have permission to edit this note",5e3);return}if(V&&!F?.isCurrentUser){M(`Note is being edited by ${F?.name||"another user"}`);return}await he()&&m("edit")},X=async()=>{if(!(!f.trim()||!k.trim())){if(p&&p.canEdit===!1){p.userRole==="viewer"?yt.error("You need editor access to save changes to notes",5e3):yt.error("You do not have permission to save changes to this note",5e3);return}le.current=!0,w(!0);try{await De.updateNote(s,r.id,{title:f.trim(),description:b.trim(),content:k.trim()}),f.trim()!==r.title&&await nn.trackUpdate("note",r.id,"title",r.title,f.trim(),r.title,void 0),b.trim()!==(r.description||"")&&await nn.trackUpdate("note",r.id,"description",r.description||"",b.trim(),r.title,void 0),k.trim()!==r.content&&await nn.trackUpdate("note",r.id,"content",r.content,k.trim(),r.title,void 0),await ue(),m("view"),c()}catch($){$.response?.status===423?M(`Note is being edited by ${$.response.data.lockedBy?.name||"another user"}`):$.response?.status===403?yt.error("You do not have permission to edit this note",5e3):$.response?.status===401?yt.error("You need to be logged in to edit notes",5e3):(console.error("Failed to update note:",$),yt.error("Failed to save note. Please try again.",5e3))}finally{w(!1),setTimeout(()=>{le.current=!1},0)}}},oe=async()=>{try{await De.deleteNote(s,r.id),await nn.trackDelete("note",r.id,r.title,void 0,{originalTitle:r.title}),c(),o(),_(!1)}catch($){console.error("Failed to delete note:",$),_(!1)}},pe=async()=>{(f.trim()!==r.title||b.trim()!==(r.description||"")||k.trim()!==r.content)&&!await jt.checkNavigationAllowed()||(D.current=!0,v(r.title),g(r.description||""),N(r.content),await ue(),m("view"),setTimeout(()=>{D.current=!1},0))},ye=async()=>{try{await navigator.clipboard.writeText(r.content)}catch($){console.error("Failed to copy note content:",$)}},ke=()=>{_(!0)},G=async()=>{I(!1),await X()},Z=async()=>{I(!1),D.current=!0,v(r.title),g(r.description||""),N(r.content),await ue(),m("view"),setTimeout(()=>{D.current=!1},0)},ne=()=>{I(!1)},Se=()=>{f.trim()!==r.title||b.trim()!==(r.description||"")||k.trim()!==r.content?I(!0):pe()},Ve=$=>{if(!$)return'<p class="text-base-content/60 italic">No content...</p>';let R=$;const H=me=>me.startsWith("http://")||me.startsWith("https://")?me:"https://"+me;return R=R.replace(/^### (.*$)/gm,'<h3 class="text-lg font-semibold mt-4 mb-2">$1</h3>').replace(/^## (.*$)/gm,'<h2 class="text-xl font-semibold mt-4 mb-2">$1</h2>').replace(/^# (.*$)/gm,'<h1 class="text-2xl font-bold mt-4 mb-2">$1</h1>'),R=R.replace(/```([\s\S]*?)```/gim,'<pre class="bg-base-200 rounded p-3 my-2 overflow-x-auto"><code class="text-sm font-mono">$1</code></pre>').replace(/`([^`]+)`/gim,'<code class="bg-base-200 px-2 py-1 rounded text-sm font-mono">$1</code>'),R=R.replace(/\[([^\]]+)\]\(([^)]+)\)/gim,(me,Le,$e)=>`<a href="${H($e)}" class="link link-primary" target="_blank" rel="noopener noreferrer">${Le}</a>`),R=R.replace(new RegExp("(?<!<[^>]*|`[^`]*|\\[[^\\]]*\\]\\()[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*\\.[a-zA-Z]{2,}(?:\\/[^\\s<]*)?","gi"),me=>`<a href="${H(me)}" class="link link-primary" target="_blank" rel="noopener noreferrer">${me}</a>`),R=R.replace(new RegExp("(?<!<[^>]*|`[^`]*|\\[[^\\]]*\\]\\()https?:\\/\\/[^\\s<]+","gi"),me=>`<a href="${me}" class="link link-primary" target="_blank" rel="noopener noreferrer">${me}</a>`),R=R.replace(/\*\*([^*]+?)\*\*/g,'<strong class="font-semibold">$1</strong>').replace(/\*([^*]+?)\*/g,'<em class="italic">$1</em>'),R=R.replace(/^> (.*$)/gim,'<blockquote class="border-l-4 border-primary pl-4 my-2 italic text-base-content/80">$1</blockquote>'),R=R.replace(/^- (.*$)/gm,'<li class="ml-4 list-disc list-inside">$1</li>').replace(/^\* (.*$)/gm,'<li class="ml-4 list-disc list-inside">$1</li>').replace(/^\d+\. (.*$)/gm,'<li class="ml-4 list-decimal list-inside">$1</li>'),R=R.replace(/<\/li>\n/g,"</li>"),R=R.replace(/<\/h[1-6]>\n/g,me=>me.replace(`
`,"")),R=R.replace(/\n(?!<\/)/gim,"<br>"),R},kt=e.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-[9999]",children:[e.jsxs("div",{className:"bg-base-100 w-full h-screen flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-base-300 flex-shrink-0",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-2xl font-bold text-base-content truncate",children:r.title}),r.description&&e.jsx("p",{className:"text-base-content/70 mt-1",children:r.description}),e.jsxs("div",{className:"text-sm text-base-content/50 mt-2",children:[r.updatedAt!==r.createdAt&&e.jsxs(e.Fragment,{children:["Updated: ",new Date(r.updatedAt).toLocaleDateString(),r.updatedBy&&` by ${r.updatedBy}`,"  "]}),r.createdAt&&e.jsxs(e.Fragment,{children:["Created: ",new Date(r.createdAt).toLocaleDateString(),r.createdBy&&` by ${r.createdBy}`]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-6 flex-shrink-0",children:[u==="edit"?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:X,className:"btn btn-primary",disabled:j||!f.trim()||!k.trim(),children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),j?"Saving...":"Save"]}),e.jsx("button",{onClick:Se,className:"btn btn-ghost",disabled:j,children:"Cancel"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:ye,className:"btn btn-ghost",title:"Copy content (C)",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy"]}),e.jsxs("button",{onClick:P,className:`btn ${V&&!F?.isCurrentUser||p&&p.canEdit===!1?"btn-disabled":"btn-ghost"}`,title:p&&p.canEdit===!1?p.userRole==="viewer"?"You need editor access to edit notes":"No edit permission":V&&!F?.isCurrentUser?`Being edited by ${F?.name}`:"Edit note (E)",disabled:V&&!F?.isCurrentUser||p&&p.canEdit===!1,children:[p&&p.canEdit===!1?e.jsx("svg",{className:"w-4 h-4 mr-2 text-error",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364l12.728-12.728"})}):V&&!F?.isCurrentUser?e.jsx("svg",{className:"w-4 h-4 mr-2 text-warning",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}):e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),p&&p.canEdit===!1?"No Access":V&&!F?.isCurrentUser?"Locked":"Edit"]}),e.jsxs("button",{onClick:ke,className:"btn btn-error btn-outline",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]}),e.jsxs("button",{onClick:async()=>{if(u==="edit"){if(f.trim()!==r.title||b.trim()!==(r.description||"")||k.trim()!==r.content){I(!0);return}await ue()}o()},className:"btn btn-primary gap-2",title:u==="view"?"Back (Esc)":"Back (Esc)  Ctrl+S to save",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]})]})]}),Y&&e.jsx("div",{className:"px-4 py-2 bg-warning/10 border-b border-warning/20",children:e.jsxs("div",{className:"flex items-center gap-2 text-warning",children:[e.jsx("svg",{className:"w-4 h-4 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),e.jsx("span",{className:"text-sm font-medium",children:Y}),e.jsx("button",{onClick:()=>M(""),className:"ml-auto btn btn-xs btn-ghost text-warning hover:bg-warning/20",children:""})]})}),e.jsx("div",{className:"flex-1 overflow-hidden",children:u==="edit"?e.jsx("div",{className:"h-full p-4",children:e.jsxs("div",{className:"space-y-2 h-full flex flex-col",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 flex-shrink-0",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Title"})}),e.jsx("input",{type:"text",value:f,onChange:$=>C("title",$.target.value),className:"input-field",placeholder:"Note title...",required:!0})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Description"})}),e.jsx("input",{type:"text",value:b,onChange:$=>C("description",$.target.value),className:"input-field",placeholder:"Brief description (optional)..."})]})]}),e.jsxs("div",{className:"form-control flex-1 flex flex-col",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Content"})}),e.jsx("div",{className:"flex-1",children:e.jsx(Ci,{value:k,onChange:$=>C("content",$),placeholder:"Enter your note content here... (Markdown supported)"})})]})]})}):e.jsx("div",{className:"h-full p-6 overflow-auto",children:e.jsx("div",{className:"prose prose-lg max-w-none text-base-content mb-4",dangerouslySetInnerHTML:{__html:Ve(r.content)}})})})]}),e.jsx(Tt,{isOpen:S,onConfirm:oe,onCancel:()=>_(!1),title:"Delete Note",message:`Are you sure you want to delete "<strong>${r.title}</strong>"? This action cannot be undone.`,confirmText:"Delete Note",variant:"error"}),T&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[10000]",children:e.jsxs("div",{className:"bg-base-100 rounded-lg shadow-xl p-6 w-full max-w-md",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 bg-warning/10 rounded-full",children:e.jsx("svg",{className:"w-8 h-8 text-warning",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h3",{className:"text-xl font-bold text-center mb-4",children:"Unsaved Changes"}),e.jsx("div",{className:"text-center text-base-content/70 mb-6",children:"You have unsaved changes. What would you like to do?"}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("button",{className:"btn btn-primary",onClick:G,disabled:j,children:j?"Saving...":"Save & Exit"}),e.jsx("button",{className:"btn btn-error btn-outline",onClick:Z,disabled:j,children:"Discard Changes"}),e.jsx("button",{className:"btn btn-ghost",onClick:ne,disabled:j,children:"Continue Editing"})]})]})})]});return mm.createPortal(kt,document.body)},gy=({projectId:r,onAdd:s})=>{const[a,o]=x.useState(""),[c,u]=x.useState(""),[m,p]=x.useState(""),[f,v]=x.useState(!1),[b,g]=x.useState(!1),k=async N=>{if(N.preventDefault(),!(!a.trim()||!m.trim())){v(!0);try{const j=await De.createNote(r,{title:a.trim(),description:c.trim(),content:m.trim()});await nn.trackCreate("note",j.note?.id||"unknown",a.trim(),void 0,{hasDescription:!!c.trim(),contentLength:m.trim().length}),o(""),u(""),p(""),g(!1),s()}catch(j){console.error("Failed to create note:",j)}finally{v(!1),yt.success("Note Created Successfully")}}};return e.jsxs("div",{className:"collapse collapse-arrow bg-base-100 shadow-lg border-subtle mb-4",children:[e.jsx("input",{type:"checkbox",checked:b,onChange:N=>g(N.target.checked)}),e.jsx("div",{className:"collapse-title text-lg font-semibold bg-base-200 border-b border-base-content/10",children:"Create New Note"}),e.jsx("div",{className:"collapse-content",children:e.jsxs("form",{onSubmit:k,className:"space-y-4 pt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Note Title"})}),e.jsx("input",{type:"text",value:a,onChange:N=>o(N.target.value),className:"input-field border-base-300",placeholder:"Enter note title...",required:!0})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Description (Optional)"})}),e.jsx("input",{type:"text",value:c,onChange:N=>u(N.target.value),className:"input-field border-base-300",placeholder:"Brief description..."})]})]}),e.jsxs("div",{className:"form-control",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Note Content"})}),e.jsx("button",{type:"submit",className:"btn-primary-sm",disabled:f||!a.trim()||!m.trim(),children:f?"Adding...":"Add Note"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ci,{value:m,onChange:p,placeholder:"Enter your note content here... (Markdown supported)"}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",className:"btn-primary-sm",disabled:f||!a.trim()||!m.trim(),children:f?"Adding...":"Add Note"})})]})]})]})})]})},vy=()=>{const{selectedProject:r,user:s,onProjectRefresh:a}=cn(),[o,c]=x.useState(null),[u,m]=x.useState(!1),[p,f]=x.useState("view"),[v,b]=x.useState("");x.useEffect(()=>{r&&s&&nn.setContext(r.id,s.id)},[r,s]);const g=w=>{c(w),f("view"),m(!0)},k=()=>{m(!1),c(null)},N=async()=>{await a()};x.useEffect(()=>{if(o&&r&&u){const w=r.notes?.find(S=>S.id===o.id);w&&c(w)}},[r?.notes,o?.id,u]);const j=async w=>{if(r)try{await De.createDevLogEntry(r.id,{title:`${w.text}`,description:w.description||" ",entry:`${w.text}`}),await De.deleteTodo(r.id,w.id),await a()}catch{b("Failed to archive todo to dev log")}};return r?e.jsxs("div",{className:"p-6 space-y-6",children:[v&&e.jsxs("div",{className:"alert alert-error shadow-md",children:[e.jsx("svg",{className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:v})]}),e.jsxs("div",{className:"collapse collapse-arrow bg-base-100 shadow-lg border border-base-content/10",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsxs("div",{className:"collapse-title text-lg font-semibold bg-base-200 border-b border-base-content/10",children:["Notes (",r.notes?.length||0,")"]}),e.jsx("div",{className:"collapse-content",children:e.jsxs("div",{className:"pt-4",children:[e.jsx(gy,{projectId:r.id,onAdd:a}),r.notes?.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:""}),e.jsx("p",{className:"text-base-content/60",children:"No notes yet. Create one above!"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.notes?.sort((w,S)=>new Date(S.updatedAt).getTime()-new Date(w.updatedAt).getTime())?.map(w=>e.jsx(fy,{note:w,projectId:r.id,onUpdate:a,onClick:()=>g(w)},w.id))})]})})]}),e.jsx(xy,{note:o,projectId:r.id,isOpen:u,onClose:k,onUpdate:N,mode:p,onModeChange:f,project:r}),e.jsxs("div",{className:"collapse collapse-arrow bg-base-100 shadow-lg border border-base-content/10",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsxs("div",{className:"collapse-title text-lg font-semibold bg-base-200 border-b border-base-content/10",children:["To Do (",r.todos?.filter(w=>!w.parentTodoId).length||0,")"]}),e.jsx("div",{className:"collapse-content",children:e.jsxs("div",{className:"pt-4",children:[e.jsx(pc,{projectId:r.id,onAdd:a,isSharedProject:r.isShared||!1}),e.jsx("div",{className:"space-y-3",children:r.todos?.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:""}),e.jsx("p",{className:"text-base-content/60",children:"No todos yet. Create one above!"})]}):r.todos?.filter(w=>!w.parentTodoId)?.map(w=>e.jsx(cp,{todo:w,projectId:r.id,onUpdate:a,onArchiveToDevLog:j,isSharedProject:r.isShared||!1,canEdit:r.canEdit!==!1,allTodos:r.todos||[]},w.id))})]})})]}),e.jsxs("div",{className:"collapse collapse-arrow bg-base-100 shadow-lg border border-base-content/10",children:[e.jsx("input",{type:"checkbox"}),e.jsxs("div",{className:"collapse-title text-lg font-semibold bg-base-200 border-b border-base-content/10",children:["Dev Log (",r.devLog?.length||0,")"]}),e.jsx("div",{className:"collapse-content",children:e.jsxs("div",{className:"pt-4",children:[e.jsx(yb,{projectId:r.id,onAdd:a}),e.jsx("div",{className:"space-y-3",children:r.devLog?.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:""}),e.jsx("p",{className:"text-base-content/60",children:"No dev log entries yet. Create one above!"})]}):r.devLog?.map(w=>e.jsx(bb,{entry:w,projectId:r.id,onUpdate:a},w.id))})]})})]})]}):e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Select a project"}),e.jsx("p",{className:"text-base-content/60",children:"Choose a project from the sidebar to view notes and tasks"})]})})},Il=[{id:"frontend-framework",name:"Frontend Framework",emoji:"",color:"#61DAFB",description:"Core framework for building your user interface",options:[{name:"React",description:"Most popular library for building UIs with components",popularity:"high",latestVersion:"18.2",url:"https://reactjs.org",platforms:["web"]},{name:"Vue.js",description:"Progressive framework that's beginner-friendly",popularity:"high",latestVersion:"3.4",url:"https://vuejs.org",platforms:["web"]},{name:"Angular",description:"Full-featured framework with TypeScript built-in",popularity:"high",latestVersion:"17.0",url:"https://angular.io",platforms:["web"]},{name:"Svelte",description:"Compiler-based framework with minimal runtime",popularity:"medium",latestVersion:"4.2",url:"https://svelte.dev",platforms:["web"]}]},{id:"meta-framework",name:"Meta Framework",emoji:"",color:"#000000",description:"Full-stack frameworks that handle routing, SSR, and more",options:[{name:"Next.js",description:"Most popular React meta-framework with great DX",popularity:"high",latestVersion:"14.0",url:"https://nextjs.org",platforms:["web"]},{name:"Nuxt",description:"Vue.js meta-framework with automatic routing",popularity:"medium",latestVersion:"3.8",url:"https://nuxt.com",platforms:["web"]},{name:"SvelteKit",description:"Official Svelte framework with file-based routing",popularity:"medium",latestVersion:"1.27",url:"https://kit.svelte.dev",platforms:["web"]},{name:"Remix",description:"React framework focused on web standards",popularity:"medium",latestVersion:"2.4",url:"https://remix.run",platforms:["web"]},{name:"Astro",description:"Static site generator with component islands",popularity:"medium",latestVersion:"4.0",url:"https://astro.build",platforms:["web"]},{name:"Gatsby",description:"React-based static site generator",popularity:"medium",latestVersion:"5.12",url:"https://gatsbyjs.com",platforms:["web"]},{name:"Vite + SSG",description:"Fast static site generation with Vite",popularity:"medium",latestVersion:"5.0",url:"https://vitejs.dev/guide/static-deploy.html",platforms:["web"]},{name:"Eleventy (11ty)",description:"Simple static site generator with flexible templating",popularity:"medium",latestVersion:"2.0",url:"https://11ty.dev",platforms:["web"]},{name:"T3 Stack",description:"Full-stack TypeScript with Next.js, Prisma, tRPC",popularity:"medium",latestVersion:"7.25",url:"https://create.t3.gg",platforms:["web"]}]},{id:"ui-library",name:"UI Component Library",emoji:"",color:"#EC4899",description:"Pre-built components to speed up UI development",options:[{name:"Material-UI (MUI)",description:"Google Material Design components for React",popularity:"high",latestVersion:"5.15",url:"https://mui.com",platforms:["web"]},{name:"Ant Design",description:"Enterprise-grade UI components for React",popularity:"high",latestVersion:"5.12",url:"https://ant.design",platforms:["web"]},{name:"Chakra UI",description:"Simple and modular React component library",popularity:"high",latestVersion:"2.8",url:"https://chakra-ui.com",platforms:["web"]},{name:"shadcn/ui",description:"Copy-paste components built with Radix and Tailwind",popularity:"high",latestVersion:"0.8",url:"https://ui.shadcn.com",platforms:["web"]},{name:"Mantine",description:"Full-featured React components and hooks",popularity:"medium",latestVersion:"7.4",url:"https://mantine.dev",platforms:["web"]},{name:"Headless UI",description:"Unstyled, accessible components for React/Vue",popularity:"medium",latestVersion:"1.7",url:"https://headlessui.com",platforms:["web"]},{name:"Vuetify",description:"Material Design components for Vue.js",popularity:"medium",latestVersion:"3.4",url:"https://vuetifyjs.com",platforms:["web"]},{name:"PrimeNG",description:"Rich UI components for Angular",popularity:"medium",latestVersion:"17.0",url:"https://primeng.org",platforms:["web"]},{name:"Radix UI",description:"Low-level accessible components for design systems",popularity:"high",latestVersion:"1.0",url:"https://radix-ui.com",platforms:["web"]}]},{id:"styling",name:"Styling Solution",emoji:"",color:"#EF4444",description:"How you write and organize your CSS",options:[{name:"Tailwind CSS",description:"Most popular utility-first CSS framework",popularity:"high",latestVersion:"3.4",url:"https://tailwindcss.com",platforms:["web","mobile"]},{name:"CSS Modules",description:"Locally scoped CSS to avoid naming conflicts",popularity:"high",latestVersion:"4.3",url:"https://github.com/css-modules/css-modules",platforms:["web"]},{name:"Styled Components",description:"CSS-in-JS library for styling React components",popularity:"high",latestVersion:"6.1",url:"https://styled-components.com",platforms:["web","mobile"]},{name:"Emotion",description:"Performant and flexible CSS-in-JS library",popularity:"medium",latestVersion:"11.11",url:"https://emotion.sh",platforms:["web","mobile"]},{name:"Sass/SCSS",description:"CSS preprocessor with variables and nesting",popularity:"high",latestVersion:"1.69",url:"https://sass-lang.com",platforms:["web"]},{name:"PostCSS",description:"Tool for transforming CSS with JavaScript plugins",popularity:"high",latestVersion:"8.4",url:"https://postcss.org",platforms:["web"]},{name:"Vanilla Extract",description:"Zero-runtime CSS-in-JS with full type safety",popularity:"medium",latestVersion:"1.14",url:"https://vanilla-extract.style",platforms:["web"]},{name:"Bootstrap",description:"Most popular CSS framework worldwide",popularity:"high",latestVersion:"5.3",url:"https://getbootstrap.com",platforms:["web"]},{name:"DaisyUI",description:"Tailwind CSS component library",popularity:"high",latestVersion:"4.12",url:"https://daisyui.com",platforms:["web"]},{name:"Bulma",description:"Modern CSS framework based on Flexbox",popularity:"medium",latestVersion:"0.9.4",url:"https://bulma.io",platforms:["web"]}]},{id:"backend-language",name:"Backend Language",emoji:"",color:"#4B5563",description:"Programming language and runtime for your server",options:[{name:"Node.js",description:"JavaScript runtime - same language as frontend",popularity:"high",latestVersion:"21.2",url:"https://nodejs.org",platforms:["web"]},{name:"Python",description:"Beginner-friendly with great libraries",popularity:"high",latestVersion:"3.12",url:"https://python.org",platforms:["web"]},{name:"PHP",description:"Popular for web development with lots of hosting",popularity:"high",latestVersion:"8.3",url:"https://php.net",platforms:["web"]},{name:"Go",description:"Fast, simple language built by Google",popularity:"medium",latestVersion:"1.21",url:"https://golang.org",platforms:["web"]},{name:"Rust",description:"Extremely fast and memory-safe systems language",popularity:"medium",latestVersion:"1.75",url:"https://rust-lang.org",platforms:["web"]},{name:"Java",description:"Enterprise-grade language with strong ecosystem",popularity:"medium",latestVersion:"21",url:"https://java.com",platforms:["web"]},{name:"C#/.NET",description:"Microsoft's modern, cross-platform framework",popularity:"medium",latestVersion:"8.0",url:"https://dotnet.microsoft.com",platforms:["web","desktop"]}]},{id:"backend-framework",name:"Backend Framework",emoji:"",color:"#8B5CF6",description:"Framework to build your API and server logic",options:[{name:"Express.js",description:"Most popular Node.js framework - minimal and flexible",popularity:"high",latestVersion:"4.18",url:"https://expressjs.com",platforms:["web"]},{name:"Fastify",description:"Faster Node.js alternative to Express",popularity:"medium",latestVersion:"4.24",url:"https://fastify.dev",platforms:["web"]},{name:"NestJS",description:"Enterprise Node.js framework with TypeScript",popularity:"high",latestVersion:"10.2",url:"https://nestjs.com",platforms:["web"]},{name:"Django",description:"Full-featured Python framework with admin panel",popularity:"high",latestVersion:"5.0",url:"https://djangoproject.com",platforms:["web"]},{name:"FastAPI",description:"Modern Python framework with automatic API docs",popularity:"high",latestVersion:"0.104",url:"https://fastapi.tiangolo.com",platforms:["web"]},{name:"Flask",description:"Lightweight Python framework for simple APIs",popularity:"medium",latestVersion:"3.0",url:"https://flask.palletsprojects.com",platforms:["web"]},{name:"Laravel",description:"Full-featured PHP framework with great tooling",popularity:"high",latestVersion:"10.40",url:"https://laravel.com",platforms:["web"]},{name:"Ruby on Rails",description:"Convention-over-configuration Ruby framework",popularity:"medium",latestVersion:"7.1",url:"https://rubyonrails.org",platforms:["web"]},{name:"Spring Boot",description:"Popular Java framework for enterprise apps",popularity:"medium",latestVersion:"3.2",url:"https://spring.io/projects/spring-boot",platforms:["web"]},{name:"Hono",description:"Fast, lightweight web framework for edge",popularity:"medium",latestVersion:"3.12",url:"https://hono.dev",platforms:["web"]},{name:"Koa.js",description:"Next generation framework by Express team",popularity:"medium",latestVersion:"2.14",url:"https://koajs.com",platforms:["web"]},{name:"Gin",description:"High-performance HTTP web framework for Go",popularity:"medium",latestVersion:"1.9",url:"https://gin-gonic.com",platforms:["web"]}]},{id:"database",name:"Database",emoji:"",color:"#3B82F6",description:"Where you store and manage your data",options:[{name:"PostgreSQL",description:"Most popular open-source SQL database",popularity:"high",latestVersion:"16.0",url:"https://postgresql.org",platforms:["web","mobile","desktop"]},{name:"MySQL",description:"Widely used SQL database with great hosting support",popularity:"high",latestVersion:"8.2",url:"https://mysql.com",platforms:["web","mobile","desktop"]},{name:"MongoDB",description:"Popular NoSQL database for flexible data",popularity:"high",latestVersion:"7.0",url:"https://mongodb.com",platforms:["web","mobile","desktop"]},{name:"SQLite",description:"Lightweight file-based database perfect for small apps",popularity:"medium",latestVersion:"3.44",url:"https://sqlite.org",platforms:["web","mobile","desktop"]},{name:"Redis",description:"In-memory database for caching and sessions",popularity:"high",latestVersion:"7.2",url:"https://redis.io",platforms:["web","mobile","desktop"]},{name:"Supabase",description:"PostgreSQL with real-time features and auth",popularity:"high",latestVersion:"2.38",url:"https://supabase.com",platforms:["web","mobile"]},{name:"Firebase Firestore",description:"Google's NoSQL database with real-time sync",popularity:"high",latestVersion:"10.7",url:"https://firebase.google.com",platforms:["web","mobile"]},{name:"PlanetScale",description:"Serverless MySQL with branching like Git",popularity:"medium",latestVersion:"Cloud",url:"https://planetscale.com",platforms:["web","mobile"]},{name:"Neon",description:"Serverless PostgreSQL with branching",popularity:"medium",latestVersion:"Cloud",url:"https://neon.tech",platforms:["web","mobile"]},{name:"Turso",description:"Edge SQLite database with global replication",popularity:"medium",latestVersion:"Cloud",url:"https://turso.tech",platforms:["web","mobile"]},{name:"DynamoDB",description:"Amazon's fast NoSQL database service",popularity:"medium",latestVersion:"Cloud",url:"https://aws.amazon.com/dynamodb",platforms:["web","mobile"]}]},{id:"database-orm",name:"Database ORM/Client",emoji:"",color:"#F59E0B",description:"Tool to interact with your database from code",options:[{name:"Prisma",description:"Most popular TypeScript ORM with great tooling",popularity:"high",latestVersion:"5.7",url:"https://prisma.io",platforms:["web","mobile","desktop"]},{name:"Drizzle ORM",description:"Lightweight TypeScript ORM with SQL-like syntax",popularity:"medium",latestVersion:"0.29",url:"https://orm.drizzle.team",platforms:["web","mobile","desktop"]},{name:"Mongoose",description:"MongoDB object modeling for Node.js",popularity:"high",latestVersion:"8.0",url:"https://mongoosejs.com",platforms:["web"]},{name:"Sequelize",description:"Popular SQL ORM for Node.js",popularity:"medium",latestVersion:"6.35",url:"https://sequelize.org",platforms:["web"]},{name:"TypeORM",description:"ORM that works with TypeScript and JavaScript",popularity:"medium",latestVersion:"0.3",url:"https://typeorm.io",platforms:["web"]},{name:"Knex.js",description:"SQL query builder for Node.js",popularity:"medium",latestVersion:"3.1",url:"https://knexjs.org",platforms:["web"]},{name:"Supabase JS",description:"JavaScript client for Supabase",popularity:"high",latestVersion:"2.38",url:"https://supabase.com/docs/reference/javascript",platforms:["web","mobile"]},{name:"Firebase SDK",description:"Official Firebase JavaScript SDK",popularity:"high",latestVersion:"10.7",url:"https://firebase.google.com/docs/web/setup",platforms:["web","mobile"]}]},{id:"mobile-framework",name:"Mobile Framework",emoji:"",color:"#EF4444",description:"Framework for building mobile apps",options:[{name:"React Native",description:"Use React to build native iOS and Android apps",popularity:"high",latestVersion:"0.73",url:"https://reactnative.dev",platforms:["mobile"]},{name:"Expo",description:"Easiest way to build React Native apps",popularity:"high",latestVersion:"50.0",url:"https://expo.dev",platforms:["mobile"]},{name:"Flutter",description:"Google's framework using Dart language",popularity:"high",latestVersion:"3.16",url:"https://flutter.dev",platforms:["mobile","desktop","web"]},{name:"Ionic",description:"Build mobile apps with web technologies",popularity:"medium",latestVersion:"7.6",url:"https://ionicframework.com",platforms:["mobile","web"]},{name:"Capacitor",description:"Turn web apps into native mobile apps",popularity:"medium",latestVersion:"5.5",url:"https://capacitorjs.com",platforms:["mobile"]},{name:"Quasar",description:"Vue.js based framework for cross-platform apps",popularity:"medium",latestVersion:"2.14",url:"https://quasar.dev",platforms:["web","mobile","desktop"]}]},{id:"desktop-framework",name:"Desktop Framework",emoji:"",color:"#14B8A6",description:"Framework for building desktop applications",options:[{name:"Electron",description:"Build desktop apps with HTML, CSS, JavaScript",popularity:"high",latestVersion:"28.0",url:"https://electronjs.org",platforms:["desktop"]},{name:"Tauri",description:"Smaller, faster desktop apps with Rust backend",popularity:"medium",latestVersion:"1.5",url:"https://tauri.app",platforms:["desktop"]},{name:".NET MAUI",description:"Microsoft's framework for cross-platform apps",popularity:"medium",latestVersion:"8.0",url:"https://dotnet.microsoft.com/apps/maui",platforms:["desktop","mobile"]},{name:"Flutter Desktop",description:"Use Flutter to build desktop applications",popularity:"low",latestVersion:"3.16",url:"https://flutter.dev/desktop",platforms:["desktop"]}]},{id:"hosting-deployment",name:"Hosting & Deployment",emoji:"",color:"#8B5CF6",description:"Where and how you deploy your application",options:[{name:"Vercel",description:"Best for Next.js and frontend deployment",popularity:"high",latestVersion:"Cloud",url:"https://vercel.com",platforms:["web"]},{name:"Netlify",description:"Great for static sites and serverless functions",popularity:"high",latestVersion:"Cloud",url:"https://netlify.com",platforms:["web"]},{name:"Railway",description:"Simple deployment for full-stack applications",popularity:"medium",latestVersion:"Cloud",url:"https://railway.app",platforms:["web"]},{name:"Render",description:"Alternative to Heroku for web apps and databases",popularity:"medium",latestVersion:"Cloud",url:"https://render.com",platforms:["web"]},{name:"AWS",description:"Amazon's comprehensive cloud platform",popularity:"high",latestVersion:"Cloud",url:"https://aws.amazon.com",platforms:["web","mobile","desktop"]},{name:"Google Cloud",description:"Google's cloud platform with great AI/ML tools",popularity:"high",latestVersion:"Cloud",url:"https://cloud.google.com",platforms:["web","mobile","desktop"]},{name:"Digital Ocean",description:"Developer-friendly cloud infrastructure",popularity:"medium",latestVersion:"Cloud",url:"https://digitalocean.com",platforms:["web","mobile","desktop"]},{name:"Heroku",description:"Easy deployment platform for web applications",popularity:"medium",latestVersion:"Cloud",url:"https://heroku.com",platforms:["web"]},{name:"Fly.io",description:"Deploy apps close to users globally",popularity:"medium",latestVersion:"Cloud",url:"https://fly.io",platforms:["web"]},{name:"Cloudflare Pages",description:"JAMstack platform with edge computing",popularity:"high",latestVersion:"Cloud",url:"https://pages.cloudflare.com",platforms:["web"]},{name:"GitHub Pages",description:"Free static site hosting by GitHub",popularity:"high",latestVersion:"Cloud",url:"https://pages.github.com",platforms:["web"]},{name:"Firebase Hosting",description:"Fast and secure web hosting by Google",popularity:"high",latestVersion:"Cloud",url:"https://firebase.google.com/products/hosting",platforms:["web"]}]},{id:"development-tools",name:"Development Tools",emoji:"",color:"#14B8A6",description:"Tools to help you build and maintain your code",options:[{name:"TypeScript",description:"Adds type safety to JavaScript - highly recommended",popularity:"high",latestVersion:"5.3",url:"https://typescriptlang.org",platforms:["web","mobile","desktop"]},{name:"Vite",description:"Fast build tool and development server",popularity:"high",latestVersion:"5.0",url:"https://vitejs.dev",platforms:["web"]},{name:"Webpack",description:"Powerful module bundler for complex projects",popularity:"high",latestVersion:"5.89",url:"https://webpack.js.org",platforms:["web","desktop"]},{name:"ESLint",description:"Catches errors and enforces code style",popularity:"high",latestVersion:"8.55",url:"https://eslint.org",platforms:["web","mobile","desktop"]},{name:"Prettier",description:"Automatically formats your code consistently",popularity:"high",latestVersion:"3.1",url:"https://prettier.io",platforms:["web","mobile","desktop"]},{name:"Turbo",description:"High-performance build system for monorepos",popularity:"medium",latestVersion:"1.11",url:"https://turbo.build",platforms:["web"]},{name:"Parcel",description:"Zero configuration build tool",popularity:"medium",latestVersion:"2.10",url:"https://parceljs.org",platforms:["web"]},{name:"Rollup",description:"Module bundler for JavaScript libraries",popularity:"medium",latestVersion:"4.9",url:"https://rollupjs.org",platforms:["web"]},{name:"esbuild",description:"Extremely fast JavaScript bundler",popularity:"high",latestVersion:"0.19",url:"https://esbuild.github.io",platforms:["web"]},{name:"SWC",description:"Super-fast TypeScript/JavaScript compiler",popularity:"medium",latestVersion:"1.3",url:"https://swc.rs",platforms:["web"]},{name:"Biome",description:"Fast formatter and linter for web projects",popularity:"medium",latestVersion:"1.4",url:"https://biomejs.dev",platforms:["web"]},{name:"Nx",description:"Smart monorepos with powerful dev tools",popularity:"medium",latestVersion:"17.2",url:"https://nx.dev",platforms:["web"]}]},{id:"testing",name:"Testing Framework",emoji:"",color:"#EC4899",description:"Tools to test your code and prevent bugs",options:[{name:"Jest",description:"Most popular JavaScript testing framework",popularity:"high",latestVersion:"29.7",url:"https://jestjs.io",platforms:["web","mobile","desktop"]},{name:"Vitest",description:"Fast testing framework that works great with Vite",popularity:"high",latestVersion:"1.0",url:"https://vitest.dev",platforms:["web"]},{name:"Cypress",description:"End-to-end testing for web applications",popularity:"high",latestVersion:"13.6",url:"https://cypress.io",platforms:["web"]},{name:"Playwright",description:"Cross-browser testing automation",popularity:"high",latestVersion:"1.40",url:"https://playwright.dev",platforms:["web"]},{name:"React Testing Library",description:"Best practices for testing React components",popularity:"high",latestVersion:"14.1",url:"https://testing-library.com/docs/react-testing-library",platforms:["web"]},{name:"Storybook",description:"Tool for building UI components in isolation",popularity:"high",latestVersion:"7.6",url:"https://storybook.js.org",platforms:["web"]}]},{id:"authentication",name:"Authentication",emoji:"",color:"#F59E0B",description:"User authentication and authorization services",options:[{name:"NextAuth.js",description:"Complete authentication solution for Next.js",popularity:"high",latestVersion:"4.24",url:"https://next-auth.js.org",platforms:["web"]},{name:"Auth0",description:"Universal authentication & authorization platform",popularity:"high",latestVersion:"Cloud",url:"https://auth0.com",platforms:["web","mobile"]},{name:"Clerk",description:"Complete user management platform",popularity:"high",latestVersion:"4.29",url:"https://clerk.com",platforms:["web","mobile"]},{name:"Supabase Auth",description:"Built-in authentication with Supabase",popularity:"high",latestVersion:"2.38",url:"https://supabase.com/auth",platforms:["web","mobile"]},{name:"Firebase Auth",description:"Google's authentication service",popularity:"high",latestVersion:"10.7",url:"https://firebase.google.com/products/auth",platforms:["web","mobile"]}]},{id:"payments",name:"Payments",emoji:"",color:"#10B981",description:"Payment processing and billing solutions",options:[{name:"Stripe",description:"Complete payment infrastructure for the internet",popularity:"high",latestVersion:"14.9",url:"https://stripe.com",platforms:["web","mobile"]},{name:"PayPal",description:"Global payment platform with buyer protection",popularity:"high",latestVersion:"1.0",url:"https://developer.paypal.com",platforms:["web","mobile"]},{name:"Paddle",description:"Revenue delivery platform for SaaS companies",popularity:"medium",latestVersion:"1.2",url:"https://paddle.com",platforms:["web"]}]},{id:"email",name:"Email Services",emoji:"",color:"#EF4444",description:"Transactional email and communication services",options:[{name:"Resend",description:"Modern email API built for developers",popularity:"high",latestVersion:"2.1",url:"https://resend.com",platforms:["web"]},{name:"SendGrid",description:"Trusted email delivery service",popularity:"high",latestVersion:"7.7",url:"https://sendgrid.com",platforms:["web"]},{name:"Mailgun",description:"Powerful APIs for sending, receiving & tracking email",popularity:"medium",latestVersion:"9.0",url:"https://mailgun.com",platforms:["web"]}]},{id:"file-storage",name:"File Storage",emoji:"",color:"#8B5CF6",description:"Cloud storage solutions for files and media",options:[{name:"AWS S3",description:"Amazon's object storage service",popularity:"high",latestVersion:"Cloud",url:"https://aws.amazon.com/s3",platforms:["web","mobile"]},{name:"Cloudinary",description:"Image and video management in the cloud",popularity:"high",latestVersion:"1.41",url:"https://cloudinary.com",platforms:["web","mobile"]},{name:"UploadThing",description:"Simple file uploads for Next.js applications",popularity:"medium",latestVersion:"6.1",url:"https://uploadthing.com",platforms:["web"]}]},{id:"analytics",name:"Analytics",emoji:"",color:"#06B6D4",description:"Track user behavior and application performance",options:[{name:"Google Analytics",description:"Most popular web analytics service",popularity:"high",latestVersion:"GA4",url:"https://analytics.google.com",platforms:["web","mobile"]},{name:"Vercel Analytics",description:"Privacy-friendly analytics for web applications",popularity:"high",latestVersion:"1.1",url:"https://vercel.com/analytics",platforms:["web"]},{name:"Mixpanel",description:"Advanced analytics for understanding user behavior",popularity:"medium",latestVersion:"2.47",url:"https://mixpanel.com",platforms:["web","mobile"]}]},{id:"monitoring",name:"Error Tracking & Monitoring",emoji:"",color:"#DC2626",description:"Monitor errors and application performance",options:[{name:"Sentry",description:"Application monitoring and error tracking",popularity:"high",latestVersion:"7.91",url:"https://sentry.io",platforms:["web","mobile","desktop"]},{name:"LogRocket",description:"Frontend monitoring and session replay",popularity:"medium",latestVersion:"8.6",url:"https://logrocket.com",platforms:["web"]},{name:"Bugsnag",description:"Error monitoring for web and mobile apps",popularity:"medium",latestVersion:"7.22",url:"https://bugsnag.com",platforms:["web","mobile"]}]},{id:"cms",name:"Content Management",emoji:"",color:"#7C3AED",description:"Headless CMS and content management solutions",options:[{name:"Sanity",description:"Platform for structured content",popularity:"high",latestVersion:"3.24",url:"https://sanity.io",platforms:["web"]},{name:"Strapi",description:"Leading open-source headless CMS",popularity:"high",latestVersion:"4.15",url:"https://strapi.io",platforms:["web"]},{name:"Contentful",description:"API-first content platform",popularity:"high",latestVersion:"10.6",url:"https://contentful.com",platforms:["web","mobile"]}]},{id:"state-management",name:"State Management",emoji:"",color:"#3B82F6",description:"Manage application state across components",options:[{name:"Redux Toolkit",description:"Modern Redux with less boilerplate",popularity:"high",latestVersion:"2.0",url:"https://redux-toolkit.js.org",platforms:["web","mobile"]},{name:"Zustand",description:"Simple and lightweight state management",popularity:"high",latestVersion:"4.4",url:"https://zustand-demo.pmnd.rs",platforms:["web","mobile"]},{name:"Jotai",description:"Atomic approach to state management",popularity:"medium",latestVersion:"2.6",url:"https://jotai.org",platforms:["web","mobile"]},{name:"Valtio",description:"Proxy-based state management",popularity:"medium",latestVersion:"1.11",url:"https://valtio.pmnd.rs",platforms:["web","mobile"]}]},{id:"data-fetching",name:"Data Fetching & APIs",emoji:"",color:"#F59E0B",description:"Libraries for fetching and caching API data",options:[{name:"TanStack Query",description:"Powerful data fetching and caching (formerly React Query)",popularity:"high",latestVersion:"5.8",url:"https://tanstack.com/query",platforms:["web","mobile"]},{name:"Axios",description:"Popular HTTP client for making API requests",popularity:"high",latestVersion:"1.6",url:"https://axios-http.com",platforms:["web","mobile","desktop"]},{name:"tRPC",description:"End-to-end typesafe APIs made easy",popularity:"high",latestVersion:"10.45",url:"https://trpc.io",platforms:["web"]},{name:"SWR",description:"Simple data fetching with caching",popularity:"medium",latestVersion:"2.2",url:"https://swr.vercel.app",platforms:["web","mobile"]},{name:"Apollo Client",description:"Comprehensive GraphQL client",popularity:"medium",latestVersion:"3.8",url:"https://apollographql.com/docs/react",platforms:["web","mobile"]},{name:"GraphQL",description:"Query language for APIs",popularity:"medium",latestVersion:"16.8",url:"https://graphql.org",platforms:["web","mobile"]}]},{id:"forms",name:"Forms & Validation",emoji:"",color:"#8B5CF6",description:"Handle user input and form validation",options:[{name:"React Hook Form",description:"Performant forms with minimal re-renders",popularity:"high",latestVersion:"7.48",url:"https://react-hook-form.com",platforms:["web"]},{name:"Zod",description:"TypeScript-first schema validation",popularity:"high",latestVersion:"3.22",url:"https://zod.dev",platforms:["web","mobile","desktop"]},{name:"Yup",description:"JavaScript schema builder for validation",popularity:"high",latestVersion:"1.4",url:"https://github.com/jquense/yup",platforms:["web","mobile","desktop"]},{name:"Formik",description:"Popular form library for React",popularity:"medium",latestVersion:"2.4",url:"https://formik.org",platforms:["web"]}]},{id:"routing",name:"Routing & Navigation",emoji:"",color:"#10B981",description:"Navigate between different pages/screens",options:[{name:"React Router",description:"Standard routing library for React apps",popularity:"high",latestVersion:"6.20",url:"https://reactrouter.com",platforms:["web"]},{name:"Next.js Router",description:"Built-in routing system for Next.js",popularity:"high",latestVersion:"14.0",url:"https://nextjs.org/docs/app/building-your-application/routing",platforms:["web"]},{name:"React Navigation",description:"Navigation library for React Native apps",popularity:"high",latestVersion:"6.1",url:"https://reactnavigation.org",platforms:["mobile"]},{name:"Vue Router",description:"Official routing library for Vue.js",popularity:"high",latestVersion:"4.2",url:"https://router.vuejs.org",platforms:["web"]}]},{id:"animation",name:"Animation & Motion",emoji:"",color:"#EC4899",description:"Add motion and animations to your UI",options:[{name:"Framer Motion",description:"Production-ready motion library for React",popularity:"high",latestVersion:"10.16",url:"https://framer.com/motion",platforms:["web"]},{name:"GSAP",description:"Professional-grade JavaScript animation library",popularity:"high",latestVersion:"3.12",url:"https://greensock.com/gsap",platforms:["web"]},{name:"Lottie React",description:"Render After Effects animations",popularity:"medium",latestVersion:"2.4",url:"https://github.com/Gamote/lottie-react",platforms:["web","mobile"]},{name:"React Spring",description:"Spring-physics based animations",popularity:"medium",latestVersion:"9.7",url:"https://react-spring.dev",platforms:["web"]}]},{id:"utilities",name:"Utility Libraries",emoji:"",color:"#14B8A6",description:"Helpful utilities and helper functions",options:[{name:"Lodash",description:"Utility library with helpful functions",popularity:"high",latestVersion:"4.17",url:"https://lodash.com",platforms:["web","mobile","desktop"]},{name:"Date-fns",description:"Modern date utility library",popularity:"high",latestVersion:"2.30",url:"https://date-fns.org",platforms:["web","mobile","desktop"]},{name:"Day.js",description:"Lightweight alternative to Moment.js",popularity:"high",latestVersion:"1.11",url:"https://day.js.org",platforms:["web","mobile","desktop"]},{name:"Immer",description:"Create immutable state by mutating current state",popularity:"high",latestVersion:"10.0",url:"https://immerjs.github.io/immer",platforms:["web","mobile","desktop"]},{name:"UUID",description:"Generate RFC-compliant UUIDs",popularity:"high",latestVersion:"9.0",url:"https://github.com/uuidjs/uuid",platforms:["web","mobile","desktop"]},{name:"Nanoid",description:"Tiny, secure, URL-friendly unique string ID generator",popularity:"high",latestVersion:"5.0",url:"https://github.com/ai/nanoid",platforms:["web","mobile","desktop"]},{name:"clsx",description:"Tiny utility for constructing className strings",popularity:"high",latestVersion:"2.0",url:"https://github.com/lukeed/clsx",platforms:["web","mobile"]}]}],om=[{id:"web",name:"Web",emoji:"",color:"#3B82F6"},{id:"mobile",name:"Mobile",emoji:"",color:"#EF4444"},{id:"desktop",name:"Desktop",emoji:"",color:"#10B981"}],by=()=>{const{selectedProject:r,onProjectRefresh:s}=cn(),[a,o]=x.useState(()=>new Set(["web","mobile","desktop"])),[c,u]=x.useState(""),[m,p]=x.useState({}),f=M=>{const J={"frontend-framework":{tech:"framework",package:"ui"},"meta-framework":{tech:"framework",package:"ui"},"ui-library":{tech:"framework",package:"ui"},styling:{tech:"styling",package:"ui"},"backend-language":{tech:"runtime",package:"api"},"backend-framework":{tech:"framework",package:"api"},database:{tech:"database",package:"data"},"database-orm":{tech:"tooling",package:"data"},"mobile-framework":{tech:"framework",package:"ui"},"desktop-framework":{tech:"framework",package:"ui"},"hosting-deployment":{tech:"deployment",package:"utility"},"development-tools":{tech:"tooling",package:"utility"},testing:{tech:"testing",package:"utility"},authentication:{tech:"tooling",package:"auth"},payments:{tech:"tooling",package:"utility"},email:{tech:"tooling",package:"api"},"file-storage":{tech:"tooling",package:"data"},analytics:{tech:"tooling",package:"data"},monitoring:{tech:"tooling",package:"utility"},cms:{tech:"tooling",package:"data"},"state-management":{tech:"tooling",package:"state"},"data-fetching":{tech:"tooling",package:"api"},forms:{tech:"tooling",package:"forms"},routing:{tech:"tooling",package:"routing"},animation:{tech:"tooling",package:"animation"},utilities:{tech:"tooling",package:"utility"}}[M]||{tech:"tooling",package:"utility"};return{techCategory:J.tech,packageCategory:J.package}},v=x.useCallback(async(M,B)=>{if(!r)return;const J=`add-${M}-${B.name}`;p(D=>({...D,[J]:!0})),u("");try{const{techCategory:D,packageCategory:le}=f(M);try{await De.addTechnology(r.id,{category:D,name:B.name,version:B.latestVersion||""})}catch{await De.addPackage(r.id,{category:le,name:B.name,version:B.latestVersion||"",description:B.description})}}catch(D){u(D.response?.data?.message||"Failed to add item")}finally{p(D=>({...D,[J]:!1}))}},[r,s]),b=x.useCallback(M=>{if(!r)return!1;const B=r.selectedTechnologies?.some(D=>D.name===M),J=r.selectedPackages?.some(D=>D.name===M);return B||J},[r]),g=x.useCallback(async(M,B)=>{if(!r)return;const J=`remove-${M}-${B}`;p(D=>({...D,[J]:!0})),u("");try{const D=r.selectedTechnologies?.find(W=>W.name===B),le=r.selectedPackages?.find(W=>W.name===B);D?await De.removeTechnology(r.id,D.category,B):le&&await De.removePackage(r.id,le.category,B)}catch{u("Failed to remove item")}finally{p(D=>({...D,[J]:!1}))}},[r,s]),k=x.useMemo(()=>r?.selectedTechnologies?r.selectedTechnologies.reduce((M,B)=>(M[B.category]||(M[B.category]=[]),M[B.category].push(B),M),{}):{},[r?.selectedTechnologies]),N=x.useMemo(()=>r?.selectedPackages?r.selectedPackages.reduce((M,B)=>(M[B.category]||(M[B.category]=[]),M[B.category].push(B),M),{}):{},[r?.selectedPackages]),j=x.useMemo(()=>{const M=r?.selectedTechnologies?.length||0,B=r?.selectedPackages?.length||0;return M+B},[r?.selectedTechnologies?.length,r?.selectedPackages?.length]),w=x.useMemo(()=>Il.map(M=>({...M,options:M.options.filter(B=>!B.platforms||B.platforms.some(J=>a.has(J)))})).filter(M=>M.options.length>0),[a]),S=x.useMemo(()=>{const M=new Map;return w.forEach(B=>B.options.forEach(J=>M.set(J.name,J))),M},[w]),_=x.useCallback(M=>{o(B=>{const J=new Set(B);return J.has(M)?J.delete(M):J.add(M),J})},[]),T=rn.memo(({platforms:M})=>!M||M.length===0?null:e.jsx("div",{className:"flex gap-2 flex-wrap",children:M.map(B=>{const J=om.find(D=>D.id===B);return J?e.jsxs("div",{className:"badge badge-sm badge-ghost gap-1 px-3 py-2",children:[e.jsx("span",{children:J.emoji}),J.name]},B):null})})),I=x.useMemo(()=>Object.entries({Core:{description:"Frontend frameworks, UI libraries, and styling",categories:["frontend-framework","meta-framework","ui-library","styling"]},Backend:{description:"Server languages, frameworks, and databases",categories:["backend-language","backend-framework","database","database-orm"]},Platforms:{description:"Mobile and desktop development",categories:["mobile-framework","desktop-framework"]},Infrastructure:{description:"Hosting, development tools, and testing",categories:["hosting-deployment","development-tools","testing"]},Services:{description:"Authentication, payments, and third-party APIs",categories:["authentication","payments","email","file-storage","analytics","monitoring","cms"]},Libraries:{description:"State management, data fetching, and utilities",categories:["state-management","data-fetching","forms","routing","animation","utilities"]}}).map(([B,J])=>({name:B,description:J.description,categories:w.filter(D=>J.categories.includes(D.id))})).filter(B=>B.categories.length>0),[w]),[V,ee]=x.useState("Core"),[F,q]=x.useState(new Set),Y=rn.memo(()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"max-w-md",children:e.jsxs("select",{value:V,onChange:M=>ee(M.target.value),className:"select select-bordered w-full",children:[e.jsx("option",{value:"",children:"Choose a category group..."}),I.map(M=>e.jsxs("option",{value:M.name,children:[M.name," - ",M.description]},M.name))]})}),V&&e.jsx("div",{className:"space-y-3",children:(()=>{const M=I.find(B=>B.name===V);return M?M.categories.map(B=>{const J=F.has(B.id);return e.jsxs("div",{className:"collapse collapse-arrow bg-base-200",children:[e.jsx("input",{type:"checkbox",checked:J,onChange:()=>{q(D=>{const le=new Set(D);return le.has(B.id)?le.delete(B.id):le.add(B.id),le})}}),e.jsxs("div",{className:"collapse-title font-medium flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:B.emoji}),e.jsxs("div",{children:[e.jsx("span",{className:"text-lg",children:B.name}),e.jsx("p",{className:"text-sm text-base-content/60 font-normal",children:B.description})]})]}),e.jsx("div",{className:"collapse-content",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 pt-4",children:B.options.map(D=>{const le=b(D.name),W=le?`remove-${B.id}-${D.name}`:`add-${B.id}-${D.name}`,te=m[W];return e.jsx("div",{className:`card bg-base-100 shadow-sm border cursor-pointer transition-all hover:shadow-md ${le?"border-primary bg-primary/5":"border-base-200 hover:border-primary/30"} ${te?"opacity-60 pointer-events-none":""}`,onClick:()=>{te||(le?g(B.id,D.name):v(B.id,D))},children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-semibold text-sm",children:D.name}),D.url&&e.jsx("a",{href:D.url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:text-primary/80 text-sm",onClick:he=>he.stopPropagation(),title:"View documentation",children:""})]}),e.jsx("div",{children:te?e.jsx("div",{className:"loading loading-spinner loading-sm"}):le?e.jsx("div",{className:"w-5 h-5 rounded-full bg-primary flex items-center justify-center",children:e.jsx("svg",{className:"w-3 h-3 text-primary-content",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}):e.jsx("div",{className:"w-5 h-5 rounded border-2 border-base-300 flex items-center justify-center hover:border-primary transition-colors",children:e.jsx("svg",{className:"w-3 h-3 text-base-content/40",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})})]}),e.jsx("p",{className:"text-xs text-base-content/70 leading-relaxed mb-3",children:D.description}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx(T,{platforms:D.platforms}),D.latestVersion&&e.jsxs("div",{className:"badge badge-sm badge-outline px-3 py-2",children:["v",D.latestVersion]})]})]})},D.name)})})})]},B.id)}):null})()})]}));return r?e.jsxs("div",{className:"p-6 space-y-8",children:[c&&e.jsxs("div",{className:"alert alert-error shadow-md",children:[e.jsx("svg",{className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:c}),e.jsx("button",{onClick:()=>u(""),className:"btn btn-ghost btn-sm",children:""})]}),j>0&&e.jsxs("div",{className:"card bg-base-100 shadow-lg border border-base-content/10",children:[e.jsx("div",{className:"card-header bg-base-200 border-b border-base-content/10 p-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-success/20 flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:""})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Current Stack"}),e.jsxs("p",{className:"text-base-content/60 text-sm",children:[j," technologies selected"]})]})]})})}),e.jsx("div",{className:"card-body p-6",children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[Object.entries(k).map(([M,B])=>{if(!B?.length)return null;const J=Il.find(D=>D.id===M)||{name:M.charAt(0).toUpperCase()+M.slice(1),emoji:""};return B.map(D=>{const le=`remove-${D.category}-${D.name}`,W=m[le],te=S.get(D.name);return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-base-200 rounded-lg hover:bg-base-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm",children:J.emoji}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-sm",children:D.name}),D.version&&e.jsxs("span",{className:"badge badge-xs badge-ghost",children:["v",D.version]}),te?.url&&e.jsx("a",{href:te.url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:text-primary/80 text-xs",title:"View documentation",children:""})]}),e.jsx("span",{className:"text-xs text-base-content/60",children:J.name})]})]}),e.jsx("button",{onClick:()=>g(D.category,D.name),className:`btn btn-ghost btn-sm text-error hover:bg-error/10 ${W?"loading":""}`,disabled:W,children:W?"":""})]},`${M}-${D.name}`)})}),Object.entries(N).map(([M,B])=>{if(!B?.length)return null;const J=Il.find(D=>D.id===M)||{name:M.charAt(0).toUpperCase()+M.slice(1),emoji:""};return B.map(D=>{const le=`remove-${D.category}-${D.name}`,W=m[le],te=S.get(D.name);return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-base-200 rounded-lg hover:bg-base-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm",children:J.emoji}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-sm",children:D.name}),D.version&&e.jsxs("span",{className:"badge badge-xs badge-ghost",children:["v",D.version]}),te?.url&&e.jsx("a",{href:te.url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:text-primary/80 text-xs",title:"View documentation",children:""})]}),e.jsx("span",{className:"text-xs text-base-content/60",children:J.name})]})]}),e.jsx("button",{onClick:()=>g(D.category,D.name),className:`btn btn-ghost btn-sm text-error hover:bg-error/10 ${W?"loading":""}`,disabled:W,children:W?"":""})]},`${M}-${D.name}`)})})]})})})]}),e.jsxs("div",{className:"card bg-base-100 shadow-lg border border-base-content/10",children:[e.jsx("div",{className:"card-header bg-base-200 border-b border-base-content/10 p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:""})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Add to Stack"}),e.jsx("p",{className:"text-base-content/60 text-sm",children:"Choose technologies for your project"})]})]})}),e.jsxs("div",{className:"card-body p-6 space-y-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Target Platforms"}),e.jsx("div",{className:"flex gap-3",children:om.map(M=>e.jsxs("button",{onClick:()=>_(M.id),className:`btn btn-sm gap-2 ${a.has(M.id)?"btn-primary":"btn-outline"}`,children:[e.jsx("span",{children:M.emoji}),e.jsx("span",{children:M.name})]},M.id))})]}),e.jsx("div",{className:"divider"}),e.jsx("div",{children:e.jsx(Y,{})})]})]})]}):e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Select a project"}),e.jsx("p",{className:"text-base-content/60",children:"Choose a project from the sidebar to view tech stack and progress"})]})})},yy=()=>{const{selectedProject:r,onProjectRefresh:s}=cn(),[a,o]=x.useState({type:"Model",title:"",content:""}),[c,u]=x.useState(!1),[m,p]=x.useState(null),[f,v]=x.useState({type:"Model",title:"",content:""}),[b,g]=x.useState(new Set),[k,N]=x.useState(""),j=M=>{const B=new Set(b);B.has(M)?B.delete(M):B.add(M),g(B)},w=[{value:"Model",label:"Model",emoji:"",description:"Database models and schemas"},{value:"Route",label:"Route",emoji:"",description:"API routes and endpoints"},{value:"API",label:"API",emoji:"",description:"API specifications and contracts"},{value:"Util",label:"Util",emoji:"",description:"Utility functions and helpers"},{value:"ENV",label:"ENV",emoji:"",description:"Environment variables and config, do not commit sensitive keys here, this is for documentation and planning purposes ONLY."},{value:"Auth",label:"Auth",emoji:"",description:"Authentication and authorization"},{value:"Runtime",label:"Runtime",emoji:"",description:"Runtime configuration and setup"},{value:"Framework",label:"Framework",emoji:"",description:"Framework setup and structure"}],S=async()=>{if(!(!r||!a.title.trim()||!a.content.trim())){u(!0),N("");try{await De.createDoc(r.id,a),o({type:"Model",title:"",content:""}),await s()}catch{N("Failed to add documentation template")}finally{u(!1)}}},_=M=>{p(M.id),v({type:M.type,title:M.title,content:M.content}),b.has(M.id)||j(M.id)},T=async()=>{if(!(!r||!m))try{await De.updateDoc(r.id,m,f),p(null),await s()}catch{N("Failed to update documentation template")}},I=async M=>{if(r)try{await De.deleteDoc(r.id,M),await s()}catch{N("Failed to delete documentation template")}},V=()=>{p(null),v({type:"Model",title:"",content:""})},ee=M=>({Model:`User Model:
- id: ObjectId (primary key)
- email: String (unique, required)
- password: String (hashed, required)
- firstName: String (required)
- lastName: String (required)
- createdAt: Date (auto)
- updatedAt: Date (auto)`,Route:`Auth Routes:
POST /api/auth/login
- Body: { email, password }
- Response: { user, token }

POST /api/auth/register  
- Body: { email, password, firstName, lastName }
- Response: { user, token }

GET /api/auth/me
- Headers: Authorization Bearer token
- Response: { user }`,API:`User API Specification:

GET /api/users
- Query: ?page=1&limit=10&search=john
- Response: { users: [], total, page, limit }

POST /api/users
- Body: { email, firstName, lastName }
- Response: { user, message }

PUT /api/users/:id
- Body: { firstName?, lastName? }
- Response: { user, message }`,Util:`Utility Functions:

// Password hashing
hashPassword(password: string): Promise<string>
comparePassword(password: string, hash: string): Promise<boolean>

// JWT tokens
generateToken(payload: object): string
verifyToken(token: string): object | null

// Validation
validateEmail(email: string): boolean
sanitizeInput(input: string): string`,ENV:`Environment Variables:
      Reminder: do not commit sensitive keys here, this is for documentatation purposes ONLY.
      Do not commit environment variables to version control.

# Server
PORT=5000
NODE_ENV=development

# Database
MONGODB_URI=mongodb://localhost:27017/myapp
DB_NAME=myapp

# Authentication
JWT_SECRET=your-super-secret-key
JWT_EXPIRES_IN=7d

# External Services
SENDGRID_API_KEY=your-sendgrid-key
AWS_S3_BUCKET=your-bucket-name`,Auth:`Authentication Strategy:

Middleware:
- requireAuth: Verify JWT token
- requireAdmin: Check admin role
- rateLimiter: Prevent brute force

JWT Implementation:
- Access token: 15 minutes
- Refresh token: 7 days
- Store refresh tokens in DB
- Blacklist on logout

Password Policy:
- Minimum 8 characters
- Require uppercase, lowercase, number
- Hash with bcrypt (12 rounds)`,Runtime:`Runtime Configuration:

Node.js Setup:
- Version: 18+ LTS
- Package manager: npm/yarn
- Process manager: PM2

Development:
- Hot reload: nodemon
- Debugging: VS Code debugger
- Linting: ESLint + Prettier

Production:
- Reverse proxy: Nginx
- SSL: Let's Encrypt
- Monitoring: Winston logging
- Health checks: /health endpoint`,Framework:`Framework Structure:

Express.js App:
/src
  /controllers  - Route handlers
  /middleware   - Custom middleware
  /models       - Database models
  /routes       - API routes
  /utils        - Helper functions
  /config       - Configuration files
  /types        - TypeScript types

React App:
/src
  /components   - Reusable UI components
  /pages        - Page components
  /hooks        - Custom hooks
  /utils        - Helper functions
  /types        - TypeScript interfaces`})[M]||"";if(!r)return e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Select a project"}),e.jsx("p",{className:"text-base-content/60",children:"Choose a project from the sidebar to view documentation templates"})]})});const F=r.docs.reduce((M,B)=>(M[B.type]||(M[B.type]=[]),M[B.type].push(B),M),{}),q=w.filter(M=>(F[M.value]||[]).length>0),Y=r.docs.length>0;return e.jsxs("div",{className:"p-6 space-y-6",children:[k&&e.jsxs("div",{className:"alert alert-error shadow-md",children:[e.jsx("svg",{className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:k})]}),e.jsxs("div",{className:"collapse collapse-arrow bg-base-100 shadow-lg border border-base-content/10 mb-4",children:[e.jsx("input",{type:"checkbox",defaultChecked:!Y}),e.jsx("div",{className:"collapse-title text-lg font-semibold bg-base-200 border-b border-base-content/10",children:"Create New Documentation Template"}),e.jsx("div",{className:"collapse-content",children:e.jsxs("div",{className:"space-y-4 pt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Template Type"})}),e.jsx("select",{value:a.type,onChange:M=>o({...a,type:M.target.value}),className:"select select-bordered border-base-300",children:w.map(M=>e.jsxs("option",{value:M.value,children:[M.emoji," ",M.label," - ",M.description]},M.value))})]}),e.jsxs("div",{className:"form-control md:col-span-2",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Template Title"})}),e.jsx("input",{type:"text",value:a.title,onChange:M=>o({...a,title:M.target.value}),className:"input input-bordered border-base-300",placeholder:"Enter template title..."})]})]}),e.jsxs("div",{className:"form-control",children:[e.jsxs("label",{className:"label",children:[e.jsx("span",{className:"label-text font-medium",children:"Template Content"}),e.jsx("button",{type:"button",onClick:()=>o({...a,content:ee(a.type)}),className:"btn btn-xs btn-outline",children:"Use Example"})]}),e.jsx("textarea",{value:a.content,onChange:M=>o({...a,content:M.target.value}),className:"textarea textarea-bordered border-base-300 h-[400px]",placeholder:"Enter your pseudocode/planning template..."})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:S,disabled:c||!a.title.trim()||!a.content.trim(),className:"btn btn-primary",children:c?"Adding...":"Add Template"})})]})})]}),!Y&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No documentation templates yet"}),e.jsx("p",{className:"text-base-content/60",children:"Create your first template above to get started documenting your project"})]}),q.map(M=>{const B=F[M.value]||[];return e.jsxs("div",{className:"collapse collapse-arrow bg-base-100 shadow-lg border border-base-content/10",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsxs("div",{className:"collapse-title text-lg font-semibold bg-base-200 border-b border-base-content/10",children:[M.label," Templates (",B.length,")"]}),e.jsx("div",{className:"collapse-content",children:e.jsx("div",{className:"pt-4",children:e.jsx("div",{className:"space-y-4",children:B.map(J=>{const D=b.has(J.id),le=m===J.id;return e.jsx("div",{className:"bg-base-100 shadow-lg border border-base-content/10 rounded-lg mb-4",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>j(J.id),className:"flex items-center gap-3 flex-1 text-left hover:bg-base-200 p-2 -m-2 rounded-lg transition-colors",disabled:le,children:[e.jsx("div",{className:`transform transition-transform duration-200 ${D?"rotate-90":""}`,children:e.jsx("svg",{className:"w-5 h-5 text-base-content/60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg",children:J.title}),e.jsxs("div",{className:"text-xs text-base-content/50 mt-1",children:["Created: ",new Date(J.createdAt).toLocaleDateString(),J.updatedAt!==J.createdAt&&e.jsxs(e.Fragment,{children:["  Updated: ",new Date(J.updatedAt).toLocaleDateString()]})]})]})]}),e.jsx("div",{className:"flex gap-2 ml-4",children:le?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:T,className:"btn btn-sm btn-primary",disabled:!f.title.trim()||!f.content.trim(),children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save"]}),e.jsxs("button",{onClick:V,className:"btn btn-sm btn-ghost",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:W=>{W.stopPropagation(),_(J)},className:"btn btn-sm btn-ghost",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),e.jsxs("button",{onClick:W=>{W.stopPropagation(),I(J.id)},className:"btn btn-sm btn-error btn-outline",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})})]}),D&&e.jsx("div",{className:"mt-4 border-t border-base-300 pt-4",children:le?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Type"})}),e.jsx("select",{value:f.type,onChange:W=>v({...f,type:W.target.value}),className:"select select-bordered select-sm",children:w.map(W=>e.jsxs("option",{value:W.value,children:[W.emoji," ",W.label]},W.value))})]}),e.jsxs("div",{className:"form-control md:col-span-2",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Title"})}),e.jsx("input",{type:"text",value:f.title,onChange:W=>v({...f,title:W.target.value}),className:"input input-bordered input-sm"})]})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Content"})}),e.jsx("textarea",{value:f.content,onChange:W=>v({...f,content:W.target.value}),className:"textarea textarea-bordered h-[500px]"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:V,className:"btn btn-ghost btn-sm",children:"Cancel"}),e.jsx("button",{onClick:T,className:"btn btn-primary btn-sm",children:"Save"})]})]}):e.jsx("div",{className:"bg-base-200 rounded-lg p-4 border border-base-300",children:e.jsx("pre",{className:"whitespace-pre-wrap text-sm font-mono leading-relaxed",children:J.content})})})]})},J.id)})})})})]},M.value)})]})},jy=()=>{const{selectedProject:r,onProjectUpdate:s}=cn(),[a,o]=x.useState({}),[c,u]=x.useState(!1),[m,p]=x.useState(!1);x.useEffect(()=>{if(r){const N=r.deploymentData||{},j={liveUrl:N.liveUrl||"",githubRepo:N.githubRepo||"",deploymentPlatform:N.deploymentPlatform||"",deploymentStatus:N.deploymentStatus||"inactive",buildCommand:N.buildCommand||"",startCommand:N.startCommand||"",lastDeployDate:N.lastDeployDate||"",deploymentBranch:N.deploymentBranch||"main",environmentVariables:N.environmentVariables||[],notes:N.notes||""};o(j),p(!1)}},[r]);const f=async()=>{if(r){u(!0);try{await s(r.id,{deploymentData:a}),p(!1)}catch(N){console.error("Failed to save deployment data:",N)}finally{u(!1)}}},v=(N,j)=>{o(w=>({...w,[N]:j})),p(!0)},b=()=>{const N=a.environmentVariables||[];v("environmentVariables",[...N,{key:"",value:""}])},g=(N,j,w)=>{const S=[...a.environmentVariables||[]];S[N]={...S[N],[j]:w},v("environmentVariables",S)},k=N=>{const j=[...a.environmentVariables||[]];j.splice(N,1),v("environmentVariables",j)};return r?e.jsxs("div",{className:"p-6 space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Deployment"}),e.jsx("p",{className:"text-base-content/60 mt-1",children:"Manage deployment settings, commands, and environment configuration"})]}),e.jsx("button",{onClick:f,disabled:c||!m,className:`btn ${m?"btn-primary":"btn-ghost"} ${c?"loading":""}`,children:c?"Saving...":m?"Save Changes":"Saved"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"card bg-base-200 shadow-lg",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"card-title text-xl mb-4",children:"Basic Information"}),e.jsxs("div",{className:"form-control mb-4",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Live URL"})}),e.jsx("input",{type:"url",placeholder:"https://myapp.com",className:"input input-bordered w-full",value:a.liveUrl||"",onChange:N=>v("liveUrl",N.target.value)})]}),e.jsxs("div",{className:"form-control mb-4",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"GitHub Repository"})}),e.jsx("input",{type:"url",placeholder:"https://github.com/username/repo",className:"input input-bordered w-full",value:a.githubRepo||"",onChange:N=>v("githubRepo",N.target.value)})]}),e.jsxs("div",{className:"form-control mb-4",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Deployment Platform"})}),e.jsx("input",{type:"text",placeholder:"Vercel, Netlify, AWS, Railway, etc.",className:"input input-bordered w-full",value:a.deploymentPlatform||"",onChange:N=>v("deploymentPlatform",N.target.value)})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Deployment Status"})}),e.jsxs("select",{className:"select select-bordered w-full",value:a.deploymentStatus||"inactive",onChange:N=>v("deploymentStatus",N.target.value),children:[e.jsx("option",{value:"active",children:" Active"}),e.jsx("option",{value:"inactive",children:" Inactive"}),e.jsx("option",{value:"error",children:" Error"})]})]})]})}),e.jsx("div",{className:"card bg-base-200 shadow-lg",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"card-title text-xl mb-4",children:"Build & Deploy"}),e.jsxs("div",{className:"form-control mb-4",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Build Command"})}),e.jsx("input",{type:"text",placeholder:"npm run build",className:"input input-bordered w-full font-mono",value:a.buildCommand||"",onChange:N=>v("buildCommand",N.target.value)})]}),e.jsxs("div",{className:"form-control mb-4",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Start Command"})}),e.jsx("input",{type:"text",placeholder:"npm start",className:"input input-bordered w-full font-mono",value:a.startCommand||"",onChange:N=>v("startCommand",N.target.value)})]}),e.jsxs("div",{className:"form-control mb-4",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Deployment Branch"})}),e.jsx("input",{type:"text",placeholder:"main",className:"input input-bordered w-full font-mono",value:a.deploymentBranch||"",onChange:N=>v("deploymentBranch",N.target.value)})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Last Deploy Date"})}),e.jsx("input",{type:"datetime-local",className:"input input-bordered w-full",value:a.lastDeployDate?(()=>{try{return new Date(a.lastDeployDate).toISOString().slice(0,16)}catch{return""}})():"",onChange:N=>v("lastDeployDate",N.target.value)})]})]})}),e.jsx("div",{className:"card bg-base-200 shadow-lg lg:col-span-2",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"card-title text-xl",children:"Environment Variables"}),e.jsx("button",{onClick:b,className:"btn btn-primary btn-sm",children:"Add Variable"})]}),e.jsxs("div",{className:"alert alert-warning mb-4",children:[e.jsx("svg",{className:"w-6 h-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 15.5c-.77.833.192 2.5 1.732 2.5z"})}),e.jsxs("span",{className:"text-sm",children:[e.jsx("strong",{children:"Security Warning:"})," Never store actual secrets or API keys here. Use this for documentation only (variable names, with dummy values or locations)."]})]}),e.jsxs("div",{className:"space-y-2",children:[(a.environmentVariables||[]).map((N,j)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"Key",className:"input input-bordered w-1/3 font-mono",value:N.key,onChange:w=>g(j,"key",w.target.value)}),e.jsx("input",{type:"text",placeholder:"Value",className:"input input-bordered flex-1 font-mono",value:N.value,onChange:w=>g(j,"value",w.target.value)}),e.jsx("button",{onClick:()=>k(j),className:"btn btn-error btn-sm",children:"Remove"})]},j)),(!a.environmentVariables||a.environmentVariables.length===0)&&e.jsx("p",{className:"text-base-content/60 text-center py-4",children:"No environment variables configured"})]})]})}),e.jsx("div",{className:"card bg-base-200 shadow-lg lg:col-span-2",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"card-title text-xl mb-4",children:" Deployment Notes"}),e.jsx("textarea",{className:"textarea textarea-bordered w-full h-32",placeholder:"Add notes about deployment process, issues, or configurations...",value:a.notes||"",onChange:N=>v("notes",N.target.value)})]})})]})]}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"No project selected"}),e.jsx("p",{className:"text-base-content/60",children:"Select a project to manage deployment settings"})]})})},wy=()=>{const{selectedProject:r,onProjectUpdate:s}=cn(),[a,o]=x.useState(!1),[c,u]=x.useState(""),[m,p]=x.useState(""),[f,v]=x.useState(!1),[b,g]=x.useState(""),[k,N]=x.useState(""),[j,w]=x.useState({description:!0,tags:!0,links:!0,docs:!0,techStack:!0,timestamps:!0}),[S,_]=x.useState(!1),[T,I]=x.useState(!1),[V,ee]=x.useState(!1),[F,q]=x.useState(!1),[Y,M]=x.useState(!1);x.useEffect(()=>{r&&(v(r.isPublic||!1),g(r.publicSlug||""),N(r.publicDescription||""),r.publicVisibility&&w(r.publicVisibility))},[r]);const B=()=>{if(r?.name){const he=r.name.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"");g(he)}},J=he=>{w(ue=>({...ue,[he]:!ue[he]}))},D=he=>{w(ue=>Object.keys(ue).reduce((se,de)=>({...se,[de]:he}),{}))},le=async()=>{if(r){o(!0),u(""),p("");try{await s(r.id,{isPublic:f,publicSlug:b.trim()||void 0,publicDescription:k.trim()||void 0,publicVisibility:j}),p("Public settings saved successfully!"),setTimeout(()=>p(""),3e3)}catch(he){u(he.response?.data?.message||"Failed to save public settings")}finally{o(!1)}}},W=()=>{const he=`${window.location.origin}/project/${b||r?.id}`;navigator.clipboard.writeText(he),p("Public URL copied to clipboard!"),setTimeout(()=>p(""),3e3)},te=()=>{if(!r)return!1;const he=r.publicVisibility||{description:!0,tags:!0,links:!0,docs:!0,techStack:!0,timestamps:!0},ue=Object.keys(j).some(se=>j[se]!==he[se]);return f!==(r.isPublic||!1)||b!==(r.publicSlug||"")||k!==(r.publicDescription||"")||ue};return r?e.jsxs("div",{className:"p-6 space-y-6",children:[m&&e.jsxs("div",{className:"alert alert-success shadow-md",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:m})]}),c&&e.jsxs("div",{className:"alert alert-error shadow-md",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),e.jsx("span",{children:c})]}),e.jsx("div",{className:"bg-base-200 shadow-lg border border-base-content/10 rounded-lg mb-4",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>_(!S),className:"flex items-center gap-3 flex-1 text-left hover:bg-base-200 p-2 -m-2 rounded-lg transition-colors",children:[e.jsx("div",{className:`transform transition-transform duration-200 ${S?"rotate-90":""}`,children:e.jsx("svg",{className:"w-5 h-5 text-base-content/60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg",children:" Public Sharing Settings"}),e.jsx("p",{className:"text-sm text-base-content/70",children:f?"Project is public":"Project is private"})]})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[f&&e.jsxs("button",{onClick:W,className:"btn btn-outline btn-sm gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy URL"]}),e.jsx("button",{onClick:le,disabled:a||!te(),className:`btn btn-sm ${te()?"btn-primary":"btn-ghost"}`,children:a?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner loading-sm"}),"Saving..."]}):te()?"Save Changes":"Saved"})]})]}),S&&e.jsx("div",{className:"mt-4 border-t border-base-300 pt-4 bg-base-100 rounded-b-lg p-4 -mx-4 -mb-4",children:e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"label-text text-lg font-semibold",children:" Make Project Public"}),e.jsx("p",{className:"text-sm text-base-content/60 mt-1",children:"Enable this to make your project discoverable in the community discover page. Others will be able to view your project details, tech stack, and documentation."}),f&&e.jsx("p",{className:"text-sm text-success font-medium mt-2",children:" Your project is publicly accessible"})]}),e.jsx("input",{type:"checkbox",className:"toggle toggle-primary toggle-lg",checked:f,onChange:he=>v(he.target.checked)})]})})})]})}),f&&e.jsx("div",{className:"bg-base-200 shadow-lg border border-base-content/10 rounded-lg mb-4",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>I(!T),className:"flex items-center gap-3 flex-1 text-left hover:bg-base-200 p-2 -m-2 rounded-lg transition-colors",children:[e.jsx("div",{className:`transform transition-transform duration-200 ${T?"rotate-90":""}`,children:e.jsx("svg",{className:"w-5 h-5 text-base-content/60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg",children:" Public URL Settings"}),e.jsx("p",{className:"text-sm text-base-content/70",children:"Customize your project's public URL"})]})]}),e.jsx("div",{className:"flex gap-2 ml-4",children:e.jsx("button",{onClick:le,disabled:a||!te(),className:`btn btn-sm ${te()?"btn-primary":"btn-ghost"}`,children:a?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner loading-sm"}),"Saving..."]}):te()?"Save Changes":"Saved"})})]}),T&&e.jsxs("div",{className:"mt-4 border-t border-base-300 pt-4 space-y-4 bg-base-100 rounded-b-lg p-4 -mx-4 -mb-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsxs("label",{className:"label",children:[e.jsx("span",{className:"label-text font-medium",children:"Custom URL Slug (Optional)"}),e.jsx("span",{className:"label-text-alt",children:e.jsx("button",{type:"button",onClick:B,className:"btn btn-ghost btn-xs",children:"Generate from name"})})]}),e.jsxs("div",{className:"join",children:[e.jsxs("span",{className:"join-itembg-base-200 px-3 py-2 text-sm text-base-content/70",children:[window.location.origin,"/project/"]}),e.jsx("input",{type:"text",className:"input input-bordered join-item flex-1",placeholder:r.id,value:b,onChange:he=>g(he.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")),pattern:"^[a-z0-9-]+$"})]}),e.jsx("div",{className:"label",children:e.jsx("span",{className:"label-text-alt",children:b?e.jsxs(e.Fragment,{children:["Your project will be accessible at: ",e.jsxs(Pt,{to:`/project/${b}`,className:"link link-primary font-bold",children:["/project/",b]})]}):e.jsxs(e.Fragment,{children:["Your project will be accessible at: ",e.jsxs(Pt,{to:`/project/${r.id}`,className:"link link-primary font-bold",children:["/project/",r.id]})]})})})]}),e.jsxs("div",{className:"form-control",children:[e.jsxs("label",{className:"label",children:[e.jsx("span",{className:"label-text font-medium",children:"Public Description (Optional)"}),e.jsxs("span",{className:"label-text-alt",children:[k.length,"/300 characters"]})]}),e.jsx("textarea",{className:"textarea textarea-bordered h-24 resize-none",placeholder:"Describe your project for public viewers (will override the regular description)",value:k,onChange:he=>N(he.target.value.slice(0,300))}),e.jsx("div",{className:"label",children:e.jsxs("span",{className:"label-text-alt",children:['Leave empty to use your regular project description: "',r.description,'"']})})]}),e.jsx("div",{className:"divider",children:"Preview"}),e.jsxs("div",{className:"mockup-browser border bg-base-300",children:[e.jsx("div",{className:"mockup-browser-toolbar",children:e.jsxs("div",{className:"input",children:[window.location.origin,"/project/",b||r.id]})}),e.jsxs("div",{className:"bg-base-100 p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-lg font-bold text-white",style:{backgroundColor:r.color},children:r.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:r.name}),e.jsx("p",{className:"text-sm text-base-content/70",children:k||r.description})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"badge badge-primary badge-sm",children:r.category}),r.tags?.slice(0,3).map((he,ue)=>e.jsx("span",{className:"badge badge-outline badge-sm",children:he},ue))]})]})]})]})]})}),f&&e.jsx("div",{className:"bg-base-200 shadow-lg border border-base-content/10 rounded-lg mb-4",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>ee(!V),className:"flex items-center gap-3 flex-1 text-left hover:bg-base-200 p-2 -m-2 rounded-lg transition-colors",children:[e.jsx("div",{className:`transform transition-transform duration-200 ${V?"rotate-90":""}`,children:e.jsx("svg",{className:"w-5 h-5 text-base-content/60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg",children:" Visibility Controls"}),e.jsx("p",{className:"text-sm text-base-content/70",children:"Choose what information to include"})]})]}),e.jsx("div",{className:"flex gap-2 ml-4",children:e.jsx("button",{onClick:le,disabled:a||!te(),className:`btn btn-sm ${te()?"btn-primary":"btn-ghost"}`,children:a?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner loading-sm"}),"Saving..."]}):te()?"Save Changes":"Saved"})})]}),V&&e.jsxs("div",{className:"mt-4 border-t border-base-300 pt-4 space-y-4 bg-base-100 rounded-b-lg p-4 -mx-4 -mb-4",children:[e.jsx("p",{className:"text-sm text-base-content/60 mb-4",children:"Choose what information to include on your public project page."}),e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Select Information (",Object.values(j).filter(Boolean).length,"/",Object.keys(j).length,")"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>D(!0),className:"btn btn-ghost btn-xs",children:"Show All"}),e.jsx("button",{onClick:()=>D(!1),className:"btn btn-ghost btn-xs",children:"Hide All"})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.entries(j).map(([he,ue])=>e.jsxs("label",{className:"label cursor-pointer justify-start p-2 border border-base-content/10 rounded-lg hover:bg-base-200/50",children:[e.jsx("input",{type:"checkbox",className:"checkbox checkbox-primary checkbox-sm mr-3",checked:ue,onChange:()=>J(he)}),e.jsx("span",{className:"label-text text-sm font-medium capitalize",children:he==="techStack"?"Tech Stack":he})]},he))})]})]})}),f&&e.jsx("div",{className:"bg-base-200 shadow-lg border border-base-content/10 rounded-lg mb-4",children:e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("button",{onClick:()=>q(!F),className:"flex items-center gap-3 flex-1 text-left hover:bg-base-200 p-2 -m-2 rounded-lg transition-colors",children:[e.jsx("div",{className:`transform transition-transform duration-200 ${F?"rotate-90":""}`,children:e.jsx("svg",{className:"w-5 h-5 text-base-content/60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg",children:" Privacy Information"}),e.jsx("p",{className:"text-sm text-base-content/70",children:"What information is shared publicly"})]})]})}),F&&e.jsxs("div",{className:"mt-4 border-t border-base-300 pt-4 space-y-4 bg-base-100 rounded-b-lg p-4 -mx-4 -mb-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-success",children:" Always Included"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-success"}),"Project name and category"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-success"}),"Project color/theme"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-success"}),"Your name (if profile public)"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-error",children:" Never Included"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-error"}),"Notes and todos"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-error"}),"Development log entries"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-error"}),"Team member information"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-error"}),"Internal project data"]})]})]})]}),e.jsx("div",{className:"mt-4 p-4 bg-info/10 rounded-lg border border-info/20",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-info mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-info mb-1",children:"Privacy & Control"}),e.jsx("p",{className:"text-sm text-base-content/70",children:"Use the visibility controls above to customize what appears on your public page. You can disable public sharing at any time. Your private information always remains secure."})]})]})})]})]})}),!f&&e.jsx("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 border border-primary/20 rounded-lg mb-4",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>M(!Y),className:"flex items-center gap-3 flex-1 text-left hover:bg-base-200/30 p-2 -m-2 rounded-lg transition-colors",children:[e.jsx("div",{className:`transform transition-transform duration-200 ${Y?"rotate-90":""}`,children:e.jsx("svg",{className:"w-5 h-5 text-base-content/60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg",children:" Share Your Work with the World"}),e.jsx("p",{className:"text-sm text-base-content/70",children:"Make your project discoverable by the community"})]})]}),e.jsx("div",{className:"flex gap-2 ml-4",children:e.jsx("button",{onClick:()=>v(!0),className:"btn btn-primary btn-sm",children:"Enable Public Sharing"})})]}),Y&&e.jsxs("div",{className:"mt-4 border-t border-primary/20 pt-4 text-center bg-base-100 rounded-b-lg p-4 -mx-4 -mb-4",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-primary/20 flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0 9c-1.657 0-3-4.03-3-9s1.343-9 3-9m0 18c1.657 0 3-4.03 3-9s-1.343-9-3-9m-9 9a9 9 0 019-9"})})}),e.jsx("h3",{className:"text-xl font-bold mb-2",children:"Share Your Work with the World"}),e.jsx("p",{className:"text-base-content/70 mb-4 max-w-md mx-auto",children:"Make your project discoverable by the community. Get feedback, inspire others, and showcase your skills."}),e.jsx("button",{onClick:()=>v(!0),className:"btn btn-primary",children:"Enable Public Sharing"})]})]})})]}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"No project selected"}),e.jsx("p",{className:"text-base-content/60",children:"Select a project to configure its public sharing settings"})]})})},Ny=({selectedProject:r,onProjectRefresh:s})=>{const a=He(),[o,c]=x.useState({basicInfo:!0,description:!0,tags:!0,links:!0,notes:!1,todos:!1,devLog:!1,docs:!1,techStack:!1,deploymentData:!1,publicPageData:!1,timestamps:!1}),[u,m]=x.useState("json"),[p,f]=x.useState(""),[v,b]=x.useState(!1),[g,k]=x.useState(""),[N,j]=x.useState(!1),[w,S]=x.useState(!1),[_,T]=x.useState(""),[I,V]=x.useState(""),[ee,F]=x.useState(!1),[q,Y]=x.useState(null),M=x.useRef(null),B=L=>{c(C=>({...C,[L]:!C[L]}))},J=L=>{c(C=>Object.keys(C).reduce((P,X)=>({...P,[X]:L}),{}))},D=()=>{const L={};o.basicInfo&&(L.basicInfo={name:r.name,category:r.category,stagingEnvironment:r.stagingEnvironment,color:r.color}),o.description&&r.description&&(L.description=r.description),o.tags&&r.tags&&(L.tags=r.tags),o.notes&&r.notes?.length&&(L.notes=r.notes),o.todos&&r.todos?.length&&(L.todos=r.todos),o.devLog&&r.devLog?.length&&(L.devLog=r.devLog),o.docs&&r.docs?.length&&(L.docs=r.docs),o.techStack&&(r.selectedTechnologies?.length||r.selectedPackages?.length)&&(L.techStack={technologies:r.selectedTechnologies||[],packages:r.selectedPackages||[]}),o.deploymentData&&r.deploymentData&&(L.deploymentData=r.deploymentData),o.publicPageData&&r.publicPageData&&(L.publicPageData=r.publicPageData),o.timestamps&&(L.timestamps={createdAt:r.createdAt,updatedAt:r.updatedAt});let C="";switch(u){case"json":try{C=JSON.stringify(L,(P,X)=>typeof X=="string"&&X.length>1e4?X.substring(0,1e4)+"... [truncated]":X,2)}catch(P){C=`Error generating JSON: ${P}`}break;case"prompt":try{C=le(L)}catch(P){C=`Error generating prompt: ${P}`}break;case"markdown":try{C=W(L)}catch(P){C=`Error generating markdown: ${P}`}break}f(C),b(!0)},le=L=>{const C=g.trim()?g:`[Please replace this text with what you need help with regarding this project. For example:
- Code review or optimization suggestions
- Architecture advice
- Debugging assistance
- Feature implementation guidance
- Testing strategies
- Performance improvements
- Security considerations
- Deployment help
- Documentation improvements]`;let P=`
# Project Context for AI Assistant for "${r.name}"

${r.description?`**Description:** ${r.description}`:""}

##  MY REQUEST:
${C}

##  PROJECT OVERVIEW`;if(L.basicInfo&&(P+=`
**Project Name:** ${L.basicInfo.name}`,L.basicInfo.category&&(P+=`
**Category:** ${L.basicInfo.category}`),L.basicInfo.stagingEnvironment&&(P+=`
**Current Environment:** ${L.basicInfo.stagingEnvironment}`),L.basicInfo.color&&(P+=`
**Theme Color:** ${L.basicInfo.color}`)),L.tags&&(P+=`

**Tags/Keywords:** ${L.tags.length?L.tags.join("  "):"None"}`),L.links?.length&&(P+=`

##  PROJECT RESOURCES`,L.links.forEach(X=>{const oe=X.type==="github"?"":X.type==="demo"?"":X.type==="docs"?"":"";P+=`
${oe} **${X.title}:** ${X.url} (${X.type})`})),L.techStack&&(P+=`

##  TECH STACK`,L.techStack.technologies?.length&&(P+=`
**Technologies:** ${L.techStack.technologies.map(X=>X.name).join("  ")}`),L.techStack.packages?.length&&(P+=`
**Packages/Dependencies:** ${L.techStack.packages.map(X=>X.name).join("  ")}`)),L.todos?.length){const X=L.todos.filter(pe=>pe?.completed),oe=L.todos.filter(pe=>pe&&!pe.completed);P+=`

##  CURRENT TASKS (${X.length} completed, ${oe.length} pending)`,oe.length>0&&(P+=`

** Pending Tasks:**`,oe.forEach(pe=>{pe?.text&&(P+=`
 ${pe.text}${pe.description?` - ${pe.description}`:""}`,pe.priority&&(P+=` [${pe.priority.toUpperCase()} PRIORITY]`))})),X.length>0&&(P+=`

** Completed Tasks:**`,X.forEach(pe=>{pe?.text&&(P+=`
 ${pe.text}${pe.description?` - ${pe.description}`:""}`)}))}if(L.devLog?.length){const X=L.devLog.slice(-5);P+=`

##  RECENT DEVELOPMENT LOG`,X.forEach(oe=>{const pe=oe.entry?.length>500?oe.entry.substring(0,500)+"...":oe.entry||"";P+=`

**${oe.date}${oe.title?" - "+oe.title:""}**
${pe}`}),L.devLog.length>5&&(P+=`

*(Showing ${X.length} most recent entries out of ${L.devLog.length} total)*`)}if(L.notes?.length&&(P+=`

##  PROJECT NOTES`,L.notes.forEach(X=>{const oe=X.content?.length>1e3?X.content.substring(0,1e3)+"...":X.content||"";P+=`

**${X.title||"Untitled Note"}**
${oe}`})),L.docs?.length){P+=`

##  DOCUMENTATION`;const X=L.docs.reduce((oe,pe)=>(oe[pe.type]||(oe[pe.type]=[]),oe[pe.type].push(pe),oe),{});Object.entries(X).forEach(([oe,pe])=>{P+=`

**${oe} Documentation:**`,pe.forEach(ye=>{const ke=ye.content?.length>800?ye.content.substring(0,800)+"...":ye.content||"";P+=`
 **${ye.title||"Untitled"}:** ${ke}`})})}if(L.deploymentData&&(P+=`

##  DEPLOYMENT INFO`,L.deploymentData.liveUrl&&(P+=`
**Live URL:** ${L.deploymentData.liveUrl}`),L.deploymentData.githubUrl&&(P+=`
**GitHub Repository:** ${L.deploymentData.githubUrl}`),L.deploymentData.deploymentPlatform&&(P+=`
**Hosting Platform:** ${L.deploymentData.deploymentPlatform}`),L.deploymentData.environment&&(P+=`
**Environment:** ${L.deploymentData.environment}`)),L.publicPageData?.isPublic&&(P+=`

##  PUBLIC PAGE INFO`,L.publicPageData.publicTitle&&(P+=`
**Public Title:** ${L.publicPageData.publicTitle}`),L.publicPageData.publicDescription&&(P+=`
**Public Description:** ${L.publicPageData.publicDescription}`),L.publicPageData.publicTags?.length&&(P+=`
**Public Tags:** ${L.publicPageData.publicTags.join("  ")}`)),L.timestamps){const X=new Date(L.timestamps.createdAt),oe=new Date(L.timestamps.updatedAt),pe=Math.floor((Date.now()-X.getTime())/(1e3*60*60*24)),ye=Math.floor((Date.now()-oe.getTime())/(1e3*60*60*24));P+=`

##  PROJECT TIMELINE
**Created:** ${X.toLocaleDateString()} (${pe} days ago)
**Last Updated:** ${oe.toLocaleDateString()} (${ye} days ago)`}return P+=`

---`,P},W=L=>{let C=`# ${r.name}

`;return L.basicInfo&&(C+=`## Basic Information

`,C+=`- **Name:** ${L.basicInfo.name}
`,L.basicInfo.category&&(C+=`- **Category:** ${L.basicInfo.category}
`),L.basicInfo.stagingEnvironment&&(C+=`- **Environment:** ${L.basicInfo.stagingEnvironment}
`),C+=`
`),L.description&&(C+=`## Description

${L.description}

`),L.tags&&(C+=`## Tags

${L.tags.length?L.tags.map(P=>`\`${P}\``).join(", "):"None"}

`),L.links?.length&&(C+=`## Links

`,L.links.forEach(P=>{C+=`- [${P.title}](${P.url}) *(${P.type})*
`}),C+=`
`),L.notes?.length&&(C+=`## Notes

`,L.notes.forEach(P=>{const X=P.content?.length>2e3?P.content.substring(0,2e3)+"...":P.content||"";C+=`### ${P.title||"Untitled Note"}
${X}

`})),L.todos?.length&&(C+=`## Todo Items

`,L.todos.forEach(P=>{const X=P.description?.length>200?P.description.substring(0,200)+"...":P.description;C+=`- [${P.completed?"x":" "}] **${P.text||"Untitled Task"}**${X?`: ${X}`:""}
`}),C+=`
`),L.devLog?.length&&(C+=`## Development Log

`,L.devLog.forEach(P=>{const X=P.entry?.length>1500?P.entry.substring(0,1500)+"...":P.entry||"";C+=`### ${P.date} - ${P.title||"Development Entry"}
${X}

`})),L.docs?.length&&(C+=`## Documentation

`,L.docs.forEach(P=>{const X=P.content?.length>2e3?P.content.substring(0,2e3)+"...":P.content||"";C+=`### ${P.title||"Untitled"} (${P.type})
${X}

`})),L.techStack&&(C+=`## Tech Stack

`,L.techStack.technologies?.length&&(C+=`### Technologies
${L.techStack.technologies.map(P=>`- ${P.name}`).join(`
`)}

`),L.techStack.packages?.length&&(C+=`### Packages
${L.techStack.packages.map(P=>`- ${P.name}`).join(`
`)}

`)),L.deploymentData&&(C+=`## Deployment

`,L.deploymentData.liveUrl&&(C+=`- **Live URL:** ${L.deploymentData.liveUrl}
`),L.deploymentData.githubUrl&&(C+=`- **GitHub:** ${L.deploymentData.githubUrl}
`),L.deploymentData.deploymentPlatform&&(C+=`- **Platform:** ${L.deploymentData.deploymentPlatform}
`),C+=`
`),L.timestamps&&(C+=`## Timestamps

`,C+=`- **Created:** ${new Date(L.timestamps.createdAt).toLocaleDateString()}
`,C+=`- **Updated:** ${new Date(L.timestamps.updatedAt).toLocaleDateString()}
`),C},te=async()=>{try{await navigator.clipboard.writeText(p)}catch(L){console.error("Failed to copy to clipboard:",L)}},he=()=>{const L=u==="markdown"?"md":u==="prompt"?"txt":"json",C=`${r.name.toLowerCase().replace(/\s+/g,"-")}-export.${L}`,P=new Blob([p],{type:"text/plain"}),X=URL.createObjectURL(P),oe=document.createElement("a");oe.href=X,oe.download=C,document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),URL.revokeObjectURL(X)},ue=async()=>{try{j(!0);const L=r.id||r._id;if(!L)throw new Error("Project ID not found");const C=await De.exportProject(L),P=URL.createObjectURL(C),X=document.createElement("a");X.href=P,X.download=`${r.name.replace(/[^a-zA-Z0-9]/g,"_")}_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(X),X.click(),document.body.removeChild(X),URL.revokeObjectURL(P)}catch(L){console.error("Export error:",L),T("Failed to export project: "+(L.response?.data?.message||L.message))}finally{j(!1)}},se=async L=>{const C=L.target.files?.[0];if(C)try{S(!0),T(""),V("");const P=await C.text(),X=JSON.parse(P);if(!X.project)throw new Error("Invalid import file: missing project data");const oe=await De.importProject(X);if(oe.success)V(` NEW PROJECT CREATED: "${oe.project.name}" has been imported as a separate project for safety. Check your project list!`),Y(oe.project),F(!0),s&&await s();else throw new Error(oe.message||"Import failed")}catch(P){console.error("Import error:",P),console.error("Import error details:",{status:P.response?.status,statusText:P.response?.statusText,data:P.response?.data,message:P.message,config:P.config}),(P.response?.status===401||P.response?.status===403)&&console.error("Authentication error during import - this might cause logout"),P instanceof SyntaxError?T("Invalid JSON file format"):P.response?.data?.message?T(`Import failed: ${P.response.data.message}`):P.response?.data?.errors?T(`Validation errors: ${P.response.data.errors.join(", ")}`):T(`Import failed: ${P.message||"Unknown error"}`)}finally{S(!1),M.current&&(M.current.value="")}},de=Object.values(o).filter(Boolean).length;return e.jsxs("div",{className:"pt-4 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("div",{children:e.jsx("p",{className:"text-sm text-base-content/70",children:"Export project data for backup, sharing, or AI assistance. Import project data from backups."})}),e.jsxs("select",{value:u,onChange:L=>m(L.target.value),className:"select select-bordered select-sm",children:[e.jsx("option",{value:"json",children:"JSON"}),e.jsx("option",{value:"prompt",children:"AI Prompt"}),e.jsx("option",{value:"markdown",children:"Markdown"})]})]}),e.jsxs("div",{className:"bg-base-200/30 rounded-lg p-4 space-y-3",children:[e.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[" Project Backup & Import",e.jsx("span",{className:"badge badge-xs badge-primary",children:"Creates New Project"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:ue,disabled:N,className:"btn btn-primary btn-sm",children:N?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner loading-xs"}),"Exporting..."]}):e.jsx(e.Fragment,{children:" Export Project Backup"})}),e.jsx("button",{type:"button",onClick:L=>{L.preventDefault(),L.stopPropagation(),M.current?.click()},disabled:w,className:"btn btn-outline btn-sm",children:w?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner loading-xs"}),"Importing..."]}):e.jsx(e.Fragment,{children:" Import Project"})}),e.jsx("input",{ref:M,type:"file",accept:".json",onChange:se,className:"hidden"})]}),_&&e.jsxs("div",{className:"alert alert-error alert-sm",children:[e.jsx("span",{className:"text-xs",children:_}),e.jsx("button",{onClick:()=>T(""),className:"btn btn-ghost btn-xs",children:""})]}),I&&e.jsxs("div",{className:"alert alert-success alert-sm",children:[e.jsx("span",{className:"text-xs",children:I}),e.jsx("button",{onClick:()=>V(""),className:"btn btn-ghost btn-xs",children:""})]}),e.jsxs("p",{className:"text-xs text-base-content/50",children:[" ",e.jsx("strong",{children:"Export:"})," Downloads a complete backup with all project data (sanitized for security).",e.jsx("br",{})," ",e.jsx("strong",{children:"Import:"})," Creates a NEW project from backup file (keeps your original project safe)."]})]}),e.jsx("div",{className:"divider text-xs",children:"Custom Export Options"}),u==="prompt"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Custom AI Request"}),e.jsx("textarea",{value:g,onChange:L=>k(L.target.value),placeholder:"Type your custom request here (optional). If left empty, a default template will be used.",className:"textarea textarea-bordered w-full text-sm",rows:3})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex-between-center mb-2",children:e.jsxs("span",{className:"text-sm font-medium",children:["Select Data (",de,")"]})}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-2",children:Object.entries(o).map(([L,C])=>e.jsxs("label",{className:"label cursor-pointer justify-start py-1",children:[e.jsx("input",{type:"checkbox",className:"checkbox checkbox-primary checkbox-sm mr-2",checked:C,onChange:()=>B(L)}),e.jsx("span",{className:"label-text text-sm capitalize",children:L==="basicInfo"?"Basic Info":L==="publicPageData"?"Public Page":L==="deploymentData"?"Deployment":L==="devLog"?"Dev Log":L==="techStack"?"Tech Stack":L})]},L))})]}),e.jsxs("div",{className:"ml-5 flex gap-1",children:[e.jsx("button",{onClick:()=>J(!0),className:"btn-ghost-xs",children:"All"}),e.jsx("button",{onClick:()=>J(!1),className:"btn-ghost-xs",children:"None"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:D,disabled:de===0,className:"btn-primary-sm",children:v?"Regenerate":"Generate Export"}),v&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:te,className:"btn-outline-sm",children:" Copy"}),e.jsx("button",{onClick:he,className:"btn-outline-sm",children:" Download"}),e.jsx("button",{onClick:()=>b(!1),className:"btn-ghost-sm",children:""})]})]}),v&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-xs text-base-content/60 flex-between-center",children:[e.jsxs("span",{children:["Export Result (",u.toUpperCase(),")"]}),e.jsxs("span",{children:[p.length," characters"]})]}),e.jsx("div",{className:"mockup-code max-h-96 overflow-auto text-xs",children:e.jsx("pre",{className:"whitespace-pre-wrap break-words",children:e.jsx("code",{children:p})})})]}),e.jsx(Tt,{isOpen:ee,onConfirm:()=>{F(!1),a("/notes?view=projects")},onCancel:()=>{F(!1),Y(null)},title:" Import Successful!",message:q?`<p>A new project <strong>"${q.name}"</strong> has been created successfully!</p>
           <br/>
           <p>This approach keeps your original project safe while giving you a clean copy to work with.</p>
           <br/>
           <p>Would you like to open the new project now?</p>`:"Project imported successfully!",confirmText:"Open New Project",cancelText:"Stay Here",variant:"info"})]})},ky=({projectId:r,userId:s,resourceType:a,showTitle:o=!0,limit:c=20,autoRefresh:u=!1,refreshInterval:m=3e4,showClearButton:p=!0})=>{const[f,v]=x.useState([]),[b,g]=x.useState(!0),[k,N]=x.useState(null),[j,w]=x.useState(0),[S,_]=x.useState(!1),[T,I]=x.useState(!1),[V,ee]=x.useState(1),[F,q]=x.useState(!1),Y=async(W=1,te=!1)=>{try{N(null),te&&q(!0);const he=(W-1)*c,ue=await ss.getProjectActivities(r,{limit:c,offset:he,userId:s,resourceType:a});te?v(se=>[...se,...ue.activities]):(v(ue.activities),ee(W)),w(ue.total)}catch(he){console.error("Failed to load activities:",he),N("Failed to load activity logs")}finally{g(!1),q(!1)}},M=()=>{const W=V+1;ee(W),Y(W,!0)},B=(W,te)=>{if(te==null||te==="")return"empty";switch(W){case"dueDate":case"reminderDate":try{return new Date(te).toLocaleDateString()+" "+new Date(te).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return String(te)}case"assignedTo":return typeof te=="string"&&te.length===24?`User (${te.slice(-6)})`:String(te);case"completed":return te?"completed":"not completed";case"status":return String(te).replace("_"," ");case"priority":return String(te);case"tags":return Array.isArray(te)?te.join(", ")||"none":String(te);default:return String(te)}},J=async()=>{if(!T){I(!0);return}_(!0);try{if((await fetch(`/api/activity-logs/project/${r}/clear`,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}})).ok)v([]),w(0),ee(1),I(!1);else throw new Error("Failed to clear activities")}catch(W){console.error("Failed to clear activities:",W),N("Failed to clear activity logs")}finally{_(!1)}};x.useEffect(()=>{ee(1),Y(1,!1)},[r,s,a,c]),x.useEffect(()=>{if(u&&!b){const W=setInterval(()=>Y(1,!1),m);return()=>clearInterval(W)}},[u,m,b]);const D=W=>{switch(W){case"created":return e.jsx("span",{className:"text-success",children:"+"});case"updated":return e.jsx("span",{className:"text-warning",children:""});case"deleted":return e.jsx("span",{className:"text-error",children:""});case"viewed":return e.jsx("span",{className:"text-info",children:""});case"invited_member":case"removed_member":case"updated_role":return e.jsx("span",{className:"text-primary",children:""});case"added_tech":case"removed_tech":case"added_package":case"removed_package":return e.jsx("span",{className:"text-secondary",children:""});case"shared_project":case"unshared_project":return e.jsx("span",{className:"text-accent",children:""});case"archived_project":case"unarchived_project":return e.jsx("span",{className:"text-base-content/60",children:""});case"joined_project":return e.jsx("span",{className:"text-success",children:""});case"left_project":return e.jsx("span",{className:"text-base-content/60",children:""});default:return e.jsx("span",{className:"text-base-content/40",children:""})}},le=W=>{switch(W){case"project":return"";case"note":return"";case"todo":return"";case"doc":return"";case"devlog":return"";case"link":return"";case"tech":return"";case"package":return"";case"team":return"";case"settings":return"";default:return""}};return b?e.jsxs("div",{className:"flex items-center justify-center p-4",children:[e.jsx("div",{className:"loading loading-spinner loading-sm"}),e.jsx("span",{className:"ml-2 text-sm text-base-content/60",children:"Loading activities..."})]}):k?e.jsxs("div",{className:"alert alert-error",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),e.jsx("span",{children:k}),e.jsx("button",{onClick:()=>Y(1,!1),className:"btn btn-ghost btn-sm",children:"Retry"})]}):f.length===0?e.jsxs("div",{className:"text-center p-6",children:[e.jsx("div",{className:"text-4xl mb-2",children:""}),e.jsx("p",{className:"text-base-content/60",children:"No activity yet"}),e.jsx("p",{className:"text-sm text-base-content/40",children:"Activity will appear here as team members work on the project"})]}):e.jsxs("div",{className:"space-y-3",children:[o&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold",children:"Recent Activity"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-base-content/60",children:[j," total"]}),u&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-success rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs text-base-content/60",children:"Live"})]}),e.jsx("button",{onClick:()=>Y(1,!1),className:"btn btn-ghost btn-xs",disabled:b,children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),p&&f.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:J,className:`btn btn-xs ${T?"btn-error":"btn-ghost"}`,disabled:S,children:S?e.jsx("div",{className:"loading loading-spinner loading-xs"}):T?"Confirm Clear":e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Clear"]})}),T&&e.jsx("button",{onClick:()=>I(!1),className:"btn btn-ghost btn-xs",disabled:S,children:"Cancel"})]})]})]}),e.jsx("div",{className:"space-y-1",children:f.map(W=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-base-100 rounded-lg border border-base-content/5 hover:bg-base-200/50 transition-colors",children:[e.jsxs("div",{className:"flex-shrink-0 flex items-center gap-1",children:[D(W.action),e.jsx("span",{className:"text-xs",children:le(W.resourceType)})]}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-base-content",children:cb(W)}),W.details?.field&&e.jsxs("div",{className:"mt-1 text-xs text-base-content/60",children:[e.jsxs("span",{className:"font-medium",children:[W.details?.field,":"]}),(W.details?.oldValue!==void 0||W.details?.newValue!==void 0)&&e.jsxs("span",{className:"ml-1",children:[W.details?.oldValue!==void 0&&e.jsxs("span",{className:"line-through",children:['"',B(W.details?.field,W.details?.oldValue).slice(0,40),'"']}),W.details?.oldValue!==void 0&&W.details?.newValue!==void 0&&e.jsx("span",{children:"  "}),W.details?.newValue!==void 0&&e.jsxs("span",{className:"text-success",children:['"',B(W.details?.field,W.details?.newValue).slice(0,40),'"']})]})]})]}),e.jsx("div",{className:"flex items-center gap-2 text-xs text-base-content/50",children:e.jsx("span",{title:new Date(W.timestamp).toLocaleString(),children:db(W.timestamp)})})]})})]},W._id))}),f.length<j&&e.jsxs("div",{className:"text-center pt-4",children:[e.jsx("button",{onClick:M,className:"btn btn-ghost btn-sm",disabled:F,children:F?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"loading loading-spinner loading-xs mr-2"}),"Loading..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),"Load More (",j-f.length," remaining)"]})}),e.jsxs("div",{className:"text-xs text-base-content/60 mt-2",children:["Showing ",f.length," of ",j," activities"]})]}),f.length===j&&j>c&&e.jsx("div",{className:"text-center pt-2",children:e.jsxs("div",{className:"text-xs text-base-content/60",children:["All ",j," activities loaded"]})})]})},Sy=({projectId:r,currentUserId:s,showTitle:a=!0,refreshInterval:o=5e3})=>{const[c,u]=x.useState([]),[m,p]=x.useState(!0),[f,v]=x.useState(null),b=async()=>{try{v(null);const j=await ss.getActiveUsers(r,3),w=s?j.activeUsers.filter(S=>S.userId!==s):j.activeUsers;u(w)}catch(j){console.error("Failed to load active users:",j),v("Failed to load active users")}finally{p(!1)}};x.useEffect(()=>{b();const j=setInterval(b,o);return()=>clearInterval(j)},[r,s,o]);const g=j=>{const w=new Date,S=new Date(j.lastActivity),_=Math.floor((w.getTime()-S.getTime())/1e3);return _<60?"active":_<180?"recent":"away"},k=j=>{switch(j){case"active":return"bg-success";case"recent":return"bg-warning";case"away":return"bg-base-content/30"}},N=j=>{switch(j){case"active":return"Active now";case"recent":return"Recently active";case"away":return"Away"}};return m&&c.length===0?a?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"loading loading-spinner loading-sm"}),e.jsx("span",{className:"text-sm text-base-content/60",children:"Loading..."})]}):null:f?a?e.jsx("div",{className:"text-sm text-error",children:f}):null:c.length===0?a?e.jsx("div",{className:"text-sm text-base-content/60",children:"No other active users"}):null:e.jsxs("div",{className:"space-y-3",children:[a&&e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"card-title text-base",children:"Active Team Members"}),e.jsx("span",{className:"badge badge-success badge-sm",children:c.length})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:c.map(j=>{const w=g(j),S=k(w);return e.jsx("div",{className:"bg-base-200/50 border border-base-content/10 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex-shrink-0 relative",children:[e.jsxs("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-primary-content text-xs font-medium",children:[j.user.firstName.charAt(0),j.user.lastName.charAt(0)]}),e.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 rounded-full border border-base-200 ${S}`,title:N(w),children:w==="active"&&e.jsx("div",{className:`w-full h-full rounded-full ${S} animate-pulse`})})]}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("h4",{className:"font-medium text-xs truncate",children:[j.user.firstName," ",j.user.lastName]})}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:`badge badge-xs ${w==="active"?"badge-success":w==="recent"?"badge-warning":"badge-ghost"}`,children:w==="active"?"Active":w==="recent"?"Recent":"Away"})})]})})]})},j.sessionId)})})]})},lm=({isOpen:r,onClose:s,title:a,message:o,variant:c="info"})=>{if(!r)return null;const u=()=>{switch(c){case"success":return{bgClass:"bg-success/10",textClass:"text-success",btnClass:"btn-success",icon:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})};case"error":return{bgClass:"bg-error/10",textClass:"text-error",btnClass:"btn-error",icon:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})};default:return{bgClass:"bg-info/10",textClass:"text-info",btnClass:"btn-info",icon:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}}},{bgClass:m,textClass:p,btnClass:f,icon:v}=u();return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-base-100 rounded-lg shadow-xl p-6 w-full max-w-md",children:[e.jsx("div",{className:`flex items-center justify-center w-16 h-16 mx-auto mb-4 ${m} rounded-full`,children:e.jsx("svg",{className:`w-8 h-8 ${p}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:v})}),e.jsx("h3",{className:"text-xl font-bold text-center mb-4",children:a}),e.jsx("p",{className:"text-center text-base-content/70 mb-6",children:o}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{className:`btn ${f}`,onClick:s,children:"OK"})})]})})},Cy=({projectId:r,canManageTeam:s,currentUserId:a})=>{const[o,c]=x.useState([]),[u,m]=x.useState(!0),[p,f]=x.useState(""),[v,b]=x.useState("viewer"),[g,k]=x.useState(!1),[N,j]=x.useState({}),[w,S]=x.useState(!1),[_,T]=x.useState(!1),[I,V]=x.useState(!1),[ee,F]=x.useState(!1),[q,Y]=x.useState(0),[M,B]=x.useState(!1),[J,D]=x.useState(!1),[le,W]=x.useState(!1),[te,he]=x.useState(""),[ue,se]=x.useState(null);x.useEffect(()=>{de()},[r]),x.useEffect(()=>{o.length>0&&L()},[o,r]),x.useEffect(()=>{const G=setInterval(()=>{L()},3e4);return()=>clearInterval(G)},[r]);const de=async()=>{try{const G=await tn.getMembers(r);c(G.members)}catch(G){console.error("Failed to fetch team members:",G)}finally{m(!1)}},L=async()=>{try{const G=await ln.getProjectTeamTime(r,30);if(G&&G.teamTimeData&&Array.isArray(G.teamTimeData)){const Z={};G.teamTimeData.forEach(ne=>{Z[ne._id]=ne.totalTime||0}),j(Z)}}catch(G){console.error("Failed to load team time data:",G)}},C=G=>{const Z=N[G]||0,ne=Math.floor(Z/(1e3*60)),Se=Math.floor(ne/60),Ve=ne%60;return Se>0?`${Se}h ${Ve}m`:Ve>0?`${Ve}m`:"0m"},P=()=>{const G=Object.values(N).reduce((Ve,kt)=>Ve+kt,0),Z=Math.floor(G/(1e3*60)),ne=Math.floor(Z/60),Se=Z%60;return ne>0?`${ne}h ${Se}m`:Se>0?`${Se}m`:"0m"},X=async G=>{if(G.preventDefault(),!!p.trim()){k(!0);try{await tn.inviteUser(r,{email:p,role:v}),he(`Invitation sent successfully to ${p}!`),B(!0),f("")}catch(Z){console.error("Failed to invite user:",Z);const ne=Z.response?.data?.message||Z.message||"Failed to send invitation";he(ne),D(!0)}finally{k(!1)}}},oe=async G=>{const Z=o.find(ne=>ne.userId._id===G);Z&&(se({id:G,name:`${Z.userId.firstName} ${Z.userId.lastName}`}),W(!0))},pe=async()=>{if(ue)try{await tn.removeMember(r,ue.id),c(G=>G.filter(Z=>Z.userId._id!==ue.id)),W(!1),se(null)}catch(G){console.error("Failed to remove member:",G),he("Failed to remove team member"),D(!0),W(!1),se(null)}},ye=async(G,Z)=>{try{await tn.updateMemberRole(r,G,Z),c(ne=>ne.map(Se=>Se.userId._id===G?{...Se,role:Z}:Se))}catch(ne){console.error("Failed to update role:",ne),he("Failed to update role"),D(!0)}},ke=async()=>{if(!ee){F(!0);return}V(!0);try{if((await fetch(`/api/activity-logs/project/${r}/clear`,{method:"DELETE",credentials:"include"})).ok)he("Activity log cleared successfully"),B(!0),Y(Z=>Z+1);else throw new Error("Failed to clear activities")}catch(G){console.error("Failed to clear activities:",G),he("Failed to clear activity log"),D(!0)}finally{V(!1),F(!1)}};return e.jsxs("div",{className:"space-y-4",children:[s&&e.jsx("div",{className:"card bg-base-200 shadow-sm",children:e.jsxs("div",{className:"card-body p-4",children:[e.jsx("h3",{className:"card-title text-base mb-3",children:"Invite Team Member"}),e.jsxs("form",{onSubmit:X,className:"flex gap-3",children:[e.jsx("input",{type:"email",placeholder:"colleague@company.com",value:p,onChange:G=>f(G.target.value),className:"input input-bordered input-sm flex-1",required:!0}),e.jsxs("select",{value:v,onChange:G=>b(G.target.value),className:"select select-bordered select-sm w-24",children:[e.jsx("option",{value:"viewer",children:"Viewer"}),e.jsx("option",{value:"editor",children:"Editor"})]}),e.jsxs("button",{type:"submit",className:"btn btn-primary btn-sm px-6",disabled:g,children:[g?e.jsx("span",{className:"loading loading-spinner loading-xs mr-2"}):null,g?"Sending":"Send Invite"]})]})]})}),e.jsx("div",{className:"card bg-base-100 shadow-sm",children:e.jsxs("div",{className:"card-body p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"card-title text-base",children:"Team Members"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"badge badge-primary badge-sm",children:o.length}),e.jsx("span",{className:"text-sm text-base-content/60",children:""}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3 text-success",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-sm font-medium text-success",children:P()})]})]})]})}),u?e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"loading loading-spinner loading-sm"}),e.jsx("p",{className:"text-sm text-base-content/60 mt-2",children:"Loading team members..."})]}):o.length===0?e.jsx("div",{className:"text-center py-4 text-base-content/60",children:e.jsx("p",{className:"text-sm",children:"No team members yet"})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:o.map(G=>e.jsx("div",{className:"bg-base-200/50 border border-base-content/10 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"avatar placeholder flex-shrink-0",children:e.jsx("div",{className:"bg-primary text-primary-content rounded-full w-10 h-10",children:e.jsxs("span",{className:"text-sm font-medium",children:[G.userId.firstName[0],G.userId.lastName[0]]})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h4",{className:"font-medium text-sm truncate pr-2",children:[G.userId.firstName," ",G.userId.lastName]}),e.jsx("div",{className:"flex-shrink-0",children:G.isOwner?e.jsx("span",{className:"badge badge-primary badge-sm",children:"Owner"}):e.jsx(e.Fragment,{children:s?e.jsxs("select",{value:G.role,onChange:Z=>ye(G.userId._id,Z.target.value),className:"select select-xs select-bordered w-20 text-xs",children:[e.jsx("option",{value:"viewer",children:"Viewer"}),e.jsx("option",{value:"editor",children:"Editor"})]}):e.jsx("span",{className:"badge badge-sm badge-outline capitalize",children:G.role})})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("svg",{className:"w-3 h-3 text-success flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"text-xs text-success font-medium",children:C(G.userId._id)})]}),s&&!G.isOwner&&e.jsx("button",{onClick:()=>oe(G.userId._id),className:"btn btn-xs btn-ghost btn-circle text-error hover:bg-error/10",title:"Remove member",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})]})},G._id))})]})}),e.jsx("div",{className:"card bg-base-100 shadow-sm",children:e.jsx("div",{className:"card-body p-4",children:e.jsx(Sy,{projectId:r,currentUserId:a,showTitle:!0,showDetails:!0})})}),e.jsx("div",{className:"card bg-base-100 shadow-sm",children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>S(!w),className:"btn btn-ghost btn-sm btn-circle bg-base-300 hover:bg-base-200",title:w?"Expand":"Collapse",children:e.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${w?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),e.jsx("h3",{className:"card-title text-base",children:"Recent Activity"})]}),!w&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-success rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs text-base-content/60",children:"Live"})]}),e.jsx("button",{onClick:()=>{T(!0),Y(G=>G+1),setTimeout(()=>T(!1),1e3)},className:"btn btn-ghost btn-xs",disabled:_,title:"Refresh",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})})}),s&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:ke,className:`btn btn-xs ${ee?"btn-error":"btn-ghost"}`,disabled:I,title:"Clear activity log",children:I?e.jsx("div",{className:"loading loading-spinner loading-xs"}):ee?"Confirm":e.jsx(e.Fragment,{children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})}),ee&&e.jsx("button",{onClick:()=>F(!1),className:"btn btn-ghost btn-xs",disabled:I,title:"Cancel",children:""})]})]})]}),!w&&e.jsx(ky,{projectId:r,showTitle:!1,limit:10,autoRefresh:!0,refreshInterval:3e4,showClearButton:!1},q)]})}),e.jsx(lm,{isOpen:M,onClose:()=>B(!1),title:"Success",message:te,variant:"success"}),e.jsx(lm,{isOpen:J,onClose:()=>D(!1),title:"Error",message:te,variant:"error"}),e.jsx(Tt,{isOpen:le&&!!ue,onConfirm:pe,onCancel:()=>{W(!1),se(null)},title:"Remove Team Member",message:`Are you sure you want to remove ${ue?.name} from this project?`,confirmText:"Remove",variant:"warning"})]})},Ey=()=>{const r=He(),{selectedProject:s,onProjectUpdate:a,onProjectArchive:o,onProjectDelete:c,onProjectRefresh:u}=cn(),[m,p]=x.useState(!1),[f,v]=x.useState(!1),[b,g]=x.useState(""),[k,N]=x.useState(""),[j,w]=x.useState("development"),[S,_]=x.useState("#3B82F6"),[T,I]=x.useState("general"),[V,ee]=x.useState([]),[F,q]=x.useState(""),[Y,M]=x.useState(!1),[B,J]=x.useState(!1),[D,le]=x.useState(!1),[W,te]=x.useState(!1),[he,ue]=x.useState(!1),[se,de]=x.useState("");x.useEffect(()=>{s&&(g(s.name||""),N(s.description||""),w(s.stagingEnvironment||"development"),_(s.color||"#3B82F6"),I(s.category||"general"),ee(s.tags||[]))},[s]);const L=async()=>{if(s){M(!0),de("");try{await a(s.id,{name:b.trim(),description:k.trim()}),p(!1)}catch{de("Failed to save basic settings")}finally{M(!1)}}},C=async()=>{if(s){J(!0),de("");try{await a(s.id,{stagingEnvironment:j,color:S,category:T,tags:V}),v(!1)}catch{de("Failed to save metadata")}finally{J(!1)}}},P=Z=>{Z&&(Z.preventDefault(),Z.stopPropagation());const ne=F.trim().toLowerCase();ne&&!V.map(Se=>Se.toLowerCase()).includes(ne)&&(ee([...V,F.trim()]),q(""))},X=Z=>{ee(V.filter(ne=>ne!==Z))},oe=async()=>{if(s){le(!0),de("");try{await o(s.id,!s.isArchived),await u()}catch{de("Failed to update project archive status")}finally{le(!1)}}},pe=async()=>{if(s)try{await c(s.id),r("/"),te(!1)}catch{de("Failed to delete project"),te(!1)}},ye=async()=>{if(s)try{const Z=await tn.getMembers(s.id);for(const ne of Z.members)ne.isOwner||await tn.removeMember(s.id,ne.userId._id);await a(s.id,{isShared:!1}),await u(),ue(!1)}catch(Z){console.error("Failed to make project private:",Z),de("Failed to make project private"),ue(!1)}},ke=Z=>{Z==="basic"?(g(s?.name||""),N(s?.description||""),p(!1)):Z==="metadata"&&(w(s?.stagingEnvironment||"development"),_(s?.color||"#3B82F6"),I(s?.category||"general"),ee(s?.tags||[]),v(!1)),de("")};if(!s)return e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Select a project"}),e.jsx("p",{className:"text-base-content/60",children:"Choose a project from the sidebar to view settings"})]})});const G=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899","#14B8A6","#F97316","#6366F1","#84CC16"];return e.jsxs("div",{className:"p-6 space-y-6",children:[se&&e.jsxs("div",{className:"alert alert-error shadow-md",children:[e.jsx("svg",{className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:se}),e.jsx("button",{onClick:()=>de(""),className:"btn btn-ghost btn-sm",children:""})]}),e.jsxs("div",{className:"collapse collapse-arrow bg-base-100 shadow-lg border border-base-content/10",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsx("div",{className:"collapse-title text-xl font-semibold bg-base-200 border-b border-base-content/10",children:" Project Information"}),e.jsxs("div",{className:"collapse-content",children:[e.jsxs("div",{className:"pt-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h3",{className:"text-base font-semibold",children:"Basic Info"}),e.jsx("div",{className:"flex space-x-2",children:m?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>ke("basic"),className:"btn btn-ghost btn-xs",disabled:Y,children:"Cancel"}),e.jsx("button",{onClick:L,className:"btn btn-primary btn-xs",disabled:Y,children:Y?"Saving...":"Save"})]}):e.jsx("button",{onClick:()=>p(!0),className:"btn btn-outline btn-xs",children:"Edit"})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label py-1",children:e.jsx("span",{className:"label-text font-medium text-sm",children:"Project Name"})}),m?e.jsx("input",{type:"text",value:b,onChange:Z=>g(Z.target.value),className:"input input-bordered input-sm w-full",placeholder:"Enter project name...",required:!0}):e.jsx("div",{className:"p-2 bg-base-200 rounded border border-base-300",children:e.jsx("p",{className:"font-medium text-sm",children:b})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label py-1",children:e.jsx("span",{className:"label-text font-medium text-sm",children:"Description"})}),m?e.jsx("input",{type:"text",value:k,onChange:Z=>N(Z.target.value),className:"input input-bordered input-sm w-full",placeholder:"Enter project description...",required:!0}):e.jsx("div",{className:"p-2 bg-base-200 rounded border border-base-300",children:e.jsx("p",{className:"text-sm",children:k})})]})]})]}),e.jsx("div",{className:"divider my-4",children:"Metadata"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h3",{className:"text-base font-semibold",children:"Metadata"}),e.jsx("div",{className:"flex space-x-2",children:f?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>ke("metadata"),className:"btn btn-ghost btn-xs",disabled:B,children:"Cancel"}),e.jsx("button",{onClick:C,className:"btn btn-primary btn-xs",disabled:B,children:B?"Saving...":"Save"})]}):e.jsx("button",{onClick:()=>v(!0),className:"btn btn-outline btn-xs",children:"Edit"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label py-1",children:e.jsx("span",{className:"label-text font-medium text-sm",children:"Project Color"})}),f?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"color",value:S,onChange:Z=>_(Z.target.value),className:"w-8 h-8 border border-base-300 rounded cursor-pointer flex-shrink-0"}),e.jsx("input",{type:"text",value:S,onChange:Z=>_(Z.target.value),className:"input input-bordered input-sm flex-1 font-mono text-xs",placeholder:"#3B82F6"})]}):e.jsx("div",{className:"p-2 bg-base-200 rounded border border-base-300",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded border border-base-300 flex-shrink-0",style:{backgroundColor:S}}),e.jsx("span",{className:"font-mono text-xs",children:S})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label py-1",children:e.jsx("span",{className:"label-text font-medium text-sm",children:"Category"})}),f?e.jsx("input",{type:"text",value:T,onChange:Z=>I(Z.target.value),className:"input input-bordered input-sm w-full h-8",placeholder:"Enter category..."}):e.jsx("div",{className:"p-2 bg-base-200 rounded border border-base-300",children:e.jsx("p",{className:"text-sm translate-y-0.5 h-6",children:T})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label py-1",children:e.jsx("span",{className:"label-text font-medium text-sm",children:"Environment"})}),f?e.jsxs("select",{value:j,onChange:Z=>w(Z.target.value),className:"select select-bordered select-sm w-full",children:[e.jsx("option",{value:"development",children:"Development"}),e.jsx("option",{value:"staging",children:"Staging"}),e.jsx("option",{value:"production",children:"Production"})]}):e.jsx("div",{className:"p-2 bg-base-200 rounded border border-base-300",children:e.jsx("span",{className:`badge badge-sm h-6 ${j==="production"?"badge-error":j==="staging"?"badge-warning":"badge-success"}`,children:j.charAt(0).toUpperCase()+j.slice(1)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label py-1",children:e.jsxs("span",{className:"label-text font-medium text-sm",children:["Tags (",V.length,")"]})}),f?e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx("input",{type:"text",value:F,onChange:Z=>q(Z.target.value),className:"input input-bordered input-sm flex-1",placeholder:"Add tag...",onKeyDown:Z=>{Z.key==="Enter"&&P(Z)}}),e.jsx("button",{onClick:P,className:"btn btn-primary btn-sm btn-square",children:"+"})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:V.map((Z,ne)=>e.jsxs("span",{className:"badge badge-info badge-sm gap-1",children:[Z,e.jsx("button",{onClick:()=>X(Z),className:"text-info-content hover:text-error",children:""})]},`tag-${ne}-${Z}`))})]}):e.jsx("div",{className:"p-2 bg-base-200 rounded border border-base-300 min-h-[2rem]",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:V.length===0?e.jsx("span",{className:"text-base-content/60 italic text-xs translate-y-1 h-6",children:"No tags"}):V.map((Z,ne)=>e.jsx("span",{className:"badge badge-info badge-sm h-6",children:Z},`display-tag-${ne}-${Z}`))})})]})]}),f&&e.jsx("div",{className:"mt-2",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:G.map(Z=>e.jsx("button",{onClick:()=>_(Z),className:`w-6 h-6 rounded border-2 ${S===Z?"border-base-content":"border-base-300"} hover:scale-110 transition-transform`,style:{backgroundColor:Z},title:Z},Z))})})]}),e.jsx("div",{className:"divider my-4",children:"Status"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold mb-3",children:"Project Status"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm mb-2",children:"Current Status"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Archive Status:"}),e.jsx("span",{className:`badge badge-sm ${s.isArchived?"badge-ghost":"badge-success"}`,children:s.isArchived?"Archived":"Active"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Sharing Status:"}),e.jsx("span",{className:`badge badge-sm ${s.isShared?"badge-info":"badge-ghost"}`,children:s.isShared?"Shared":"Private"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Deployment Status:"}),e.jsx("span",{className:"badge badge-ghost badge-sm",children:"Coming Soon"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm mb-2",children:"Timestamps"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Created:"})," ",new Date(s.createdAt).toLocaleDateString()]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Updated:"})," ",new Date(s.updatedAt).toLocaleDateString()]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Project ID:"}),e.jsx("span",{className:"font-mono text-xs ml-2",children:s.id})]})]})]})]})]})]})]}),s&&e.jsxs("div",{className:"collapse collapse-arrow bg-base-100 shadow-lg border border-base-content/10",children:[e.jsx("input",{type:"checkbox"}),e.jsx("div",{className:"collapse-title text-xl font-semibold bg-base-200 border-b border-base-content/10",children:" Project Sharing & Team Management"}),e.jsx("div",{className:"collapse-content",children:e.jsx("div",{className:"pt-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-base-200 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${s.isShared?"bg-success/20":"bg-base-300"}`,children:e.jsx("svg",{className:`w-4 h-4 ${s.isShared?"text-success":"text-base-content/60"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:s.isShared?"M17 20h5v-2a3 3 0 00-5.196-2.121M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.196-2.121M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z":"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsxs("div",{children:[e.jsx("div",{className:`font-medium text-sm ${s.isShared?"text-success":"text-base-content"}`,children:s.isShared?"Sharing Enabled":"Private Project"}),e.jsx("div",{className:"text-xs text-base-content/60",children:s.isShared?"Team members can access this project":"Only you can access this project"})]})]}),s.canManageTeam!==!1&&e.jsxs("label",{className:"label cursor-pointer gap-2",children:[e.jsx("span",{className:"label-text text-xs",children:"Enable"}),e.jsx("input",{type:"checkbox",className:"toggle toggle-success toggle-sm",checked:s.isShared,onChange:()=>{s.isShared?ue(!0):a(s.id,{isShared:!0}).then(()=>{u()})}})]})]}),s.isShared&&e.jsx(Cy,{projectId:s.id,canManageTeam:s.canManageTeam??s.isOwner??!1,currentUserId:void 0})]})})})]}),e.jsxs("div",{className:"collapse collapse-arrow bg-base-200 shadow-lg border border-base-content/10",children:[e.jsx("input",{type:"checkbox"}),e.jsx("div",{className:"collapse-title text-xl font-medium",children:" Export Data"}),e.jsx("div",{className:"collapse-content",children:e.jsx(Ny,{selectedProject:s,onProjectRefresh:u})})]}),e.jsxs("div",{className:"collapse collapse-arrow bg-base-200 shadow-lg border border-base-content/10",children:[e.jsx("input",{type:"checkbox"}),e.jsx("div",{className:"collapse-title text-xl font-medium text-error",children:" Danger Zone"}),e.jsx("div",{className:"collapse-content",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:`p-4 ${s.isArchived?"bg-info/10 border-info/20":"bg-warning/10 border-warning/20"} rounded-lg border`,children:[e.jsx("h4",{className:`font-semibold ${s.isArchived?"text-info":"text-warning"} mb-2`,children:s.isArchived?"Unarchive Project":"Archive Project"}),e.jsx("p",{className:`${s.isArchived?"text-info/80":"text-warning/80"} text-sm mb-4`,children:s.isArchived?"Make this project active again":"Move this project to archived section"}),e.jsx("button",{onClick:oe,className:`btn ${s.isArchived?"btn-info":"btn-warning"}`,disabled:D,children:D?"Processing...":s.isArchived?"Make Active":"Archive Project"})]}),e.jsxs("div",{className:"p-4 bg-error/10 rounded-lg border border-error/20",children:[e.jsx("h4",{className:"font-semibold text-error mb-2",children:"Delete Project"}),e.jsx("p",{className:"text-error/80 text-sm mb-4",children:"This action cannot be undone. This will permanently delete the project and all of its data."}),e.jsx("button",{onClick:()=>te(!0),className:"btn btn-error",children:"Delete Project"})]})]})})]}),e.jsx(Tt,{isOpen:W,onConfirm:pe,onCancel:()=>te(!1),title:"Delete Project",message:`Are you sure you want to delete "<strong>${s?.name}</strong>"? This will permanently delete the project and all of its data. This action cannot be undone.`,confirmText:"Delete Project",variant:"error"}),e.jsx(Tt,{isOpen:he,onConfirm:ye,onCancel:()=>ue(!1),title:"Make Project Private",message:`Are you sure you want to make "<strong>${s?.name}</strong>" private? This will remove all team members except the owner from the project.`,confirmText:"Make Private",variant:"warning"})]})},Ly=()=>{const r=He(),[s,a]=x.useState([]),[o,c]=x.useState(!0),[u,m]=x.useState(""),[p,f]=x.useState(""),[v,b]=x.useState(""),[g,k]=x.useState("all"),[N,j]=x.useState(""),[w]=x.useState("recent"),[S,_]=x.useState(1),[T,I]=x.useState(null),[V,ee]=x.useState([]),[F,q]=x.useState([]);x.useEffect(()=>{const D=setTimeout(()=>{b(p)},1500);return()=>clearTimeout(D)},[p]),x.useEffect(()=>{Y(),M()},[]),x.useEffect(()=>{_(1),M()},[v,g,N,w]),x.useEffect(()=>{S>1&&M()},[S]);const Y=async()=>{try{const D=await hi.getFilters();ee(D.categories||[]),q(D.tags||[])}catch(D){console.error("Failed to load filters:",D)}},M=async()=>{try{c(!0),m("");const D=await hi.getProjects({page:S,limit:12,category:g!=="all"?g:void 0,tag:N||void 0,search:v||void 0});a(D.projects||[]),I(D.pagination)}catch(D){m("Failed to load projects"),console.error("Load projects error:",D)}finally{c(!1)}},B=D=>{D.preventDefault(),_(1),M()},J=()=>{f(""),k("all"),j(""),_(1)};return o&&S===1?e.jsx("div",{className:"p-6 flex items-center justify-center min-h-[400px]",children:e.jsx("div",{className:"loading loading-spinner loading-lg"})}):e.jsxs("div",{className:"p-6 space-y-6",children:[u&&e.jsxs("div",{className:"alert alert-error shadow-md",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),e.jsx("span",{children:u}),e.jsx("button",{onClick:M,className:"btn btn-sm",children:"Retry"})]}),e.jsxs("div",{className:"collapse collapse-arrow bg-base-100 shadow-lg border border-base-content/10",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsxs("div",{className:"collapse-title text-lg font-semibold bg-base-200 border-b border-base-content/10 flex items-center justify-between",children:[e.jsx("span",{children:" Search & Filter Projects"}),e.jsx("div",{className:"flex items-center gap-2 text-sm text-base-content/60",onClick:D=>D.stopPropagation()})]}),e.jsx("div",{className:"collapse-content",children:e.jsx("div",{className:"pt-4",children:e.jsxs("form",{onSubmit:B,className:"space-y-4",children:[e.jsx("div",{className:"form-control",children:e.jsxs("div",{className:"relative",children:[e.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-base-content/50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("input",{type:"text",placeholder:"Search projects, users, technologies, or descriptions...",className:"input input-bordered w-full pl-10",value:p,onChange:D=>f(D.target.value)}),p&&e.jsx("button",{type:"button",onClick:()=>f(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-base-content/50 hover:text-base-content",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsxs("select",{className:"select select-bordered select-sm",value:g,onChange:D=>k(D.target.value),children:[e.jsx("option",{value:"all",children:"All Categories"}),V.map(D=>e.jsx("option",{value:D,children:D.charAt(0).toUpperCase()+D.slice(1)},D))]}),e.jsxs("select",{className:"select select-bordered select-sm",value:N,onChange:D=>j(D.target.value),children:[e.jsx("option",{value:"",children:"All Tags"}),F.slice(0,20).map(D=>e.jsx("option",{value:D,children:D},D))]}),T&&e.jsxs("span",{className:"translate-y-1",children:[T.total," projects found"]})]})]})})})]}),e.jsxs("div",{className:"collapse collapse-arrow bg-base-100 shadow-lg border border-base-content/10",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsxs("div",{className:"collapse-title text-lg font-semibold bg-base-200 border-b border-base-content/10",children:[" Community Projects ",T&&`(${T.total})`]}),e.jsx("div",{className:"collapse-content",children:e.jsxs("div",{className:"pt-4 space-y-6",children:[T&&e.jsxs("div",{className:"flex justify-between items-center text-sm text-base-content/60 pb-2 border-b border-base-300",children:[e.jsxs("div",{children:["Showing ",(S-1)*12+1,"-",Math.min(S*12,T.total)," of ",T.total," projects"]}),(v||g!=="all"||N)&&e.jsx("div",{children:"Filtered results"})]}),s.length===0&&v&&!o?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No projects found"}),e.jsx("p",{className:"text-base-content/60 mb-4",children:v||g!=="all"||N?"Try adjusting your search criteria":"No public projects available yet"}),(v||g!=="all"||N)&&e.jsx("button",{onClick:J,className:"btn btn-primary",children:"Clear Filters"})]}):s.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(D=>e.jsx(Pt,{to:`/discover/project/${D.publicSlug||D.id}`,className:"card bg-base-100 shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-[1.02] border border-base-content/10 h-full",children:e.jsxs("div",{className:"card-body p-5 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-lg font-bold text-white flex-shrink-0",style:{backgroundColor:D.color},children:D.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"card-title text-lg truncate mb-2",children:D.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"badge badge-outline badge-sm",children:D.category}),e.jsx("span",{className:"text-xs text-base-content/60",children:new Date(D.updatedAt).toLocaleDateString()})]})]})]}),e.jsx("p",{className:"text-sm text-base-content/70 line-clamp-3 mb-4 flex-grow",children:D.publicDescription||D.description}),e.jsxs("div",{className:"space-y-3 mb-4",children:[D.tags&&D.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1",children:[D.tags.slice(0,4).map((le,W)=>e.jsx("span",{className:"badge badge-ghost badge-sm",children:le},W)),D.tags.length>4&&e.jsxs("span",{className:"badge badge-ghost badge-sm",children:["+",D.tags.length-4]})]}),D.technologies&&D.technologies.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1",children:[D.technologies.slice(0,6).map((le,W)=>e.jsx("span",{className:"badge badge-primary badge-sm",children:le.name},W)),D.technologies.length>6&&e.jsxs("span",{className:"badge badge-primary badge-sm",children:["+",D.technologies.length-6]})]})]}),e.jsxs("div",{className:"flex justify-between items-center mt-auto pt-3 border-t border-base-content/10",children:[D.owner?e.jsx("div",{className:"text-sm text-base-content/60",children:D.owner.isPublic||D.owner.publicSlug?e.jsxs(Pt,{to:`/discover/user/${D.owner.publicSlug||D.owner.id}`,className:"font-medium text-primary hover:text-primary-focus transition-colors",onClick:le=>le.stopPropagation(),children:["@",D.owner.publicSlug||`${D.owner.firstName}${D.owner.lastName}`.toLowerCase()]}):e.jsxs("span",{className:"font-medium text-base-content/80",children:["@",`${D.owner.firstName}${D.owner.lastName}`.toLowerCase()]})}):e.jsx("div",{className:"text-sm text-base-content/60",children:"@anonymous"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("svg",{className:"w-4 h-4 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]})]})},D.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Be the first to share!"}),e.jsx("p",{className:"text-base-content/60 mb-4",children:"No public projects yet. Make your projects public to share them with the community."}),e.jsx("button",{onClick:()=>r("/public"),className:"btn btn-primary",children:"Go to Project Public Settings"})]}),o&&S>1&&e.jsx("div",{className:"text-center py-4",children:e.jsx("div",{className:"loading loading-spinner loading-md"})}),T&&T.pages>1&&e.jsx("div",{className:"flex justify-center pt-4 border-t border-base-300",children:e.jsxs("div",{className:"join",children:[e.jsx("button",{className:"join-item btn btn-sm",disabled:!T.hasPrev,onClick:()=>_(S-1),children:"Previous"}),Array.from({length:Math.min(5,T.pages)},(D,le)=>{const te=Math.max(1,S-2)+le;return te>T.pages?null:e.jsx("button",{className:`join-item btn btn-sm ${S===te?"btn-active":""}`,onClick:()=>_(te),children:te},te)}),e.jsx("button",{className:"join-item btn btn-sm",disabled:!T.hasNext,onClick:()=>_(S+1),children:"Next"})]})})]})})]})]})},Py=()=>{const[r,s]=x.useState([]),[a,o]=x.useState(!0),[c,u]=x.useState(""),[m,p]=x.useState(new Set),f=async()=>{try{const j=localStorage.getItem("userIdeas");j&&s(JSON.parse(j))}catch(j){console.error("Failed to load ideas:",j),u("Failed to load ideas")}finally{o(!1)}},v=j=>{localStorage.setItem("userIdeas",JSON.stringify(j)),s(j)};x.useEffect(()=>{f()},[]);const b=(j,w,S)=>{const T=[{id:Date.now().toString(),title:j,description:w,content:S,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},...r];v(T)},g=(j,w,S,_)=>{const T=r.map(I=>I.id===j?{...I,title:w,description:S,content:_,updatedAt:new Date().toISOString()}:I);v(T)},k=j=>{const w=r.filter(S=>S.id!==j);v(w)},N=j=>{const w=new Set(m);w.has(j)?w.delete(j):w.add(j),p(w)};return a?e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("div",{className:"loading loading-spinner loading-lg"})}):e.jsxs("div",{className:"p-6 space-y-6",children:[c&&e.jsxs("div",{className:"alert alert-error shadow-md",children:[e.jsx("svg",{className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:c})]}),e.jsxs("div",{className:"collapse collapse-arrow bg-base-100 shadow-lg border border-base-content/10",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsxs("div",{className:"collapse-title text-lg font-semibold bg-base-200 border-b border-base-content/10",children:["Ideas (",r.length,")"]}),e.jsx("div",{className:"collapse-content",children:e.jsxs("div",{className:"pt-4",children:[e.jsx(Ay,{onAdd:b}),e.jsx("div",{className:"space-y-3",children:r.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:""}),e.jsx("p",{className:"text-base-content/60",children:"No ideas yet. Create one above!"})]}):r.sort((j,w)=>new Date(w.updatedAt).getTime()-new Date(j.updatedAt).getTime()).map(j=>e.jsx(Ty,{idea:j,onUpdate:g,onDelete:k,isExpanded:m.has(j.id),onToggleExpand:()=>N(j.id)},j.id))})]})})]})]})},Ty=({idea:r,isExpanded:s,onToggleExpand:a,onUpdate:o,onDelete:c})=>{const[u,m]=x.useState(!1),[p,f]=x.useState(r.title),[v,b]=x.useState(r.description||""),[g,k]=x.useState(r.content),[N,j]=x.useState(!1),[w,S]=x.useState(!1),_=`idea-${r.id}`,T=x.useRef(null),I=x.useRef(null),V=x.useRef(!1),ee=x.useRef(!1);rn.useEffect(()=>{f(r.title),b(r.description||""),k(r.content)},[r.title,r.description,r.content]),rn.useEffect(()=>{if(u){const W=p.trim()!==r.title||v.trim()!==(r.description||"")||g.trim()!==r.content;jt.setUnsavedChanges(_,W)}else jt.setUnsavedChanges(_,!1)},[u,p,v,g,r.title,r.description,r.content,_]),rn.useEffect(()=>()=>{jt.setUnsavedChanges(_,!1)},[_]);const F=()=>{T.current&&clearTimeout(T.current),T.current=window.setTimeout(()=>{u&&(p.trim()!==r.title||v.trim()!==(r.description||"")||g.trim()!==r.content)&&Y()},3e4)};x.useEffect(()=>{const W=te=>{if(u&&I.current&&!I.current.contains(te.target)){const se=te.target.closest("button")?.textContent?.toLowerCase();if(se?.includes("save")||se?.includes("cancel"))return;p.trim()!==r.title||v.trim()!==(r.description||"")||g.trim()!==r.content?te.preventDefault():m(!1)}};return u&&(document.addEventListener("mousedown",W),F()),()=>{document.removeEventListener("mousedown",W),T.current&&clearTimeout(T.current)}},[u,p,v,g,r.title,r.description,r.content]);const q=(W,te)=>{W==="title"?f(te):W==="description"?b(te):W==="content"&&k(te),F()},Y=async()=>{if(!(!p.trim()||!g.trim())){ee.current=!0,j(!0);try{o(r.id,p.trim(),v.trim(),g.trim()),m(!1)}catch(W){console.error("Failed to update idea:",W)}finally{j(!1),setTimeout(()=>{ee.current=!1},0)}}},M=async()=>{try{c(r.id),S(!1)}catch(W){console.error("Failed to delete idea:",W),S(!1)}},B=()=>{V.current=!0,f(r.title),b(r.description||""),k(r.content),m(!1),setTimeout(()=>{V.current=!1},0)},J=W=>{W.stopPropagation(),m(!0),s||a()},D=W=>{W.stopPropagation(),S(!0)},le=W=>{if(!W)return'<p class="text-base-content/60 italic">No content...</p>';let te=W;const he=ue=>ue.startsWith("http://")||ue.startsWith("https://")?ue:"https://"+ue;return te=te.replace(/^### (.*$)/gim,'<h3 class="text-lg font-semibold mt-4 mb-2">$1</h3>').replace(/^## (.*$)/gim,'<h2 class="text-xl font-semibold mt-4 mb-2">$1</h2>').replace(/^# (.*$)/gim,'<h1 class="text-2xl font-bold mt-4 mb-2">$1</h1>'),te=te.replace(/```([\s\S]*?)```/gim,'<pre class="bg-base-200 rounded p-3 my-2 overflow-x-auto"><code class="text-sm font-mono">$1</code></pre>').replace(/`([^`]+)`/gim,'<code class="bg-base-200 px-2 py-1 rounded text-sm font-mono">$1</code>'),te=te.replace(/\[([^\]]+)\]\(([^)]+)\)/gim,(ue,se,de)=>`<a href="${he(de)}" class="link link-primary" target="_blank" rel="noopener noreferrer">${se}</a>`),te=te.replace(new RegExp("(?<!<[^>]*|`[^`]*|\\[[^\\]]*\\]\\()[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*\\.[a-zA-Z]{2,}(?:\\/[^\\s<]*)?","gi"),ue=>`<a href="${he(ue)}" class="link link-primary" target="_blank" rel="noopener noreferrer">${ue}</a>`),te=te.replace(new RegExp("(?<!<[^>]*|`[^`]*|\\[[^\\]]*\\]\\()https?:\\/\\/[^\\s<]+","gi"),ue=>`<a href="${ue}" class="link link-primary" target="_blank" rel="noopener noreferrer">${ue}</a>`),te=te.replace(/\*\*([^*]+)\*\*/gim,'<strong class="font-semibold">$1</strong>').replace(/\*([^*]+)\*/gim,'<em class="italic">$1</em>'),te=te.replace(/^> (.*$)/gim,'<blockquote class="border-l-4 border-primary pl-4 my-2 italic text-base-content/80">$1</blockquote>'),te=te.replace(/^- (.*$)/gim,'<li class="ml-4 list-disc list-inside">$1</li>').replace(/^\* (.*$)/gim,'<li class="ml-4 list-disc list-inside">$1</li>').replace(/^\d+\. (.*$)/gim,'<li class="ml-4 list-decimal list-inside">$1</li>'),te=te.replace(/\n(?![<\/])/gim,"<br>"),te};return e.jsxs("div",{className:"bg-base-100 shadow-lg border border-base-content/10 rounded-lg mb-4",children:[e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:a,className:"flex items-center gap-3 flex-1 text-left hover:bg-base-200 p-2 -m-2 rounded-lg transition-colors",disabled:u,children:[e.jsx("div",{className:`transform transition-transform duration-200 ${s?"rotate-90":""}`,children:e.jsx("svg",{className:"w-5 h-5 text-base-content/60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg",children:r.title}),r.description&&e.jsx("p",{className:"text-sm text-base-content/70",children:r.description}),e.jsxs("div",{className:"text-xs text-base-content/50 mt-1",children:[r.updatedAt!==r.createdAt&&e.jsxs(e.Fragment,{children:["Updated: ",new Date(r.updatedAt).toLocaleDateString(),"  "]}),r.createdAt&&e.jsxs(e.Fragment,{children:["Created: ",new Date(r.createdAt).toLocaleDateString()]})]})]})]}),e.jsx("div",{className:"flex gap-2 ml-4",children:u?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:Y,className:"btn btn-sm btn-primary",disabled:N||!p.trim()||!g.trim(),children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),N?"Saving...":"Save"]}),e.jsxs("button",{onClick:B,className:"btn btn-sm btn-ghost",disabled:N,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:J,className:"btn btn-sm btn-ghost",disabled:u,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),e.jsxs("button",{onClick:D,className:"btn btn-sm btn-error btn-outline",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})})]}),s&&e.jsx("div",{className:"mt-4 border-t border-base-300 pt-4",children:u?e.jsxs("div",{className:"space-y-4",ref:I,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Title"})}),e.jsx("input",{type:"text",value:p,onChange:W=>q("title",W.target.value),className:"input input-bordered",placeholder:"Idea title...",required:!0})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Description"})}),e.jsx("input",{type:"text",value:v,onChange:W=>q("description",W.target.value),className:"input input-bordered",placeholder:"Brief description (optional)..."})]})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Content"})}),e.jsx(Ci,{value:g,onChange:W=>q("content",W),placeholder:"Enter your idea content here... (Markdown supported)"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{onClick:B,className:"btn btn-ghost btn-sm",disabled:N,children:"Cancel"}),e.jsx("button",{onClick:Y,className:"btn btn-primary btn-sm",disabled:N||!p.trim()||!g.trim(),children:N?"Saving...":"Save"})]})]}):e.jsx("div",{className:"bg-base-200 rounded-lg p-4 border border-base-300",children:e.jsx("div",{className:"prose prose-sm max-w-none text-base-content",dangerouslySetInnerHTML:{__html:le(r.content)}})})})]}),e.jsx(Tt,{isOpen:w,onConfirm:M,onCancel:()=>S(!1),title:"Delete Idea",message:`Are you sure you want to delete "<strong>${r.title}</strong>"? This action cannot be undone.`,confirmText:"Delete Idea",variant:"error"})]})},Ay=({onAdd:r})=>{const[s,a]=x.useState(""),[o,c]=x.useState(""),[u,m]=x.useState(""),[p,f]=x.useState(!1),[v,b]=x.useState(!1),g=async k=>{if(k.preventDefault(),!(!s.trim()||!u.trim())){f(!0);try{r(s.trim(),o.trim(),u.trim()),a(""),c(""),m(""),b(!1)}catch(N){console.error("Failed to create idea:",N)}finally{f(!1)}}};return e.jsxs("div",{className:"collapse collapse-arrow bg-base-100 shadow-lg border border-base-content/10 mb-4",children:[e.jsx("input",{type:"checkbox",checked:v,onChange:k=>b(k.target.checked)}),e.jsx("div",{className:"collapse-title text-lg font-semibold bg-base-200 border-b border-base-content/10",children:"Create New Idea"}),e.jsx("div",{className:"collapse-content",children:e.jsxs("form",{onSubmit:g,className:"space-y-4 pt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Idea Title"})}),e.jsx("input",{type:"text",value:s,onChange:k=>a(k.target.value),className:"input input-bordered border-base-300",placeholder:"Enter idea title...",required:!0})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Description (Optional)"})}),e.jsx("input",{type:"text",value:o,onChange:k=>c(k.target.value),className:"input input-bordered border-base-300",placeholder:"Brief description..."})]})]}),e.jsxs("div",{className:"form-control",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Idea Content"})}),e.jsx("button",{type:"submit",className:"btn btn-primary btn-sm",disabled:p||!s.trim()||!u.trim(),children:p?"Adding...":"Add Idea"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ci,{value:u,onChange:m,placeholder:"Enter your idea content here... (Markdown supported)"}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",className:"btn btn-primary btn-sm",disabled:p||!s.trim()||!u.trim(),children:p?"Adding...":"Add Idea"})})]})]})]})})]})},Ry=({userId:r,compact:s=!1})=>{const[a,o]=x.useState(null),[c,u]=x.useState(!0),[m,p]=x.useState(null),[f,v]=x.useState(30);x.useEffect(()=>{b()},[r,f]);const b=async()=>{try{u(!0),p(null);const j=r?await ln.getAdminAnalytics(r,f):await ln.getUserAnalytics(f);o(j)}catch(j){p("Failed to load analytics data"),console.error("Analytics error:",j)}finally{u(!1)}},g=j=>{if(!j||isNaN(j)||j<0)return"0m";const w=Math.floor(j/(1e3*60*60)),S=Math.floor(j%(1e3*60*60)/(1e3*60));return w>0?`${w}h ${S}m`:`${S}m`},k=()=>{if(!a)return null;const j=a.eventCounts?.find(I=>I._id==="field_edit")?.count||0,w=a.eventCounts?.find(I=>I._id==="project_open")?.count||0,S=a.sessionStats?.totalDuration||0,_=a.sessionStats?.totalSessions||0;let T=0;return a.projectBreakdown&&a.projectBreakdown.length>0?T=a.projectBreakdown.length:a.sessionStats?.uniqueProjects&&(T=Array.isArray(a.sessionStats.uniqueProjects)?a.sessionStats.uniqueProjects.length:0),{fieldEdits:j,projectOpens:w,totalTime:S,sessions:_,uniqueProjects:T}};if(c)return e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx("div",{className:"loading loading-spinner loading-lg"})});if(m)return e.jsxs("div",{className:"alert alert-error",children:[e.jsx("svg",{className:"icon-md",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),e.jsx("span",{children:m}),e.jsx("button",{onClick:b,className:"btn btn-sm",children:"Retry"})]});if(!a)return e.jsxs("div",{className:"text-center p-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Data Yet"}),e.jsx("p",{className:"text-base-content/60",children:"Start using the app to see your analytics!"})]});const N=k();return N?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center gap-4",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("h2",{className:"text-2xl font-bold",children:" Usage Analytics"})}),e.jsx("p",{className:"translate-y-[3px] text-base-content/60",children:"Track your productivity and app usage patterns. All data is private and only visible to you."}),e.jsxs("select",{className:"select select-bordered select-sm",value:f,onChange:j=>v(Number(j.target.value)),children:[e.jsx("option",{value:7,children:"Last 7 days"}),e.jsx("option",{value:30,children:"Last 30 days"}),e.jsx("option",{value:90,children:"Last 90 days"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"stat bg-primary/5 rounded-lg border border-primary/20 p-3",children:[e.jsx("div",{className:"stat-title text-xs text-primary",children:"Total Time"}),e.jsx("div",{className:"stat-value text-primary text-lg",children:g(N.totalTime)})]}),e.jsxs("div",{className:"stat bg-secondary/5 rounded-lg border border-secondary/20 p-3",children:[e.jsx("div",{className:"stat-title text-xs text-secondary",children:"Edits"}),e.jsx("div",{className:"stat-value text-secondary text-lg",children:N.fieldEdits})]}),e.jsxs("div",{className:"stat bg-accent/5 rounded-lg border border-accent/20 p-3",children:[e.jsx("div",{className:"stat-title text-xs text-accent",children:"Unique Projects"}),e.jsx("div",{className:"stat-value text-accent text-lg",children:N.uniqueProjects})]}),e.jsxs("div",{className:"stat bg-info/5 rounded-lg border border-info/20 p-3",children:[e.jsx("div",{className:"stat-title text-xs text-info",children:"Sessions"}),e.jsx("div",{className:"stat-value text-info text-lg",children:N.sessions})]})]}),!s&&a.projectBreakdown&&a.projectBreakdown.length>0&&e.jsx("div",{className:"card-default",children:e.jsxs("div",{className:"card-body p-4",children:[e.jsx("h3",{className:"font-semibold mb-3",children:" Project Time"}),e.jsx("div",{className:"space-y-2",children:a.projectBreakdown.sort((j,w)=>w.totalTime-j.totalTime).map(j=>e.jsxs("div",{className:"flex justify-between items-center p-2 bg-base-100 rounded border",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:j.projectName}),e.jsxs("div",{className:"text-xs text-base-content/60",children:[j.sessions," sessions"]})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"font-mono font-semibold",children:g(j.totalTime)})})]},j.projectId))})]})}),!s&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm p-4 card-default",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-base-content/70",children:"Avg Session:"}),e.jsx("span",{className:"font-medium",children:g(a.sessionStats?.avgDuration||0)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-base-content/70",children:"Edits/Session:"}),e.jsx("span",{className:"font-medium",children:N.sessions>0?Math.round(N.fieldEdits/N.sessions):0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-base-content/70",children:"Projects Used:"}),e.jsx("span",{className:"font-medium",children:a.sessionStats?.uniqueProjects?.[0]?.length||0})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"btn btn-xs btn-outline",onClick:()=>{const j=JSON.stringify(a,null,2),w="data:application/json;charset=utf-8,"+encodeURIComponent(j),S=`analytics-${f}days-${new Date().toISOString().split("T")[0]}.json`,_=document.createElement("a");_.setAttribute("href",w),_.setAttribute("download",S),_.click()},children:"Export"})})]})]})]}):null},Dy=["dim","light","dark","cupcake","bumblebee","emerald","corporate","synthwave","retro","cyberpunk","valentine","halloween","garden","forest","aqua","sunset","lofi","pastel","fantasy","wireframe","black","luxury","dracula","cmyk","autumn","business","acid","lemonade","night","coffee","winter","nord"],_y=()=>{const r=He(),[s,a]=xi(),[o,c]=x.useState("theme"),[u,m]=x.useState("retro"),[p,f]=x.useState(null),{loading:v,setLoading:b}=sn(!0),{loading:g,withLoading:k}=sn(),{loading:N,withLoading:j}=sn(),{loading:w,withLoading:S}=sn(),[_,T]=x.useState(""),[I,V]=x.useState(""),[ee,F]=x.useState(!1),[q,Y]=x.useState(""),[M,B]=x.useState(!1),[J,D]=x.useState(""),[le,W]=x.useState(""),[te,he]=x.useState(!1),[ue,se]=x.useState(!1),[de,L]=x.useState(!1);x.useEffect(()=>{(async()=>{try{const Se=await Bt.getMe();f(Se.user),m(Se.user.theme||"retro"),Y(Se.user.bio||""),B(Se.user.isPublic||!1),D(Se.user.publicSlug||""),W(Se.user.publicDescription||""),document.documentElement.setAttribute("data-theme",Se.user.theme||"retro")}catch{const Ve=localStorage.getItem("theme")||"retro";m(Ve),document.documentElement.setAttribute("data-theme",Ve),r("/login")}finally{b(!1)}})()},[r]),x.useEffect(()=>{const ne=s.get("google_linked"),Se=s.get("message");ne==="success"?(V("Google account linked successfully!"),Bt.getMe().then(Ve=>f(Ve.user)).catch(()=>{}),a({})):ne==="error"&&(T(Se?decodeURIComponent(Se):"Failed to link Google account"),a({}))},[s,a]);const C=async ne=>{await k(async()=>{if(T(""),p){const Se=await Bt.updateTheme(ne);f(Se.user)}m(ne),document.documentElement.setAttribute("data-theme",ne),localStorage.setItem("theme",ne)}).catch(Se=>{T(Se.response?.data?.message||"Failed to update theme");const Ve=p?.theme||localStorage.getItem("theme")||"retro";m(Ve),document.documentElement.setAttribute("data-theme",Ve)})},P=()=>{T(""),V(""),Bt.linkGoogle()},X=async()=>{await j(async()=>{T(""),V(""),await Bt.unlinkGoogle(),V("Google account unlinked successfully!");const ne=await Bt.getMe();f(ne.user)}).catch(ne=>{T(ne.response?.data?.message||"Failed to unlink Google account")})},oe=async()=>{await S(async()=>{T(""),V("");const ne=await Bt.updateProfile({bio:q});f(ne.user),F(!1),V("Profile updated successfully!")}).catch(ne=>{T(ne.response?.data?.message||"Failed to update profile")})},pe=()=>{Y(p?.bio||""),F(!1),T("")},ye=()=>{if(p?.firstName&&p?.lastName){const ne=`${p.firstName}-${p.lastName}`.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/^-+|-+$/g,"");D(ne)}},ke=async()=>{he(!0),T(""),V("");try{const ne=await Bt.updateProfile({isPublic:M,publicSlug:J.trim()||void 0,publicDescription:le.trim()||void 0});f(ne.user),V("Public profile settings updated successfully!")}catch(ne){T(ne.response?.data?.message||"Failed to update public profile settings")}finally{he(!1)}},G=()=>{const ne=`${window.location.origin}/user/${J||p?.id}`;navigator.clipboard.writeText(ne),V("Public profile URL copied to clipboard!")},Z=()=>p?M!==(p.isPublic||!1)||J!==(p.publicSlug||"")||le!==(p.publicDescription||""):!1;return v?e.jsx("div",{className:"min-h-screen bg-base-200 flex items-center justify-center",children:e.jsx("div",{className:"loading loading-spinner loading-lg"})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-base-100 to-base-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("button",{onClick:()=>r("/"),className:"btn btn-primary gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Projects"]}),e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("h1",{className:"text-4xl font-bold text-base-content",children:"Account Settings"}),e.jsx("p",{className:"text-lg text-base-content/70 mt-2",children:"Customize your account preferences and connections"}),p&&e.jsxs("p",{className:"text-base-content/80 mt-1",children:["Welcome, ",p.firstName," ",p.lastName,"!"]})]}),e.jsx("div",{className:"w-32"})," "]}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs("div",{className:"tabs tabs-boxed tabs-lg bg-base-200 shadow-lg border border-base-content/10",children:[e.jsxs("button",{className:`tab tab-lg font-bold text-base ${o==="theme"?"tab-active":""}`,onClick:()=>c("theme"),children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4 4 4 0 004-4V5z"})}),"Theme Preferences"]}),e.jsxs("button",{className:`tab tab-lg font-bold text-base ${o==="connections"?"tab-active":""}`,onClick:()=>c("connections"),children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),"Account Connections"]}),e.jsxs("button",{className:`tab tab-lg font-bold text-base ${o==="profile"?"tab-active":""}`,onClick:()=>c("profile"),children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Profile & Public Settings"]}),e.jsxs("button",{className:`tab tab-lg font-bold text-base ${o==="analytics"?"tab-active":""}`,onClick:()=>c("analytics"),children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"Usage Analytics"]})]})}),I&&e.jsxs("div",{className:"alert alert-success mb-6",children:[e.jsx("svg",{className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:I}),e.jsx("button",{onClick:()=>V(""),className:"btn btn-ghost btn-sm",children:""})]}),_&&e.jsxs("div",{className:"alert alert-error mb-6",children:[e.jsx("svg",{className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:_}),e.jsx("button",{onClick:()=>T(""),className:"btn btn-ghost btn-sm",children:""})]}),e.jsx("div",{className:"card bg-base-100 shadow-xl",children:e.jsxs("div",{className:"card-body",children:[o==="theme"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Theme Preferences"}),e.jsxs("p",{className:"text-base-content/60",children:["Choose a theme that suits your style.",p?" Your preference will be saved to your account.":" Sign in to save your theme preference."]})]}),g&&e.jsxs("div",{className:"alert alert-info",children:[e.jsx("span",{className:"loading loading-spinner loading-sm"}),e.jsx("span",{children:"Saving theme preference..."})]}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-3",children:Dy.map(ne=>e.jsxs("button",{className:`group flex flex-col items-center gap-2 p-3 rounded-lg transition-all hover:scale-105 ${u===ne?"bg-primary/20 ring-2 ring-primary":"hover:bg-base-200"}`,onClick:()=>C(ne),disabled:g,children:[e.jsx("div",{className:"h-12 w-full rounded-lg overflow-hidden shadow-sm","data-theme":ne,children:e.jsxs("div",{className:"h-full grid grid-cols-4 gap-px p-1",children:[e.jsx("div",{className:"rounded bg-primary"}),e.jsx("div",{className:"rounded bg-secondary"}),e.jsx("div",{className:"rounded bg-accent"}),e.jsx("div",{className:"rounded bg-neutral"})]})}),e.jsx("span",{className:"text-xs font-medium text-center capitalize",children:ne}),u===ne&&e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"})]},ne))}),e.jsxs("div",{className:"bg-base-200 rounded-lg p-4 mt-6",children:[e.jsxs("h3",{className:"font-semibold mb-2",children:["Current Theme: ",u.charAt(0).toUpperCase()+u.slice(1)]}),e.jsx("div",{className:"text-sm text-base-content/60",children:e.jsx("p",{children:"Theme preference is saved to your account and will be applied across all devices."})})]})]}),o==="connections"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Account Connections"}),e.jsx("p",{className:"text-base-content/60",children:"Link your account with external services for easier sign-in."})]}),e.jsx("div",{className:"bg-base-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-base-100 rounded-lg flex items-center justify-center shadow-sm",children:e.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Google"}),e.jsx("p",{className:"text-base-content/60 text-sm",children:p?.hasGoogleAccount?"Your Google account is connected":"Connect your Google account for easier sign-in"})]})]}),e.jsx("div",{className:"flex items-center gap-3",children:p?.hasGoogleAccount?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"badge h-8 badge-success gap-2",children:[e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Connected"]}),e.jsx("button",{onClick:X,disabled:N,className:"btn btn-error btn-sm",children:N?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner loading-xs"}),"Unlinking..."]}):"Unlink"})]}):e.jsx("button",{onClick:P,className:"btn btn-primary btn-sm",children:"Link Google Account"})})]})})]}),o==="profile"&&e.jsx("div",{className:"space-y-6",children:p&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"collapse collapse-arrow bg-base-100 shadow-lg border border-base-content/10",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0}),e.jsx("div",{className:"collapse-title text-lg font-semibold bg-base-200 border-b border-base-content/10",children:" Personal Information"}),e.jsx("div",{className:"collapse-content",children:e.jsx("div",{className:"pt-4 space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-base mb-3",children:"Account Details"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-base-content/70",children:"First Name"}),e.jsx("p",{className:"text-base-content font-medium",children:p.firstName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-base-content/70",children:"Last Name"}),e.jsx("p",{className:"text-base-content font-medium",children:p.lastName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-base-content/70",children:"Email"}),e.jsx("p",{className:"text-base-content font-medium",children:p.email})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-base mb-3",children:"Plan & Limits"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-base-content/70",children:"Plan"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:`badge ${p.planTier==="free"?"badge-ghost":p.planTier==="pro"?"badge-primary":"badge-secondary"}`,children:(p.planTier||"free").toUpperCase()})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-base-content/70",children:"Project Limit"}),e.jsxs("p",{className:"text-base-content font-medium",children:[p.projectLimit===-1?"Unlimited":p.projectLimit," projects"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-base-content/70",children:"Member Since"}),e.jsx("p",{className:"text-base-content font-medium",children:p.createdAt?new Date(p.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown"})]})]})]})]})})})]}),e.jsx("div",{className:"bg-base-200 shadow-lg border border-base-content/10 rounded-lg mb-4",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>L(!de),className:"flex items-center gap-3 flex-1 text-left hover:bg-base-200 p-2 -m-2 rounded-lg transition-colors",children:[e.jsx("div",{className:`transform transition-transform duration-200 ${de?"rotate-90":""}`,children:e.jsx("svg",{className:"w-5 h-5 text-base-content/60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg",children:" Profile Bio"}),e.jsx("p",{className:"text-sm text-base-content/70",children:q?"Bio added":"No bio added yet"})]})]}),e.jsx("div",{className:"flex gap-2 ml-4",children:ee?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:oe,className:"btn btn-sm btn-primary",disabled:w,children:w?"Saving...":"Save"}),e.jsx("button",{onClick:pe,className:"btn btn-sm btn-ghost",disabled:w,children:"Cancel"})]}):e.jsx("button",{onClick:()=>F(!0),className:"btn btn-sm btn-ghost",children:"Edit Bio"})})]}),de&&e.jsx("div",{className:"mt-4 border-t border-base-300 pt-4 bg-base-100 rounded-b-lg p-4 -mx-4 -mb-4",children:ee?e.jsxs("div",{className:"space-y-4",children:[e.jsx("textarea",{value:q,onChange:ne=>Y(ne.target.value),className:"textarea textarea-bordered w-full h-32 resize-none",placeholder:"Tell others about yourself, your interests, and what you're working on...",maxLength:500}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"text-xs text-base-content/60",children:[q.length,"/500 characters"]})})]}):e.jsx("div",{className:"bg-base-200 rounded-lg p-4 border border-base-300",children:q?e.jsx("p",{className:"text-base-content whitespace-pre-wrap",children:q}):e.jsx("p",{className:"text-base-content/60 italic",children:"No bio added yet. Click edit to add one."})})})]})}),e.jsx("div",{className:"bg-base-200 shadow-lg border border-base-content/10 rounded-lg mb-4",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>se(!ue),className:"flex items-center gap-3 flex-1 text-left hover:bg-base-200 p-2 -m-2 rounded-lg transition-colors",children:[e.jsx("div",{className:`transform transition-transform duration-200 ${ue?"rotate-90":""}`,children:e.jsx("svg",{className:"w-5 h-5 text-base-content/60",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg",children:" Public Profile Settings"}),e.jsx("p",{className:"text-sm text-base-content/70",children:M?"Profile is public":"Profile is private"})]})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[M&&e.jsxs("button",{onClick:G,className:"btn btn-outline btn-sm gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy URL"]}),e.jsx("button",{onClick:ke,disabled:te||!Z(),className:`btn btn-sm ${Z()?"btn-primary":"btn-ghost"}`,children:te?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner loading-sm"}),"Saving..."]}):Z()?"Save Changes":"Saved"})]})]}),ue&&e.jsx("div",{className:"mt-4 border-t border-base-300 pt-4 bg-base-100 rounded-b-lg p-4 -mx-4 -mb-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"label-text text-lg font-semibold",children:" Make Profile Public"}),e.jsx("p",{className:"text-sm text-base-content/60 mt-1",children:"Enable this to create a public portfolio page showcasing your projects and skills. Others will be able to discover your profile and view your public projects."}),M&&e.jsx("p",{className:"text-sm text-success font-medium mt-2",children:" Your profile is publicly accessible"})]}),e.jsx("input",{type:"checkbox",className:"toggle toggle-primary toggle-lg",checked:M,onChange:ne=>B(ne.target.checked)})]})}),M&&e.jsxs("div",{className:"space-y-4 border-t border-base-300 pt-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsxs("label",{className:"label",children:[e.jsx("span",{className:"label-text font-medium",children:"Custom URL Slug (Optional)"}),e.jsx("span",{className:"label-text-alt",children:e.jsxs("button",{type:"button",onClick:ne=>{ne.stopPropagation(),ne.preventDefault(),ye()},className:"btn btn-primary btn-xs gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Generate from name"]})})]}),e.jsxs("div",{className:"join",children:[e.jsxs("span",{className:"join-item bg-base-200 px-3 py-2 text-lg text-base-content/70 h-12",children:[window.location.origin,"/user/"]}),e.jsx("input",{type:"text",className:"input input-bordered join-item text-lg flex-1 h-12",placeholder:p?.id,value:J,onChange:ne=>D(ne.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")),pattern:"^[a-z0-9-]+$"})]}),e.jsx("div",{className:"label",children:e.jsx("span",{className:"label-text-alt",children:J?e.jsxs(e.Fragment,{children:["Your profile will be accessible at: ",e.jsxs("a",{href:`${window.location.origin}/user/${J}`,target:"_blank",rel:"noopener noreferrer",className:"link link-primary font-bold",children:["/user/",J]})]}):e.jsxs(e.Fragment,{children:["Your profile will be accessible at: ",e.jsxs("a",{href:`${window.location.origin}/user/${p?.id}`,target:"_blank",rel:"noopener noreferrer",className:"link link-primary font-bold",children:["/user/",p?.id]})]})})})]}),e.jsxs("div",{className:"form-control",children:[e.jsxs("label",{className:"label",children:[e.jsx("span",{className:"label-text font-medium",children:"Public Profile Description (Optional)"}),e.jsxs("span",{className:"label-text-alt",children:[le.length,"/200 characters"]})]}),e.jsx("textarea",{className:"textarea textarea-bordered h-24 resize-none",placeholder:"Describe yourself professionally for public viewers (will show at the top of your profile)",value:le,onChange:ne=>W(ne.target.value.slice(0,200))})]}),e.jsx("div",{className:"divider",children:"Preview"}),e.jsxs("div",{className:"mockup-browser border bg-base-300",children:[e.jsx("div",{className:"mockup-browser-toolbar",children:e.jsxs("div",{className:"input",children:[window.location.origin,"/user/",J||p?.id]})}),e.jsxs("div",{className:"bg-base-100 p-4",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsxs("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-2xl font-bold text-white",children:[p?.firstName?.charAt(0),p?.lastName?.charAt(0)]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold",children:[p?.firstName," ",p?.lastName]}),J&&e.jsxs("span",{className:"text-base-content/60",children:["@",J]}),le&&e.jsx("p",{className:"text-sm text-base-content/70 mt-1",children:le})]})]}),e.jsx("div",{className:"text-sm text-base-content/60",children:" Your public projects will be listed below"})]})]})]}),!M&&e.jsxs("div",{className:"text-center py-8 border-t border-base-300",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-primary/20 flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsx("h3",{className:"text-xl font-bold mb-2",children:"Create Your Public Portfolio"}),e.jsx("p",{className:"text-base-content/70 mb-4 max-w-md mx-auto",children:"Showcase your work to the world! Enable your public profile to share your projects, skills, and experience with the developer community."}),e.jsx("button",{onClick:ne=>{ne.stopPropagation(),ne.preventDefault(),B(!0)},className:"btn btn-primary",children:"Enable Public Profile"})]})]})})]})}),e.jsxs("div",{className:"collapse collapse-arrow bg-base-100 shadow-lg border border-base-content/10",children:[e.jsx("input",{type:"checkbox"}),e.jsx("div",{className:"collapse-title text-lg font-semibold bg-base-200 border-b border-base-content/10",children:" Privacy Information"}),e.jsx("div",{className:"collapse-content",children:e.jsxs("div",{className:"pt-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-success",children:" Included"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-success"}),"Your name and profile description"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-success"}),"Your bio (from above section)"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-success"}),"All your public projects"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-success"}),"Tech stack summary from projects"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-success"}),"Project categories and count"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-success"}),"Member since date"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-error",children:" Not Included"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-error"}),"Email address"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-error"}),"Private/team projects"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-error"}),"Account settings or preferences"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-error"}),"Billing or plan information"]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-error"}),"Private project details"]})]})]})]}),e.jsx("div",{className:"mt-4 p-4 bg-info/10 rounded-lg border border-info/20",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-info mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-info mb-1",children:"Privacy & Control"}),e.jsx("p",{className:"text-sm text-base-content/70",children:"Your public profile only shows information from projects you've explicitly made public. You can disable your public profile at any time, and no private information is ever exposed."})]})]})})]})})]})]})}),o==="analytics"&&e.jsx("div",{className:"space-y-6",children:e.jsx(Ry,{})})]})})]})})},My=({onResetAnalytics:r})=>{const[s,a]=x.useState(null),[o,c]=x.useState(null),[u,m]=x.useState(!1),[p,f]=x.useState(null),[v,b]=x.useState(7),[g,k]=x.useState(null),[N,j]=x.useState("features"),[w,S]=x.useState(null),_=x.useCallback(F=>{if(!F||isNaN(F)||F<0)return"0s";const q=Math.floor(F/3600),Y=Math.floor(F%3600/60),M=Math.floor(F%60);return q>0?`${q}h ${Y}m`:Y>0?`${Y}m ${M}s`:`${M}s`},[]),T=x.useCallback(F=>{if(!F)return"Unknown";try{const q=new Date(F);return isNaN(q.getTime())?"Invalid Date":q.toLocaleString()}catch{return"Invalid Date"}},[]),I=`
    @keyframes fade-in {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .animate-fade-in {
      animation: fade-in 0.3s ease-in-out;
    }
  `,V=x.useCallback(async(F,q=!1)=>{if(u)return;const Y=Date.now();if(!(!q&&g&&Y-g<3e4)){m(!0),f(null);try{const[M,B]=await Promise.all([fetch("/api/admin/analytics/combined?days="+F,{credentials:"include"}).then(D=>D.json()),ln.getComprehensive(F)]),J={summary:{totalEvents:M.overview?.totalEvents||0,totalUsers:M.overview?.totalUsers||0,totalProjects:M.topProjects?.length||0,avgSessionDuration:(M.overview?.avgSessionTime||0)/1e3},topUsers:M.topUsers?.map(D=>({...D,totalTime:(D.totalTime||0)/1e3}))||[],topProjects:M.topProjects?.map(D=>({_id:D.projectId,name:D.projectName,totalActivity:Math.round((D.totalTime||0)/1e3),uniqueUserCount:D.uniqueUserCount,lastActivity:D.lastActivity}))||[],timeline:M.recentActivity||[]};a(J),c(B),k(Y)}catch(M){console.error("Analytics fetch error:",M),f(M instanceof Error?M.message:"Failed to load analytics data")}finally{m(!1)}}},[u,g]);x.useEffect(()=>{V(v,!0);const F=setInterval(()=>{document.visibilityState==="visible"&&V(v,!1)},3e4);return()=>clearInterval(F)},[v]);const ee=x.useMemo(()=>{if(!s&&!o)return e.jsx("div",{className:"text-center py-8 text-base-content/60",children:"No analytics data available"});switch(N){case"overview":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsx("div",{className:"bg-base-100/80 backdrop-blur-sm border border-subtle rounded-lg p-4 hover:shadow-lg hover:border-primary/20 transition-all duration-200 cursor-pointer group",children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[e.jsx("div",{className:"text-2xl group-hover:scale-110 transition-transform duration-200",children:""}),e.jsx("div",{className:"text-2xl font-bold text-primary",children:s?.summary?.totalEvents?.toLocaleString()||"0"}),e.jsx("div",{className:"text-xs text-base-content/60",children:"Total Events"})]})}),e.jsx("div",{className:"bg-base-100/80 backdrop-blur-sm border border-subtle rounded-lg p-4 hover:shadow-lg hover:border-success/20 transition-all duration-200 cursor-pointer group",children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[e.jsx("div",{className:"text-2xl group-hover:scale-110 transition-transform duration-200",children:""}),e.jsx("div",{className:"text-2xl font-bold text-success",children:s?.summary?.totalUsers?.toLocaleString()||"0"}),e.jsx("div",{className:"text-xs text-base-content/60",children:"Active Users"})]})}),e.jsx("div",{className:"bg-base-100/80 backdrop-blur-sm border border-subtle rounded-lg p-4 hover:shadow-lg hover:border-info/20 transition-all duration-200 cursor-pointer group",children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[e.jsx("div",{className:"text-2xl group-hover:scale-110 transition-transform duration-200",children:""}),e.jsx("div",{className:"text-2xl font-bold text-info",children:s?.summary?.totalProjects?.toLocaleString()||"0"}),e.jsx("div",{className:"text-xs text-base-content/60",children:"Projects"})]})}),e.jsx("div",{className:"bg-base-100/80 backdrop-blur-sm border border-subtle rounded-lg p-4 hover:shadow-lg hover:border-accent/20 transition-all duration-200 cursor-pointer group",children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[e.jsx("div",{className:"text-2xl group-hover:scale-110 transition-transform duration-200",children:""}),e.jsx("div",{className:"text-2xl font-bold text-accent",children:s?.summary?.avgSessionDuration?_(s.summary.avgSessionDuration):"0s"}),e.jsx("div",{className:"text-xs text-base-content/60",children:"Avg Session"})]})})]}),e.jsxs("div",{className:"bg-base-100/80 backdrop-blur-sm border border-subtle rounded-xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("h3",{className:"text-lg font-semibold text-base-content",children:"Recent Activity Timeline"})]}),e.jsxs("button",{className:"btn btn-outline btn-sm bg-base-100/80 backdrop-blur-sm border-subtle shadow-sm hover:shadow-md transition-all",onClick:()=>V(v,!0),disabled:u,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]})]}),e.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:(s?.timeline?.length??0)>0?s?.timeline?.slice(0,10).map((F,q)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-base-200/30 backdrop-blur-sm border border-subtle rounded-lg hover:bg-base-200/50 transition-all duration-200",children:[e.jsx("div",{className:"text-2xl",children:F.event_type==="feature_usage"?"":F.event_type==="navigation"?"":F.event_type==="page_view"?"":F.event_type==="project_open"?"":F.event_type==="session_start"?"":F.event_type==="session_end"?"":""}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm text-base-content",children:F.user_name||F.user_email||`User ${F.user_id?.slice(-6)}`}),e.jsxs("div",{className:"text-xs text-base-content/60",children:[F.event_type.replace("_"," "),"  ",T(F.timestamp)]})]})]},q)):e.jsx("div",{className:"text-center py-4 text-base-content/60",children:"No recent activity"})})]})]});case"users":return e.jsxs("div",{className:"bg-base-100/80 backdrop-blur-sm border border-subtle rounded-xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 bg-success/10 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-success",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"})})}),e.jsxs("h3",{className:"text-lg font-semibold text-base-content",children:["Most Active Users (Last ",v," days)"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table table-sm w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-subtle",children:[e.jsx("th",{className:"bg-base-200/30 text-base-content/70",children:"User"}),e.jsx("th",{className:"bg-base-200/30 text-base-content/70",children:"Plan"}),e.jsx("th",{className:"bg-base-200/30 text-base-content/70",children:"Time Spent"}),e.jsx("th",{className:"bg-base-200/30 text-base-content/70",children:"Events"}),e.jsx("th",{className:"bg-base-200/30 text-base-content/70",children:"Field Edits"}),e.jsx("th",{className:"bg-base-200/30 text-base-content/70",children:"Last Active"})]})}),e.jsx("tbody",{children:(s?.topUsers?.length??0)>0?s?.topUsers?.map((F,q)=>e.jsxs("tr",{className:`border-subtle hover:bg-base-200/20 transition-colors duration-200 ${q<3?"bg-success/5":""}`,children:[e.jsx("td",{children:e.jsxs("div",{className:"flex items-center gap-2",children:[q<3&&e.jsx("span",{className:"text-lg",children:""}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-sm text-base-content",children:[F.firstName," ",F.lastName]}),e.jsx("div",{className:"text-xs text-base-content/60",children:F.email})]})]})}),e.jsx("td",{children:e.jsx("span",{className:`badge badge-xs ${F.planTier==="pro"?"badge-primary":F.planTier==="enterprise"?"badge-secondary":"badge-ghost"}`,children:F.planTier})}),e.jsx("td",{className:"font-mono text-sm",children:_(F.totalTime)}),e.jsx("td",{children:e.jsx("span",{className:"badge badge-primary",children:F.totalEvents})}),e.jsx("td",{children:F.fieldEdits}),e.jsx("td",{className:"text-xs text-base-content/60",children:T(F.lastActivity)})]},q)):e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"text-center text-base-content/60 py-8",children:"No user activity data"})})})]})})]});case"projects":return e.jsxs("div",{className:"bg-base-100/80 backdrop-blur-sm border border-subtle rounded-xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 bg-info/10 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-info",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h4a1 1 0 010 2H6.414l2.293 2.293a1 1 0 01-1.414 1.414L5 6.414V8a1 1 0 01-2 0V4zm9 1a1 1 0 010-2h4a1 1 0 011 1v4a1 1 0 01-2 0V6.414l-2.293 2.293a1 1 0 11-1.414-1.414L13.586 5H12zm-9 7a1 1 0 012 0v1.586l2.293-2.293a1 1 0 111.414 1.414L6.414 15H8a1 1 0 010 2H4a1 1 0 01-1-1v-4zm13-1a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 010-2h1.586l-2.293-2.293a1 1 0 111.414-1.414L15 13.586V12a1 1 0 011-1z",clipRule:"evenodd"})})}),e.jsxs("h3",{className:"text-lg font-semibold text-base-content",children:["Most Active Projects (Last ",v," days)"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"table table-sm w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-subtle",children:[e.jsx("th",{className:"bg-base-200/30 text-base-content/70",children:"Project"}),e.jsx("th",{className:"bg-base-200/30 text-base-content/70",children:"Total Time"}),e.jsx("th",{className:"bg-base-200/30 text-base-content/70",children:"Unique Users"}),e.jsx("th",{className:"bg-base-200/30 text-base-content/70",children:"Last Activity"})]})}),e.jsx("tbody",{children:(s?.topProjects?.length??0)>0?s?.topProjects?.map((F,q)=>e.jsxs("tr",{className:`border-subtle hover:bg-base-200/20 transition-colors duration-200 ${q<3?"bg-success/5":""}`,children:[e.jsx("td",{children:e.jsxs("div",{className:"flex items-center gap-2",children:[q<3&&e.jsx("span",{className:"text-lg",children:""}),e.jsx("span",{className:"font-medium text-base-content",children:F.name||F._id})]})}),e.jsx("td",{children:e.jsx("span",{className:"badge badge-primary",children:_(F.totalActivity)})}),e.jsx("td",{children:e.jsxs("span",{className:"badge badge-outline badge-xs text-base-content/70",children:[F.uniqueUserCount," users"]})}),e.jsx("td",{className:"text-xs text-base-content/60",children:T(F.lastActivity)})]},q)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"text-center text-base-content/60 py-8",children:"No project activity data"})})})]})})]});case"features":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-base-100/80 backdrop-blur-sm border border-subtle rounded-xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsxs("svg",{className:"w-5 h-5 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M2 10a8 8 0 018-8v8h8a8 8 0 11-16 0z"}),e.jsx("path",{d:"M12 2.252A8.014 8.014 0 0117.748 8H12V2.252z"})]})}),e.jsx("h3",{className:"text-lg font-semibold text-base-content",children:"Analytics Overview - Click Cards for Details"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-base-100/80 backdrop-blur-sm border border-subtle rounded-lg p-4 hover:shadow-lg hover:border-primary/20 transition-all duration-200 cursor-pointer group",onClick:()=>S(w==="featureUsage"?null:"featureUsage"),children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[e.jsx("div",{className:"text-2xl group-hover:scale-110 transition-transform duration-200",children:""}),e.jsx("div",{className:"text-2xl font-bold text-primary",children:o?.summary?.totalFeatureUsage?.toLocaleString()||"0"}),e.jsx("div",{className:"text-xs text-base-content/60",children:"Feature Usage"})]})}),e.jsx("div",{className:"bg-base-100/80 backdrop-blur-sm border border-subtle rounded-lg p-4 hover:shadow-lg hover:border-secondary/20 transition-all duration-200 cursor-pointer group",onClick:()=>S(w==="navigation"?null:"navigation"),children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[e.jsx("div",{className:"text-2xl group-hover:scale-110 transition-transform duration-200",children:""}),e.jsx("div",{className:"text-2xl font-bold text-secondary",children:o?.summary?.totalNavigationEvents?.toLocaleString()||"0"}),e.jsx("div",{className:"text-xs text-base-content/60",children:"Navigation"})]})}),e.jsx("div",{className:"bg-base-100/80 backdrop-blur-sm border border-subtle rounded-lg p-4 hover:shadow-lg hover:border-warning/20 transition-all duration-200 cursor-pointer group",onClick:()=>S(w==="pageViews"?null:"pageViews"),children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[e.jsx("div",{className:"text-2xl group-hover:scale-110 transition-transform duration-200",children:""}),e.jsx("div",{className:"text-2xl font-bold text-warning",children:o?.summary?.totalPageViews?.toLocaleString()||"0"}),e.jsx("div",{className:"text-xs text-base-content/60",children:"Page Views"})]})}),e.jsx("div",{className:"bg-base-100/80 backdrop-blur-sm border border-subtle rounded-lg p-4 hover:shadow-lg hover:border-accent/20 transition-all duration-200 cursor-pointer group",onClick:()=>S(w==="fieldEdits"?null:"fieldEdits"),children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[e.jsx("div",{className:"text-2xl group-hover:scale-110 transition-transform duration-200",children:""}),e.jsx("div",{className:"text-2xl font-bold text-accent",children:o?.summary?.totalFieldEdits?.toLocaleString()||"0"}),e.jsx("div",{className:"text-xs text-base-content/60",children:"Field Edits"})]})}),e.jsx("div",{className:"bg-base-100/80 backdrop-blur-sm border border-subtle rounded-lg p-4 hover:shadow-lg hover:border-info/20 transition-all duration-200 cursor-pointer group",onClick:()=>S(w==="projectOpens"?null:"projectOpens"),children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[e.jsx("div",{className:"text-2xl group-hover:scale-110 transition-transform duration-200",children:""}),e.jsx("div",{className:"text-2xl font-bold text-info",children:o?.summary?.totalProjectOpens?.toLocaleString()||"0"}),e.jsx("div",{className:"text-xs text-base-content/60",children:"Project Opens"})]})}),e.jsx("div",{className:"bg-base-100/80 backdrop-blur-sm border border-subtle rounded-lg p-4 hover:shadow-lg hover:border-success/20 transition-all duration-200 cursor-pointer group",onClick:()=>S(w==="actions"?null:"actions"),children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[e.jsx("div",{className:"text-2xl group-hover:scale-110 transition-transform duration-200",children:""}),e.jsx("div",{className:"text-2xl font-bold text-success",children:o?.summary?.totalActions?.toLocaleString()||"0"}),e.jsx("div",{className:"text-xs text-base-content/60",children:"Actions"})]})}),e.jsx("div",{className:"bg-base-100/80 backdrop-blur-sm border border-subtle rounded-lg p-4 hover:shadow-lg hover:border-error/20 transition-all duration-200 cursor-pointer group",onClick:()=>S(w==="performance"?null:"performance"),children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[e.jsx("div",{className:"text-2xl group-hover:scale-110 transition-transform duration-200",children:""}),e.jsx("div",{className:"text-2xl font-bold text-error",children:o?.summary?.totalPerformanceEvents?.toLocaleString()||"0"}),e.jsx("div",{className:"text-xs text-base-content/60",children:"Performance"})]})}),e.jsx("div",{className:"bg-base-100/80 backdrop-blur-sm border border-subtle rounded-lg p-4 hover:shadow-lg hover:border-base-300/20 transition-all duration-200 cursor-pointer group",onClick:()=>S(w==="errors"?null:"errors"),children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[e.jsx("div",{className:"text-2xl group-hover:scale-110 transition-transform duration-200",children:""}),e.jsx("div",{className:"text-2xl font-bold text-base-content",children:o?.summary?.totalErrors?.toLocaleString()||"0"}),e.jsx("div",{className:"text-xs text-base-content/60",children:"Errors"})]})})]})]}),w&&e.jsxs("div",{className:"bg-base-100/80 backdrop-blur-sm border border-subtle rounded-xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-base-content",children:[w==="featureUsage"&&" Feature Usage Details",w==="navigation"&&" Navigation Details",w==="pageViews"&&" Page Views Details",w==="fieldEdits"&&" Field Edits Details",w==="projectOpens"&&" Project Opens Details",w==="actions"&&" Actions Details",w==="performance"&&" Performance Details",w==="errors"&&" Errors Details"]}),e.jsx("button",{className:"btn btn-sm btn-circle btn-ghost hover:bg-base-200 transition-colors",onClick:()=>S(null),children:""})]}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:w==="errors"?e.jsx("div",{className:"text-center py-8 text-success",children:" No errors recorded! Your system is running smoothly."}):o?.[w]?.length?o[w].map((F,q)=>e.jsxs("div",{className:"p-3 bg-base-200/30 backdrop-blur-sm border border-subtle rounded-lg hover:bg-base-200/50 transition-all duration-200",children:[e.jsx("div",{className:"font-medium text-base-content",children:F.feature_name||F.from_page||F.page_name||F.field_name||F.project_name||F.action_name||F.action_type||"Unknown"}),e.jsxs("div",{className:"text-xs text-base-content/60 mt-1",children:["Count: ",F.usage_count||F.count||F.view_count||F.edit_count||F.access_count||F.action_count||"0","  Users: ",F.unique_users||"0"]})]},q)):e.jsxs("div",{className:"text-center py-8 text-base-content/60",children:["No data available for ",w]})})]})]});default:return null}},[s,o,N,_,T,w,v]);return u&&!s?e.jsxs("div",{className:"bg-base-100 border-subtle rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("div",{className:"skeleton h-6 w-48"}),e.jsx("div",{className:"skeleton h-8 w-24"})]}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("div",{className:"skeleton h-8 w-20"}),e.jsx("div",{className:"skeleton h-8 w-20"}),e.jsx("div",{className:"skeleton h-8 w-20"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[...Array(4)].map((F,q)=>e.jsx("div",{className:"skeleton h-24 w-full"},q))})]}):p&&!s?e.jsx("div",{className:"bg-base-100 border-subtle rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-error text-4xl mb-4",children:""}),e.jsx("div",{className:"text-error text-lg font-semibold mb-2",children:"Analytics Error"}),e.jsx("div",{className:"text-base-content/60 text-sm mb-4",children:p}),e.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>V(v,!0),children:" Retry"})]})}):e.jsxs(e.Fragment,{children:[e.jsx("style",{children:I}),e.jsx("div",{className:"bg-base-100 border-subtle rounded-xl shadow-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary rounded-xl flex items-center justify-center shadow-sm",children:e.jsx("svg",{className:"w-6 h-6 text-primary-content",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-base-content",children:"Platform Analytics"}),e.jsx("p",{className:"text-sm text-base-content/60",children:"Comprehensive insights and metrics"})]}),u&&e.jsx("span",{className:"loading loading-spinner loading-sm text-primary"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("select",{className:"select select-bordered select-sm bg-base-100/80 backdrop-blur-sm shadow-sm border-subtle",value:v,onChange:F=>b(Number(F.target.value)),children:[e.jsx("option",{value:7,children:"Last 7 days"}),e.jsx("option",{value:30,children:"Last 30 days"}),e.jsx("option",{value:90,children:"Last 90 days"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{className:"btn btn-outline btn-sm bg-base-100/80 backdrop-blur-sm border-subtle shadow-sm hover:shadow-md transition-all",onClick:()=>V(v,!0),children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Refresh"]}),r&&e.jsxs("button",{className:"btn btn-error btn-sm shadow-sm hover:shadow-md transition-all",onClick:r,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Reset Data"]})]})]})]}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsxs("div",{className:"tabs tabs-boxed bg-base-200/50 backdrop-blur-sm border-subtle shadow-sm",children:[e.jsx("button",{className:`tab font-bold ${N==="overview"?"tab-active":""}`,onClick:()=>j("overview"),children:" Overview"}),e.jsx("button",{className:`tab font-bold ${N==="users"?"tab-active":""}`,onClick:()=>j("users"),children:" Top Users"}),e.jsx("button",{className:`tab font-bold ${N==="projects"?"tab-active":""}`,onClick:()=>j("projects"),children:" Top Projects"}),e.jsx("button",{className:`tab font-bold ${N==="features"?"tab-active":""}`,onClick:()=>j("features"),children:" All Tracking"})]})}),e.jsxs("div",{className:"min-h-[300px] relative",children:[u&&s&&e.jsx("div",{className:"absolute inset-0 bg-base-100/50 backdrop-blur-sm rounded-xl flex items-center justify-center z-10",children:e.jsx("span",{className:"loading loading-spinner loading-lg text-primary"})}),e.jsx("div",{className:"animate-fade-in",children:ee})]}),e.jsxs("div",{className:"text-xs text-base-content/50 text-center mt-6 pt-4 border-t border-subtle",children:["Last updated: ",g?new Date(g).toLocaleTimeString():"Never","  Auto-refresh every 30 seconds"]})]})})]})},Iy=()=>{const r=He(),a=cn()?.activeAdminTab||"users",[o,c]=x.useState("open"),[u,m]=x.useState([]),[p,f]=x.useState([]),[v,b]=x.useState(null),[g,k]=x.useState(null),[N,j]=x.useState(!0),[w,S]=x.useState(null),[_,T]=x.useState(1),[I,V]=x.useState(1),[ee,F]=x.useState(null),[q,Y]=x.useState(""),[M,B]=x.useState(null),[J,D]=x.useState(null),[le,W]=x.useState(null),[te,he]=x.useState(!1),[ue,se]=x.useState(!1),[de,L]=x.useState(!1),C=async(R=1)=>{try{const H=await fetch(`/api/admin/users?page=${R}&limit=10`,{credentials:"include"});if(!H.ok){if(H.status===403){S("Admin access required");return}throw new Error("Failed to fetch users")}const me=await H.json();m(me.users),V(me.pagination.totalPages),T(R)}catch(H){S(H.message)}},P=async()=>{try{const R=await fetch("/api/admin/stats",{credentials:"include"});if(!R.ok)throw new Error("Failed to fetch stats");const H=await R.json();b(H)}catch(R){console.error("Failed to fetch stats:",R)}},X=async(R=1)=>{try{const H=new URLSearchParams({page:R.toString(),limit:"10",status:o}),me=await fetch(`/api/admin/tickets?${H}`,{credentials:"include"});if(!me.ok)throw new Error("Failed to fetch tickets");const Le=await me.json();f(Le.tickets),k(Le.stats),V(Le.pagination.totalPages),T(R)}catch(H){S(H.message)}},oe=async(R,H)=>{try{if(!(await fetch(`/api/admin/users/${R}/plan`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({planTier:H})})).ok)throw new Error("Failed to update user plan");await C(_),await P()}catch(me){alert("Failed to update user plan: "+me.message)}},pe=async R=>{try{const H=await fetch(`/api/admin/users/${R}`,{credentials:"include"});if(!H.ok)throw new Error("Failed to fetch user details");const me=await H.json();D(me)}catch(H){alert("Failed to fetch user details: "+H.message)}},ye=async R=>{try{if(!(await fetch(`/api/admin/users/${R}/password-reset`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to send password reset");alert("Password reset email sent successfully!")}catch(H){alert("Failed to send password reset email: "+H.message)}},ke=async R=>{try{const H=await fetch(`/api/admin/users/${R}`,{method:"DELETE",credentials:"include"});if(!H.ok){const me=await H.json();throw new Error(me.error||"Failed to delete user")}await C(_),await P(),he(!1),W(null),D(null),alert("User deleted successfully!")}catch(H){alert("Failed to delete user: "+H.message),he(!1),W(null)}},G=async(R,H,me,Le)=>{try{if(!(await fetch(`/api/admin/tickets/${R}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({status:H,adminResponse:me,priority:Le})})).ok)throw new Error("Failed to update ticket");await X(_),F(null),Y(""),B(null)}catch($e){alert("Failed to update ticket: "+$e.message)}},Z=async()=>{try{L(!0);const R=await ln.resetAllAnalytics(),H=R?.deletedAnalytics??0,me=R?.deletedSessions??0;alert(`Analytics reset successful! Deleted ${H} analytics events, ${me} sessions, and cleared all project time data.`),se(!1)}catch(R){alert("Failed to reset analytics: "+(R.response?.data?.error||R.message))}finally{L(!1)}};if(x.useEffect(()=>{(async()=>{const H=performance.now();j(!0);try{a==="users"?await Promise.all([C(1),P()]):await X(1)}catch(me){console.error("Failed to load data:",me)}finally{j(!1);const me=performance.now()-H;Te.trackPerformance(`admin_dashboard_${a}_load`,me,"AdminDashboardPage",{tab:a,ticketStatus:o})}})()},[a,o]),N)return e.jsx("div",{className:"p-6 flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"loading loading-spinner loading-lg"})});if(w)return e.jsx("div",{className:"p-6 flex items-center justify-center min-h-[50vh]",children:e.jsx("div",{className:"card w-96 bg-base-100 shadow-lg border-subtle rounded-lg",children:e.jsxs("div",{className:"card-body items-center text-center",children:[e.jsx("h2",{className:"card-title text-error",children:"Access Denied"}),e.jsx("p",{children:w}),e.jsx("div",{className:"card-actions",children:e.jsx("button",{className:"btn btn-primary",onClick:()=>r("/"),children:"Go Back"})})]})})});const ne=R=>new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),Se=R=>{switch(R){case"free":return"badge-ghost";case"pro":return"badge-primary";case"enterprise":return"badge-secondary";default:return"badge-neutral"}},Ve=R=>{switch(R){case"open":return"badge-error";case"in_progress":return"badge-warning";case"resolved":return"badge-success";case"closed":return"badge-neutral";default:return"badge-ghost"}},kt=R=>{switch(R){case"open":return"Open";case"in_progress":return"In Progress";case"resolved":return"Resolved";case"closed":return"Closed";default:return R}},$=R=>{switch(R){case"low":return"badge-info";case"medium":return"badge-warning";case"high":return"badge-error";case"urgent":return"badge-error badge-outline";default:return"badge-ghost"}};return e.jsxs("div",{className:"p-6",children:[a==="users"&&v&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"stat bg-base-100 rounded-lg shadow-lg border-subtle",children:[e.jsx("div",{className:"stat-title",children:"Total Users"}),e.jsx("div",{className:"stat-value text-primary",children:v.totalUsers}),e.jsxs("div",{className:"stat-desc",children:[" ",v.recentSignups," new this month"]})]}),e.jsxs("div",{className:"stat bg-base-100 rounded-lg shadow-lg border-subtle",children:[e.jsx("div",{className:"stat-title",children:"Total Projects"}),e.jsx("div",{className:"stat-value text-secondary",children:v.totalProjects})]}),e.jsxs("div",{className:"stat bg-base-100 rounded-lg shadow-lg border-subtle",children:[e.jsx("div",{className:"stat-title",children:"Active Subscriptions"}),e.jsx("div",{className:"stat-value text-accent",children:v.activeSubscriptions})]}),e.jsxs("div",{className:"stat bg-base-100 rounded-lg shadow-lg border-subtle",children:[e.jsx("div",{className:"stat-title",children:"Plan Distribution"}),e.jsxs("div",{className:"stat-value text-sm",children:[e.jsxs("div",{children:["Free: ",v.planDistribution.free]}),e.jsxs("div",{children:["Pro: ",v.planDistribution.pro]}),e.jsxs("div",{children:["Enterprise: ",v.planDistribution.enterprise]})]})]})]}),a==="tickets"&&g&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"stat bg-base-100 rounded-lg shadow-lg border-subtle",children:[e.jsx("div",{className:"stat-title",children:"Open Tickets"}),e.jsx("div",{className:"stat-value text-error",children:g.open}),e.jsx("div",{className:"stat-desc",children:"Require attention"})]}),e.jsxs("div",{className:"stat bg-base-100 rounded-lg shadow-lg border-subtle",children:[e.jsx("div",{className:"stat-title",children:"In Progress"}),e.jsx("div",{className:"stat-value text-warning",children:g.inProgress}),e.jsx("div",{className:"stat-desc",children:"Being worked on"})]}),e.jsxs("div",{className:"stat bg-base-100 rounded-lg shadow-lg border-subtle",children:[e.jsx("div",{className:"stat-title",children:"Resolved"}),e.jsx("div",{className:"stat-value text-success",children:g.resolved}),e.jsx("div",{className:"stat-desc",children:"Awaiting closure"})]}),e.jsxs("div",{className:"stat bg-base-100 rounded-lg shadow-lg border-subtle",children:[e.jsx("div",{className:"stat-title",children:"Closed"}),e.jsx("div",{className:"stat-value text-neutral",children:g.closed}),e.jsx("div",{className:"stat-desc",children:"Completed tickets"})]})]}),a==="users"&&e.jsx("div",{className:"card-default border-subtle rounded-lg",style:{overflow:"visible"},children:e.jsxs("div",{className:"card-body",style:{overflow:"visible"},children:[e.jsxs("div",{className:"flex-between-center mb-4",children:[e.jsx("h2",{className:"card-title",children:"Users"}),e.jsxs("div",{className:"badge badge-neutral",children:[u.length," of ",v?.totalUsers," total"]})]}),e.jsx("div",{className:"overflow-x-auto",style:{paddingBottom:"200px"},children:e.jsxs("table",{className:"table table-zebra w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"User"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Plan"}),e.jsx("th",{children:"Projects"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Joined"}),e.jsx("th",{children:"Admin"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:u.map(R=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"font-semibold",children:[R.firstName," ",R.lastName]})}),e.jsx("td",{children:R.email}),e.jsx("td",{children:e.jsxs("div",{className:"dropdown dropdown-end",children:[e.jsx("div",{tabIndex:0,role:"button",className:`badge ${Se(R.planTier)} cursor-pointer`,children:R.planTier}),e.jsxs("ul",{tabIndex:0,className:"dropdown-content menu p-2 shadow bg-base-100 rounded-box w-32",style:{zIndex:9999},children:[e.jsx("li",{children:e.jsx("a",{onClick:()=>oe(R._id,"free"),children:"Free"})}),e.jsx("li",{children:e.jsx("a",{onClick:()=>oe(R._id,"pro"),children:"Pro"})}),e.jsx("li",{children:e.jsx("a",{onClick:()=>oe(R._id,"enterprise"),children:"Enterprise"})})]})]})}),e.jsx("td",{children:e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"font-semibold",children:R.projectCount||0})})}),e.jsx("td",{children:e.jsx("div",{className:`badge ${R.subscriptionStatus==="active"?"badge-success":"badge-ghost"}`,children:R.subscriptionStatus||"inactive"})}),e.jsx("td",{children:ne(R.createdAt)}),e.jsx("td",{children:R.isAdmin&&e.jsx("div",{className:"badge badge-warning",children:"Admin"})}),e.jsx("td",{children:e.jsxs("div",{className:"dropdown dropdown-end",children:[e.jsx("div",{tabIndex:0,role:"button",className:"btn-ghost-xs",children:""}),e.jsxs("ul",{tabIndex:0,className:"dropdown-content menu p-2 shadow bg-base-100 rounded-box w-48",style:{zIndex:9999},children:[e.jsx("li",{children:e.jsxs("a",{onClick:()=>pe(R._id),children:[e.jsxs("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View Details"]})}),e.jsx("li",{children:e.jsxs("a",{onClick:()=>ye(R._id),className:"text-warning",children:[e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),"Send Password Reset"]})}),e.jsx("div",{className:"divider my-1"}),e.jsx("li",{children:e.jsxs("a",{className:"text-error",onClick:()=>{W(R),he(!0)},children:[e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete User"]})})]})]})})]},R._id))})]})}),I>1&&e.jsx("div",{className:"flex justify-center mt-6",children:e.jsxs("div",{className:"join",children:[e.jsx("button",{className:"join-item btn",disabled:_<=1,onClick:()=>C(_-1),children:""}),Array.from({length:I},(R,H)=>H+1).map(R=>e.jsx("button",{className:`join-item btn ${R===_?"btn-active":""}`,onClick:()=>C(R),children:R},R)),e.jsx("button",{className:"join-item btn",disabled:_>=I,onClick:()=>C(_+1),children:""})]})})]})}),a==="tickets"&&e.jsx("div",{className:"card-default border-subtle rounded-lg",style:{overflow:"visible"},children:e.jsxs("div",{className:"card-body p-4",style:{overflow:"visible"},children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsxs("div",{className:"tabs tabs-boxed tabs-lg bg-base-200 shadow-lg border-subtle rounded-lg",children:[e.jsxs("button",{className:`tab tab-lg font-bold text-base ${o==="open"?"tab-active":""}`,onClick:()=>{c("open"),T(1)},children:[e.jsx("svg",{className:"icon-sm mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),"Open (",g?.open||0,")"]}),e.jsxs("button",{className:`tab tab-lg font-bold text-base ${o==="in_progress"?"tab-active":""}`,onClick:()=>{c("in_progress"),T(1)},children:[e.jsx("svg",{className:"icon-sm mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"In Progress (",g?.inProgress||0,")"]}),e.jsxs("button",{className:`tab tab-lg font-bold text-base ${o==="resolved"?"tab-active":""}`,onClick:()=>{c("resolved"),T(1)},children:[e.jsx("svg",{className:"icon-sm mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Resolved (",g?.resolved||0,")"]}),e.jsxs("button",{className:`tab tab-lg font-bold text-base ${o==="closed"?"tab-active":""}`,onClick:()=>{c("closed"),T(1)},children:[e.jsx("svg",{className:"icon-sm mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Closed (",g?.closed||0,")"]})]})}),e.jsx("div",{style:{overflowX:"auto",overflowY:"visible",paddingBottom:"200px"},children:e.jsxs("table",{className:"table table-zebra w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Ticket ID"}),e.jsx("th",{children:"User"}),e.jsx("th",{children:"Subject"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Priority"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Created"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:p.map(R=>e.jsxs("tr",{className:ee?._id===R._id?"bg-primary/10":"",children:[e.jsx("td",{children:e.jsx("code",{className:"text-xs",children:R.ticketId})}),e.jsx("td",{children:e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold",children:[R.userId.firstName," ",R.userId.lastName]}),e.jsx("div",{className:"text-sm text-base-content/60",children:R.userId.email}),e.jsx("div",{className:`badge badge-xs ${Se(R.userId.planTier)}`,children:R.userId.planTier})]})}),e.jsx("td",{children:e.jsxs("div",{className:"max-w-xs",children:[e.jsx("div",{className:"font-medium truncate",title:R.subject,children:R.subject}),e.jsx("div",{className:"text-xs text-base-content/60 truncate",title:R.message,children:R.message})]})}),e.jsx("td",{children:e.jsx("div",{className:"badge badge-outline whitespace-nowrap",children:R.category.replace("_"," ")})}),e.jsx("td",{children:e.jsx("div",{className:`badge ${$(R.priority)} whitespace-nowrap`,children:R.priority})}),e.jsx("td",{children:e.jsx("div",{className:`badge ${Ve(R.status)} whitespace-nowrap`,children:kt(R.status)})}),e.jsx("td",{children:ne(R.createdAt)}),e.jsx("td",{children:e.jsxs("div",{className:"dropdown dropdown-end",children:[e.jsx("div",{tabIndex:0,role:"button",className:"btn-ghost-xs",children:e.jsx("svg",{className:"icon-sm ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),e.jsxs("ul",{tabIndex:0,className:"dropdown-content menu p-2 shadow bg-base-100 rounded-box w-48 z-50",children:[e.jsx("li",{children:e.jsxs("a",{onClick:()=>F(ee?._id===R._id?null:R),children:[e.jsxs("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),ee?._id===R._id?"Hide Details":"View Details"]})}),e.jsx("li",{children:e.jsxs("a",{className:"text-primary",onClick:()=>{B(R.ticketId),Y("")},children:[e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Send Response"]})}),e.jsx("div",{className:"divider my-1"}),R.status==="open"&&e.jsx("li",{children:e.jsxs("a",{className:"text-warning",onClick:()=>G(R.ticketId,"in_progress"),children:[e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Start Working"]})}),R.status==="in_progress"&&e.jsx("li",{children:e.jsxs("a",{className:"text-success",onClick:()=>G(R.ticketId,"resolved"),children:[e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Mark Resolved"]})}),R.status==="resolved"&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsxs("a",{className:"text-neutral",onClick:()=>G(R.ticketId,"closed"),children:[e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Close Ticket"]})}),e.jsx("li",{children:e.jsxs("a",{className:"text-warning",onClick:()=>G(R.ticketId,"in_progress"),children:[e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.001 8.001 0 01-15.357-2m15.357 2H15"})}),"Reopen"]})})]}),R.status==="closed"&&e.jsx("li",{children:e.jsxs("a",{className:"text-warning",onClick:()=>G(R.ticketId,"in_progress"),children:[e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.001 8.001 0 01-15.357-2m15.357 2H15"})}),"Reopen Ticket"]})}),e.jsx("div",{className:"divider my-1"}),e.jsx("li",{children:e.jsxs("a",{className:"text-error",children:[e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Ticket"]})})]})]})})]},R._id))})]})}),ee&&e.jsxs("div",{className:"mt-6 p-4 bg-base-200 shadow-lg border-subtle rounded-lg",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"Ticket Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Subject:"})," ",ee.subject]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Category:"})," ",ee.category.replace("_"," ")]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Priority:"})," ",ee.priority]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Status:"})," ",kt(ee.status)]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("strong",{children:"Message:"}),e.jsx("div",{className:"bg-base-100 p-3 rounded mt-2 whitespace-pre-wrap",children:ee.message})]}),ee.adminResponse&&e.jsxs("div",{children:[e.jsx("strong",{children:"Admin Response:"}),e.jsx("div",{className:"bg-success/10 p-3 rounded mt-2 whitespace-pre-wrap",children:ee.adminResponse})]})]}),M&&e.jsxs("div",{className:"mt-6 p-4 bg-warning/10 shadow-lg border-subtle rounded-lg",children:[e.jsxs("h3",{className:"font-bold text-lg mb-4",children:["Respond to Ticket: ",M]}),e.jsxs("div",{className:"form-control mb-4",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-semibold",children:"Response"})}),e.jsx("textarea",{value:q,onChange:R=>Y(R.target.value),placeholder:"Type your response to the user...",className:"textarea textarea-bordered h-24 w-full",maxLength:2e3}),e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text-alt text-base-content/50",children:[q.length,"/2000 characters"]})})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("button",{className:"btn btn-primary",onClick:()=>G(M,void 0,q),disabled:!q.trim(),children:"Send Response"}),e.jsx("button",{className:"btn btn-warning",onClick:()=>G(M,"in_progress",q),disabled:!q.trim(),children:"Send & Mark In Progress"}),e.jsx("button",{className:"btn btn-success",onClick:()=>G(M,"resolved",q),disabled:!q.trim(),children:"Send & Mark Resolved"}),e.jsx("button",{className:"btn btn-neutral",onClick:()=>G(M,"closed",q),disabled:!q.trim(),children:"Send & Close"}),e.jsx("button",{className:"btn btn-ghost",onClick:()=>{B(null),Y("")},children:"Cancel"})]})]}),I>1&&e.jsx("div",{className:"flex justify-center mt-6",children:e.jsxs("div",{className:"join",children:[e.jsx("button",{className:"join-item btn",disabled:_<=1,onClick:()=>{switch(a){case"users":C(_-1);break;case"tickets":X(_-1);break}},children:""}),Array.from({length:I},(R,H)=>H+1).map(R=>e.jsx("button",{className:`join-item btn ${R===_?"btn-active":""}`,onClick:()=>{switch(a){case"users":C(R);break;case"tickets":X(R);break}},children:R},R)),e.jsx("button",{className:"join-item btn",disabled:_>=I,onClick:()=>{switch(a){case"users":C(_+1);break;case"tickets":X(_+1);break}},children:""})]})})]})}),a==="analytics"&&e.jsx(My,{onResetAnalytics:()=>se(!0)}),J&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-base-100 rounded-lg shadow-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex-between-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"User Details"}),e.jsx("button",{className:"btn-ghost-sm",onClick:()=>D(null),children:e.jsx("svg",{className:"icon-md",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-base-content/70",children:"Name"}),e.jsxs("p",{className:"text-lg",children:[J.firstName," ",J.lastName]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-base-content/70",children:"Email"}),e.jsx("p",{className:"text-lg",children:J.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-base-content/70",children:"Plan "}),e.jsx("div",{className:`badge ${Se(J.planTier)} badge-lg`,children:J.planTier})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-base-content/70",children:"Status "}),e.jsx("div",{className:`badge ${J.subscriptionStatus==="active"?"badge-success":"badge-ghost"} badge-lg`,children:J.subscriptionStatus||"inactive"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-base-content/70",children:"Project Count"}),e.jsxs("p",{className:"text-lg",children:[J.projectCount||0," projects"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-base-content/70",children:"Account Created"}),e.jsx("p",{className:"text-lg",children:ne(J.createdAt)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-base-content/70",children:"Admin Status "}),e.jsx("div",{className:`badge ${J.isAdmin?"badge-warning":"badge-neutral"} badge-lg`,children:J.isAdmin?"Admin":"Regular User"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"font-semibold text-base-content/70",children:"User ID"}),e.jsx("p",{className:"text-sm font-mono bg-base-200 p-2 rounded",children:J._id})]})]})]}),e.jsxs("div",{className:"flex gap-3 mt-8",children:[e.jsxs("button",{className:"btn btn-warning",onClick:()=>{ye(J._id),D(null)},children:[e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1721 9z"})}),"Send Password Reset"]}),e.jsxs("button",{className:"btn btn-error",onClick:()=>{W(J),he(!0),D(null)},children:[e.jsx("svg",{className:"icon-sm",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete User"]})]})]})}),e.jsx(Tt,{isOpen:te&&!!le,onConfirm:()=>ke(le?._id),onCancel:()=>{he(!1),W(null)},title:"Delete User Account",message:`Are you sure you want to delete <strong>${le?.firstName} ${le?.lastName}</strong>?<br/><br/>
            <div style="background: rgb(248 113 113 / 0.1); padding: 1rem; border-radius: 0.5rem; margin: 1rem 0;">
              <p style="color: rgb(248 113 113); font-weight: 600; margin-bottom: 0.5rem;"> This action cannot be undone!</p>
              <ul style="color: rgb(138 138 138); font-size: 0.875rem; margin: 0; padding-left: 1rem;">
                <li> User account will be permanently deleted</li>
                <li> All user projects will be deleted</li>
                <li> User data cannot be recovered</li>
              </ul>
            </div>`,confirmText:"Delete User",variant:"error"}),e.jsx(Tt,{isOpen:ue,onConfirm:Z,onCancel:()=>se(!1),title:"Reset Analytics Data",message:`Are you sure you want to reset all analytics data? This will clear all session tracking, user activity data, and project time tracking.<br/><br/>
            <div style="background: rgb(248 113 113 / 0.1); padding: 1rem; border-radius: 0.5rem; margin: 1rem 0;">
              <p style="color: rgb(248 113 113); font-weight: 600; margin-bottom: 0.5rem;"> This action cannot be undone!</p>
              <ul style="color: rgb(138 138 138); font-size: 0.875rem; margin: 0; padding-left: 1rem;">
                <li> All analytics events will be deleted</li>
                <li> All user session data will be cleared</li>
                <li> All project time tracking data will be deleted</li>
                <li> Historical usage data will be lost</li>
                <li> This is useful for dev/testing environments</li>
              </ul>
            </div>`,confirmText:de?"Resetting...":"Reset Analytics",variant:"error"})]})},Oy=()=>{const r=He(),[s,a]=x.useState({category:"",priority:"medium",subject:"",message:""}),[o,c]=x.useState(!1),[u,m]=x.useState(!1),[p,f]=x.useState(null),v=[{value:"bug",label:"Bug Report"},{value:"feature_request",label:"Feature Request"},{value:"account",label:"Account Issues"},{value:"billing",label:"Billing"},{value:"technical",label:"Technical Support"},{value:"other",label:"Other"}],b=[{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"urgent",label:"Urgent"}],g=N=>{const{name:j,value:w}=N.target;a(S=>({...S,[j]:w}))},k=async N=>{N.preventDefault(),c(!0),f(null);try{const j=await fetch("/api/tickets",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)});if(!j.ok){const w=await j.json();throw new Error(w.error||"Failed to create ticket")}await j.json(),m(!0),a({category:"",priority:"medium",subject:"",message:""})}catch(j){f(j.message)}finally{c(!1)}};return u?e.jsx("div",{className:"flex items-center justify-center p-6",children:e.jsx("div",{className:"card w-full max-w-md bg-base-100 shadow-xl",children:e.jsxs("div",{className:"card-body items-center text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-success/20 rounded-full flex items-center justify-center mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-success",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),e.jsx("h2",{className:"card-title text-success",children:"Ticket Created Successfully!"}),e.jsx("p",{className:"text-base-content/70 mb-4",children:"Your support request has been submitted. You'll receive a confirmation email shortly."}),e.jsxs("div",{className:"card-actions",children:[e.jsx("button",{className:"btn btn-primary",onClick:()=>m(!1),children:"Submit Another Ticket"}),e.jsx("button",{className:"btn btn-outline",onClick:()=>r("/notes"),children:"Back to Dashboard"})]})]})})}):e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsx("div",{className:"card bg-base-100 shadow-xl",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"card-title text-2xl mb-6",children:"Contact Support"}),e.jsxs("form",{onSubmit:k,className:"space-y-6",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-semibold",children:"Category *"})}),e.jsxs("select",{name:"category",value:s.category,onChange:g,className:"select select-bordered w-full",required:!0,children:[e.jsx("option",{value:"",children:"Select a category"}),v.map(N=>e.jsx("option",{value:N.value,children:N.label},N.value))]})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-semibold",children:"Priority"})}),e.jsx("select",{name:"priority",value:s.priority,onChange:g,className:"select select-bordered w-full",children:b.map(N=>e.jsx("option",{value:N.value,children:N.label},N.value))})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-semibold",children:"Subject *"})}),e.jsx("input",{type:"text",name:"subject",value:s.subject,onChange:g,placeholder:"Brief description of your issue",className:"input input-bordered w-full",maxLength:200,required:!0}),e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text-alt text-base-content/50",children:[s.subject.length,"/200 characters"]})})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-semibold",children:"Message *"})}),e.jsx("textarea",{name:"message",value:s.message,onChange:g,placeholder:"Please provide detailed information about your issue, including steps to reproduce if applicable...",className:"textarea textarea-bordered h-32 w-full resize-none",maxLength:2e3,required:!0}),e.jsx("label",{className:"label",children:e.jsxs("span",{className:"label-text-alt text-base-content/50",children:[s.message.length,"/2000 characters"]})})]}),p&&e.jsxs("div",{className:"alert alert-error",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),e.jsx("span",{children:p})]}),e.jsxs("div",{className:"card-actions justify-end pt-4",children:[e.jsx("button",{type:"button",className:"btn btn-ghost",onClick:()=>r("/notes"),children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:o||!s.category||!s.subject||!s.message,children:o?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"loading loading-spinner loading-sm"}),"Submitting..."]}):"Submit Ticket"})]})]})]})}),e.jsx("div",{className:"mt-8 text-center text-base-content/60",children:e.jsx("p",{className:"text-sm",children:'For urgent issues, please use the "Urgent" priority. We typically respond within 24 hours for most inquiries.'})})]})},By=()=>e.jsx(Oy,{}),Fy=()=>{const r=He(),[s,a]=x.useState("getting-started"),o=[{id:"getting-started",title:"Getting Started",icon:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},{id:"projects",title:"Projects & Teams",icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h1a1 1 0 011 1v5m-4 0h4"},{id:"todos",title:"Tasks & Todos",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"},{id:"notifications",title:"Notifications",icon:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"},{id:"collaboration",title:"Collaboration",icon:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"},{id:"tips",title:"Tips & Shortcuts",icon:"M13 10V3L4 14h7v7l9-11h-7z"}],c=()=>{switch(s){case"getting-started":return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Quick Start"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx("div",{className:"card bg-base-200 border border-base-300 hover:border-primary/50 cursor-pointer transition-all hover:shadow-md group",onClick:()=>r("/create-project"),children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"bg-primary/10 p-2 rounded group-hover:bg-primary/20 transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),e.jsx("h3",{className:"font-semibold",children:"Create Project"}),e.jsx("svg",{className:"w-3 h-3 ml-auto opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("p",{className:"text-xs text-base-content/70",children:"Start your first project"})]})}),e.jsx("div",{className:"card bg-base-200 border border-base-300 hover:border-success/50 cursor-pointer transition-all hover:shadow-md group",onClick:()=>r("/notes"),children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"bg-success/10 p-2 rounded group-hover:bg-success/20 transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-success",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),e.jsx("h3",{className:"font-semibold",children:"Notes"}),e.jsx("svg",{className:"w-3 h-3 ml-auto opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("p",{className:"text-xs text-base-content/70",children:"Rich text editor & tasks"})]})}),e.jsx("div",{className:"card bg-base-200 border border-base-300 hover:border-info/50 cursor-pointer transition-all hover:shadow-md group",onClick:()=>r("/stack"),children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"bg-info/10 p-2 rounded group-hover:bg-info/20 transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-info",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),e.jsx("h3",{className:"font-semibold",children:"Tech Stack"}),e.jsx("svg",{className:"w-3 h-3 ml-auto opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("p",{className:"text-xs text-base-content/70",children:"Manage technologies"})]})}),e.jsx("div",{className:"card bg-base-200 border border-base-300 hover:border-warning/50 cursor-pointer transition-all hover:shadow-md group",onClick:()=>r("/docs"),children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"bg-warning/10 p-2 rounded group-hover:bg-warning/20 transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-warning",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("h3",{className:"font-semibold",children:"Docs"}),e.jsx("svg",{className:"w-3 h-3 ml-auto opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("p",{className:"text-xs text-base-content/70",children:"Documentation center"})]})}),e.jsx("div",{className:"card bg-base-200 border border-base-300 hover:border-error/50 cursor-pointer transition-all hover:shadow-md group",onClick:()=>r("/deployment"),children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"bg-error/10 p-2 rounded group-hover:bg-error/20 transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-error",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),e.jsx("h3",{className:"font-semibold",children:"Deploy"}),e.jsx("svg",{className:"w-3 h-3 ml-auto opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("p",{className:"text-xs text-base-content/70",children:"Deploy & monitor"})]})}),e.jsx("div",{className:"card bg-base-200 border border-base-300 hover:border-secondary/50 cursor-pointer transition-all hover:shadow-md group",onClick:()=>r("/discover"),children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"bg-secondary/10 p-2 rounded group-hover:bg-secondary/20 transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-secondary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})})}),e.jsx("h3",{className:"font-semibold",children:"Discover"}),e.jsx("svg",{className:"w-3 h-3 ml-auto opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("p",{className:"text-xs text-base-content/70",children:"Explore public projects"})]})})]})]});case"projects":return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Projects & Teams"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"card bg-base-200 border border-base-300 hover:border-primary/50 cursor-pointer transition-all hover:shadow-md group",onClick:()=>r("/create-project"),children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"bg-primary/10 p-2 rounded group-hover:bg-primary/20 transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),e.jsx("h3",{className:"font-semibold",children:"New Project"}),e.jsx("svg",{className:"w-3 h-3 ml-auto opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("p",{className:"text-sm text-base-content/80",children:"Create & configure projects"})]})}),e.jsx("div",{className:"card bg-base-200 border border-base-300 hover:border-secondary/50 cursor-pointer transition-all hover:shadow-md group",onClick:()=>r("/"),children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"bg-secondary/10 p-2 rounded group-hover:bg-secondary/20 transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-secondary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),e.jsx("h3",{className:"font-semibold",children:"Team Management"}),e.jsx("svg",{className:"w-3 h-3 ml-auto opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("p",{className:"text-sm text-base-content/80",children:"Invite & manage team members"})]})}),e.jsx("div",{className:"card bg-base-200 border border-base-300 hover:border-info/50 cursor-pointer transition-all hover:shadow-md group",onClick:()=>r("/settings"),children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"bg-info/10 p-2 rounded group-hover:bg-info/20 transition-colors",children:e.jsxs("svg",{className:"w-5 h-5 text-info",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e.jsx("h3",{className:"font-semibold",children:"Project Settings"}),e.jsx("svg",{className:"w-3 h-3 ml-auto opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("p",{className:"text-sm text-base-content/80",children:"Configure permissions & visibility"})]})}),e.jsx("div",{className:"card bg-base-200 border border-base-300 hover:border-success/50 cursor-pointer transition-all hover:shadow-md group",onClick:()=>r("/discover"),children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"bg-success/10 p-2 rounded group-hover:bg-success/20 transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-success",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})})}),e.jsx("h3",{className:"font-semibold",children:"Public Projects"}),e.jsx("svg",{className:"w-3 h-3 ml-auto opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("p",{className:"text-sm text-base-content/80",children:"Share & discover projects"})]})})]})]});case"todos":return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Tasks & Todos"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"card bg-base-200 border border-base-300 hover:border-primary/50 cursor-pointer transition-all hover:shadow-md group",onClick:()=>r("/notes"),children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"bg-primary/10 p-2 rounded group-hover:bg-primary/20 transition-colors",children:e.jsx("kbd",{className:"kbd kbd-sm text-primary",children:""})}),e.jsx("h3",{className:"font-semibold",children:"Checkboxes"}),e.jsx("svg",{className:"w-3 h-3 ml-auto opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("p",{className:"text-sm text-base-content/80",children:"Create interactive task lists"})]})}),e.jsx("div",{className:"card bg-base-200 border border-base-300 hover:border-success/50 cursor-pointer transition-all hover:shadow-md group",onClick:()=>r("/notes"),children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"bg-success/10 p-2 rounded group-hover:bg-success/20 transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-success",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h3",{className:"font-semibold",children:"Due Dates"}),e.jsx("svg",{className:"w-3 h-3 ml-auto opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("p",{className:"text-sm text-base-content/80",children:"Set deadlines & reminders"})]})}),e.jsx("div",{className:"card bg-base-200 border border-base-300 hover:border-info/50 cursor-pointer transition-all hover:shadow-md group",onClick:()=>r("/"),children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"bg-info/10 p-2 rounded group-hover:bg-info/20 transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-info",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})})}),e.jsx("h3",{className:"font-semibold",children:"Assignment"}),e.jsx("svg",{className:"w-3 h-3 ml-auto opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("p",{className:"text-sm text-base-content/80",children:"Assign tasks to team members"})]})}),e.jsx("div",{className:"card bg-base-200 border border-base-300 hover:border-warning/50 cursor-pointer transition-all hover:shadow-md group",onClick:()=>r("/"),children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"bg-warning/10 p-2 rounded group-hover:bg-warning/20 transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-warning",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}),e.jsx("h3",{className:"font-semibold",children:"Notifications"}),e.jsx("svg",{className:"w-3 h-3 ml-auto opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("p",{className:"text-sm text-base-content/80",children:"Smart alerts & reminders"})]})})]})]});case"notifications":return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Notifications"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"card bg-base-200 border border-base-300 hover:border-warning/50 cursor-pointer transition-all hover:shadow-md group",onClick:()=>r("/"),children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"bg-warning/10 p-2 rounded group-hover:bg-warning/20 transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-warning",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})}),e.jsx("h3",{className:"font-semibold",children:"Notification Bell"}),e.jsx("svg",{className:"w-3 h-3 ml-auto opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("p",{className:"text-sm text-base-content/80",children:"View & manage alerts"})]})}),e.jsx("div",{className:"card bg-base-200 border border-base-300 hover:border-error/50 cursor-pointer transition-all hover:shadow-md group",onClick:()=>r("/account-settings"),children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"bg-error/10 p-2 rounded group-hover:bg-error/20 transition-colors",children:e.jsxs("svg",{className:"w-5 h-5 text-error",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e.jsx("h3",{className:"font-semibold",children:"Settings"}),e.jsx("svg",{className:"w-3 h-3 ml-auto opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("p",{className:"text-sm text-base-content/80",children:"Configure preferences"})]})})]})]});case"collaboration":return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Collaboration"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"card bg-base-200 border border-base-300 hover:border-secondary/50 cursor-pointer transition-all hover:shadow-md group",onClick:()=>r("/notes"),children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"bg-secondary/10 p-2 rounded group-hover:bg-secondary/20 transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-secondary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsx("h3",{className:"font-semibold",children:"Real-time Editing"}),e.jsx("svg",{className:"w-3 h-3 ml-auto opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("p",{className:"text-sm text-base-content/80",children:"Live collaboration features"})]})}),e.jsx("div",{className:"card bg-base-200 border border-base-300 hover:border-info/50 cursor-pointer transition-all hover:shadow-md group",onClick:()=>r("/discover"),children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"bg-info/10 p-2 rounded group-hover:bg-info/20 transition-colors",children:e.jsx("svg",{className:"w-5 h-5 text-info",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})})}),e.jsx("h3",{className:"font-semibold",children:"Public Sharing"}),e.jsx("svg",{className:"w-3 h-3 ml-auto opacity-0 group-hover:opacity-100 transition-opacity",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),e.jsx("p",{className:"text-sm text-base-content/80",children:"Share projects publicly"})]})})]})]});case"tips":return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Tips & Shortcuts"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"card bg-base-200 border border-base-300",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Editor Shortcuts"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-base-100 rounded border hover:border-primary/50 cursor-pointer transition-all hover:shadow-sm group",onClick:()=>r("/notes"),children:[e.jsx("kbd",{className:"kbd kbd-sm group-hover:bg-primary group-hover:text-primary-content transition-colors",children:"**B**"}),e.jsxs("span",{className:"text-sm",children:[e.jsx("strong",{children:"Bold"})," text formatting"]}),e.jsx("div",{className:"ml-auto opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-base-100 rounded border hover:border-primary/50 cursor-pointer transition-all hover:shadow-sm group",onClick:()=>r("/notes"),children:[e.jsx("kbd",{className:"kbd kbd-sm group-hover:bg-primary group-hover:text-primary-content transition-colors",children:"*I*"}),e.jsxs("span",{className:"text-sm",children:[e.jsx("em",{children:"Italic"})," text formatting"]}),e.jsx("div",{className:"ml-auto opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-base-100 rounded border hover:border-primary/50 cursor-pointer transition-all hover:shadow-sm group",onClick:()=>r("/notes"),children:[e.jsx("kbd",{className:"kbd kbd-sm group-hover:bg-primary group-hover:text-primary-content transition-colors",children:"`code`"}),e.jsx("span",{className:"text-sm font-mono",children:"Inline code"}),e.jsx("div",{className:"ml-auto opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-base-100 rounded border hover:border-primary/50 cursor-pointer transition-all hover:shadow-sm group",onClick:()=>r("/notes"),children:[e.jsx("kbd",{className:"kbd kbd-sm group-hover:bg-primary group-hover:text-primary-content transition-colors",children:""}),e.jsx("span",{className:"text-sm",children:"Add checkboxes"}),e.jsx("div",{className:"ml-auto opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-base-100 rounded border hover:border-primary/50 cursor-pointer transition-all hover:shadow-sm group",onClick:()=>r("/notes"),children:[e.jsx("kbd",{className:"kbd kbd-sm group-hover:bg-primary group-hover:text-primary-content transition-colors",children:"- [ ]"}),e.jsx("span",{className:"text-sm",children:"Checkbox syntax"}),e.jsx("div",{className:"ml-auto opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-base-100 rounded border hover:border-primary/50 cursor-pointer transition-all hover:shadow-sm group",onClick:()=>r("/notes"),children:[e.jsx("kbd",{className:"kbd kbd-sm group-hover:bg-primary group-hover:text-primary-content transition-colors",children:"Ctrl+S"}),e.jsx("span",{className:"text-sm",children:"Manual save"}),e.jsx("div",{className:"ml-auto opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]})}),e.jsx("div",{className:"card bg-base-200 border border-base-300",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Productivity Tips"}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-base-100 rounded border hover:border-primary/50 transition-all cursor-pointer hover:shadow-sm group",onClick:()=>r("/notes"),children:[e.jsx("span",{className:"text-lg",children:""}),e.jsxs("span",{className:"text-sm flex-1",children:[e.jsx("strong",{children:"Set Reminders:"})," Use reminder dates for important tasks"]}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-base-100 rounded border hover:border-primary/50 transition-all cursor-pointer hover:shadow-sm group",onClick:()=>r("/notes"),children:[e.jsx("span",{className:"text-lg",children:""}),e.jsxs("span",{className:"text-sm flex-1",children:[e.jsx("strong",{children:"Use Checkboxes:"})," Track task completion with the new checkbox feature"]}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-base-100 rounded border hover:border-primary/50 transition-all cursor-pointer hover:shadow-sm group",onClick:()=>r("/"),children:[e.jsx("span",{className:"text-lg",children:""}),e.jsxs("span",{className:"text-sm flex-1",children:[e.jsx("strong",{children:"Regular Reviews:"})," Check your notification bell daily"]}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-base-100 rounded border hover:border-primary/50 transition-all cursor-pointer hover:shadow-sm group",onClick:()=>r("/notes"),children:[e.jsx("span",{className:"text-lg",children:""}),e.jsxs("span",{className:"text-sm flex-1",children:[e.jsx("strong",{children:"Team Communication:"})," Use project notes for team updates"]}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-base-100 rounded border hover:border-primary/50 transition-all cursor-pointer hover:shadow-sm group",onClick:()=>r("/account-settings"),children:[e.jsx("span",{className:"text-lg",children:""}),e.jsxs("span",{className:"text-sm flex-1",children:[e.jsx("strong",{children:"Theme Customization:"})," Choose themes that work best for you"]}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]})})]})]});default:return e.jsx("div",{children:"Section not found"})}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-base-100 to-base-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("button",{onClick:()=>r("/"),className:"btn btn-primary gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Projects"]}),e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("h1",{className:"text-4xl font-bold text-base-content",children:"Help & Documentation"}),e.jsx("p",{className:"text-lg text-base-content/70 mt-2",children:"Learn how to make the most of your project management workflow"})]}),e.jsx("div",{className:"w-32"})]}),e.jsxs("div",{className:"flex gap-8",children:[e.jsx("div",{className:"w-64 flex-shrink-0",children:e.jsx("div",{className:"card bg-base-100 border border-base-300 sticky top-4",children:e.jsxs("div",{className:"card-body p-4",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Topics"}),e.jsx("ul",{className:"space-y-2",children:o.map(u=>e.jsx("li",{children:e.jsxs("button",{onClick:()=>a(u.id),className:`w-full text-left p-2 rounded flex items-center gap-2 text-sm transition-colors ${s===u.id?"bg-primary text-primary-content":"hover:bg-base-200"}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:u.icon})}),u.title]})},u.id))})]})})}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"card bg-base-100 border border-base-300",children:e.jsx("div",{className:"card-body p-8",children:c()})})})]}),e.jsxs("div",{className:"text-center py-8 mt-8 border-t border-base-300",children:[e.jsx("p",{className:"text-base-content/70 mb-6 text-lg",children:"Ready to get started?"}),e.jsxs("div",{className:"flex justify-center items-center space-x-4 flex-wrap gap-4",children:[e.jsxs("button",{onClick:()=>r("/notes"),className:"btn btn-primary gap-2 shadow-lg hover:shadow-xl transition-shadow",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Start Creating"]}),e.jsxs("button",{onClick:()=>r("/support"),className:"btn btn-outline gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Get Support"]}),e.jsxs("button",{onClick:()=>r("/account-settings"),className:"btn btn-ghost gap-2",children:[e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Settings"]})]})]}),e.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:e.jsxs("div",{className:"dropdown dropdown-top dropdown-end",children:[e.jsx("label",{tabIndex:0,className:"btn btn-primary btn-circle shadow-lg hover:shadow-xl transition-all",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),e.jsxs("ul",{tabIndex:0,className:"dropdown-content menu p-2 shadow-xl bg-base-100 rounded-box w-52 mb-2 border border-base-300",children:[e.jsx("li",{children:e.jsxs("button",{onClick:()=>r("/notes"),className:"gap-3",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Try Editor Features"]})}),e.jsx("li",{children:e.jsxs("button",{onClick:()=>r("/"),className:"gap-3",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),"Check Notifications"]})}),e.jsx("li",{children:e.jsxs("button",{onClick:()=>r("/account-settings"),className:"gap-3",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM7 3H5a2 2 0 00-2 2v12a4 4 0 004 4h2a2 2 0 002-2V5a2 2 0 00-2-2z"})}),"Change Theme"]})})]})]})})]})})},cm=()=>{const{identifier:r}=jm(),s=He(),[a,o]=x.useState(null),[c,u]=x.useState(!0),[m,p]=x.useState("");x.useEffect(()=>{r&&f()},[r]);const f=async()=>{try{u(!0),p("");const T=await hi.getProject(r);o(T.project)}catch(T){T.response?.status===404?p("Project not found"):T.response?.status===403?p("This project is private"):p("Failed to load project")}finally{u(!1)}},v=()=>{navigator.clipboard.writeText(window.location.href)},b=T=>!T||T.startsWith("http://")||T.startsWith("https://")?T:`https://${T}`;if(c)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-base-100 to-base-200 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"loading loading-spinner loading-lg text-primary mb-4"}),e.jsx("p",{className:"text-base-content/60",children:"Loading project..."})]})});if(m)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-base-100 to-base-200 flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[e.jsx("div",{className:"w-24 h-24 bg-error/20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("svg",{className:"w-12 h-12 text-error",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 15.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h1",{className:"text-3xl font-bold text-base-content mb-3",children:m}),e.jsx("p",{className:"text-base-content/60 mb-8",children:"The project you're looking for is not available or doesn't exist."}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx("button",{onClick:()=>s("/discover"),className:"btn btn-primary",children:"Discover Projects"}),e.jsx("button",{onClick:()=>s("/"),className:"btn btn-ghost",children:"Go Home"})]})]})});if(!a)return null;const g=a.docs?.reduce((T,I)=>(T[I.type]||(T[I.type]=[]),T[I.type].push(I),T),{})||{},k=[{value:"Model",label:"Models",emoji:"",description:"Database schemas"},{value:"Route",label:"Routes",emoji:"",description:"API endpoints"},{value:"API",label:"APIs",emoji:"",description:"API documentation"},{value:"Util",label:"Utils",emoji:"",description:"Helper functions"},{value:"ENV",label:"Config",emoji:"",description:"Environment setup"},{value:"Auth",label:"Auth",emoji:"",description:"Authentication"},{value:"Runtime",label:"Runtime",emoji:"",description:"Runtime config"},{value:"Framework",label:"Framework",emoji:"",description:"Framework setup"}],N=a.publicVisibility||{description:!0,tags:!0,docs:!0,techStack:!0,timestamps:!0},j=a.docs&&a.docs.length>0&&N.docs,w=a.technologies&&a.technologies.length>0&&N.techStack,S=a.deploymentData&&(a.deploymentData.liveUrl||a.deploymentData.githubRepo),_=j||w||S;return e.jsx("div",{className:"min-h-screen bg-base-100",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsx("div",{className:"hero bg-base-100 rounded-2xl shadow-xl mb-8 border border-base-200",children:e.jsxs("div",{className:"hero-content py-12 relative w-full",children:[e.jsxs("div",{className:"absolute top-6 left-6 right-6 flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>s("/discover"),className:"btn btn-primary gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Discovery"]}),e.jsxs("button",{onClick:v,className:"btn btn-ghost gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Share"]})]}),e.jsxs("div",{className:"max-w-4xl text-center mt-8",children:[e.jsx("div",{className:"flex items-center justify-center gap-6 mb-6",children:e.jsx("div",{className:"avatar placeholder",style:{backgroundColor:a.color},children:e.jsx("div",{className:"w-20 h-20 rounded-2xl text-3xl font-bold text-white",children:a.name.charAt(0).toUpperCase()})})}),e.jsx("h1",{className:"text-5xl font-bold text-base-content mb-4",children:a.name}),N.description&&e.jsx("p",{className:"text-xl text-base-content/70 leading-relaxed mb-6 max-w-3xl mx-auto",children:a.publicDescription||a.description}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6 text-base-content/60",children:[e.jsx("div",{className:"badge badge-primary badge-lg",children:a.category}),a.owner&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{children:"by"}),a.owner.isPublic||a.owner.publicSlug?e.jsxs(Pt,{to:`/discover/user/${a.owner.publicSlug||a.owner.id}`,className:"link link-primary font-semibold",children:["@",a.owner.publicSlug||`${a.owner.firstName}${a.owner.lastName}`.toLowerCase()]}):e.jsxs("span",{className:"font-semibold",children:["@",`${a.owner.firstName}${a.owner.lastName}`.toLowerCase()]})]}),N.timestamps&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("span",{children:["Updated ",new Date(a.updatedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]})]}),N.tags&&a.tags&&a.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:a.tags.map((T,I)=>e.jsx("div",{className:"badge badge-secondary badge-lg",children:T},I))})]})]})]})}),_&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[w&&e.jsx("div",{className:"card bg-base-100 shadow-xl border border-base-200",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h2",{className:"card-title text-2xl",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded-lg flex items-center justify-center",children:""}),"Tech Stack"]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:a.technologies.map((T,I)=>e.jsx("div",{className:"badge badge-outline badge-lg hover:badge-primary transition-colors cursor-help",title:T.purpose||T.version||"No details available",children:T.name},I))})]})}),S&&e.jsx("div",{className:"card bg-base-100 shadow-xl border border-base-200",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h2",{className:"card-title text-2xl",children:[e.jsx("div",{className:"w-8 h-8 bg-success/20 rounded-lg flex items-center justify-center",children:""}),"Live Project"]}),a.deploymentData.deploymentPlatform&&e.jsx("div",{className:`badge badge-lg ${a.deploymentData.deploymentStatus==="active"?"badge-success":a.deploymentData.deploymentStatus==="error"?"badge-error":"badge-warning"}`,children:a.deploymentData.deploymentPlatform})]}),e.jsxs("div",{className:"space-y-3",children:[a.deploymentData.liveUrl&&e.jsxs("a",{href:b(a.deploymentData.liveUrl),target:"_blank",rel:"noopener noreferrer",className:"btn btn-primary btn-block gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"View Live Site"]}),a.deploymentData.githubRepo&&e.jsxs("a",{href:b(a.deploymentData.githubRepo),target:"_blank",rel:"noopener noreferrer",className:"btn btn-outline btn-block gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"View Source Code"]}),a.deploymentData.liveUrl&&e.jsx("div",{className:"text-xs text-base-content/50 break-all mt-2",children:a.deploymentData.liveUrl}),a.deploymentData.githubRepo&&e.jsx("div",{className:"text-xs text-base-content/50 break-all",children:a.deploymentData.githubRepo})]})]})})]}),j&&e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-base-content mb-8 text-center",children:" Documentation"}),e.jsx("div",{className:"space-y-12",children:k.map(T=>{const I=g[T.value];return!I||I.length===0?null:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-2xl",children:T.emoji})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-2xl font-bold text-base-content",children:T.label}),e.jsx("p",{className:"text-base-content/60",children:T.description})]}),e.jsx("div",{className:"badge badge-primary badge-lg",children:I.length})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:I.map(V=>e.jsx("div",{className:"card bg-base-100 shadow-xl",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h4",{className:"card-title text-lg",children:V.title}),e.jsx("div",{className:"mockup-code bg-base-200",children:e.jsx("pre",{className:"text-sm",children:e.jsx("code",{children:V.content})})})]})},V.id))})]},T.value)})})]}),!_&&e.jsx("div",{className:"hero bg-base-100 rounded-2xl shadow-xl",children:e.jsx("div",{className:"hero-content text-center py-16",children:e.jsxs("div",{children:[e.jsx("div",{className:"w-24 h-24 bg-base-200 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("svg",{className:"w-12 h-12 text-base-content/40",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("h3",{className:"text-2xl font-bold text-base-content mb-2",children:"No additional details"}),e.jsx("p",{className:"text-base-content/60 max-w-md mx-auto",children:"This project doesn't have any additional information shared publicly yet."})]})})})]})})},dm=()=>{const{identifier:r}=jm(),s=He(),[a,o]=x.useState(null),[c,u]=x.useState(!0),[m,p]=x.useState("");x.useEffect(()=>{r&&f()},[r]);const f=async()=>{try{u(!0),p("");const b=await hi.getUserProfile(r);o(b.user)}catch(b){b.response?.status===404?p("User not found"):b.response?.status===403?p("This profile is private"):p("Failed to load profile")}finally{u(!1)}},v=()=>{navigator.clipboard.writeText(window.location.href)};return c?e.jsx("div",{className:"min-h-screen bg-base-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"loading loading-spinner loading-lg text-primary mb-4"}),e.jsx("p",{className:"text-base-content/60",children:"Loading profile..."})]})}):m?e.jsx("div",{className:"min-h-screen bg-base-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[e.jsx("div",{className:"w-24 h-24 bg-error/20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("svg",{className:"w-12 h-12 text-error",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsx("h1",{className:"text-3xl font-bold text-base-content mb-3",children:m}),e.jsx("p",{className:"text-base-content/60 mb-8",children:"The profile you're looking for is not available."}),e.jsx("button",{onClick:()=>s("/discover"),className:"btn btn-primary",children:"Back to Discover"})]})}):a?e.jsx("div",{className:"min-h-screen bg-base-100",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsx("div",{className:"hero bg-base-100 rounded-2xl shadow-xl mb-8 border border-base-200",children:e.jsxs("div",{className:"hero-content py-12 relative w-full",children:[e.jsxs("div",{className:"absolute top-6 left-6 right-6 flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>s("/discover"),className:"btn btn-primary gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Discovery"]}),e.jsxs("button",{onClick:v,className:"btn btn-ghost gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Share Profile"]})]}),e.jsxs("div",{className:"max-w-4xl text-center mt-8",children:[e.jsx("div",{className:"flex items-center justify-center gap-6 mb-6",children:e.jsx("div",{className:"w-20 h-20 rounded-full bg-primary/20 flex items-center justify-center",children:e.jsxs("span",{className:"text-3xl font-bold text-primary",children:[a.firstName?.charAt(0),a.lastName?.charAt(0)]})})}),e.jsxs("h1",{className:"text-5xl font-bold text-base-content mb-4",children:[a.firstName," ",a.lastName]}),e.jsxs("div",{className:"space-y-2",children:[a.publicSlug&&e.jsxs("p",{className:"text-xl text-primary font-semibold",children:["@",a.publicSlug]}),e.jsxs("p",{className:"text-base-content/60 text-lg",children:["Member since ",new Date(a.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]})]})]})}),a.bio&&e.jsx("div",{className:"card bg-base-100 shadow-xl border border-base-200 mb-8",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"card-title text-xl mb-4",children:"About"}),e.jsx("p",{className:"text-base leading-relaxed",children:a.bio})]})}),e.jsxs("div",{className:"stats stats-vertical lg:stats-horizontal shadow-xl w-full border border-base-200 mb-8",children:[e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"stat-figure text-primary",children:e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),e.jsx("div",{className:"stat-title",children:"Public Projects"}),e.jsx("div",{className:"stat-value text-primary",children:a.projects?.length||0})]}),e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"stat-figure text-secondary",children:e.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),e.jsx("div",{className:"stat-title",children:"Technologies Used"}),e.jsx("div",{className:"stat-value text-secondary",children:a.projects?.reduce((b,g)=>b+(g.technologies?.length||0),0)||0})]})]}),a.projects&&a.projects.length>0?e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-base-content text-center",children:"Public Projects"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.projects.map(b=>e.jsx(Pt,{to:`/discover/project/${b.publicSlug||b.id}`,className:"card bg-base-100 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-[1.02] border border-base-200 h-full group",children:e.jsxs("div",{className:"card-body p-6 flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-lg font-bold text-white flex-shrink-0 shadow-lg",style:{backgroundColor:b.color},children:b.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"card-title text-lg mb-2 group-hover:text-primary transition-colors",children:b.name}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("div",{className:"badge badge-primary badge-sm",children:b.category}),e.jsxs("span",{className:"text-xs text-base-content/60",children:["Updated ",new Date(b.updatedAt).toLocaleDateString()]})]})]})]}),e.jsx("p",{className:"text-sm text-base-content/70 line-clamp-3 mb-4 flex-grow",children:b.publicDescription||b.description}),e.jsxs("div",{className:"space-y-3 mb-4",children:[b.tags&&b.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1",children:[b.tags.slice(0,3).map((g,k)=>e.jsx("div",{className:"badge badge-secondary badge-sm",children:g},k)),b.tags.length>3&&e.jsxs("div",{className:"badge badge-ghost badge-sm",children:["+",b.tags.length-3]})]}),b.technologies&&b.technologies.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1",children:[b.technologies.slice(0,4).map((g,k)=>e.jsx("div",{className:"badge badge-outline badge-sm",children:g.name},k)),b.technologies.length>4&&e.jsxs("div",{className:"badge badge-ghost badge-sm",children:["+",b.technologies.length-4]})]})]}),b.deploymentData&&b.deploymentData.deploymentStatus&&e.jsx("div",{className:"flex justify-end",children:e.jsx("div",{className:`badge badge-sm ${b.deploymentData.deploymentStatus==="active"?"badge-success":b.deploymentData.deploymentStatus==="error"?"badge-error":"badge-warning"}`,children:b.deploymentData.deploymentPlatform||(b.deploymentData.deploymentStatus==="active"?"Live":b.deploymentData.deploymentStatus==="error"?"Error":"Inactive")})})]})},b.id))})]}):e.jsx("div",{className:"hero bg-base-100 rounded-2xl shadow-xl border border-base-200",children:e.jsx("div",{className:"hero-content text-center py-16",children:e.jsxs("div",{children:[e.jsx("div",{className:"w-24 h-24 bg-base-200 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("svg",{className:"w-12 h-12 text-base-content/40",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),e.jsx("h3",{className:"text-2xl font-bold text-base-content mb-2",children:"No public projects"}),e.jsx("p",{className:"text-base-content/60 max-w-md mx-auto",children:"This user hasn't shared any projects publicly yet."})]})})})]})}):null},$y=new Kg,Uy=()=>(x.useEffect(()=>{const r=localStorage.getItem("theme")||"retro";document.documentElement.setAttribute("data-theme",r)},[]),e.jsx(n0,{client:$y,children:e.jsx(Tg,{children:e.jsxs(wg,{children:[e.jsx(Me,{path:"/login",element:e.jsx(sb,{})}),e.jsx(Me,{path:"/register",element:e.jsx(nb,{})}),e.jsx(Me,{path:"/forgot-password",element:e.jsx(rb,{})}),e.jsx(Me,{path:"/reset-password",element:e.jsx(ab,{})}),e.jsx(Me,{path:"/billing/success",element:e.jsx(ob,{})}),e.jsx(Me,{path:"/billing/cancel",element:e.jsx(lb,{})}),e.jsx(Me,{path:"/create-project",element:e.jsx(gb,{})}),e.jsxs(Me,{path:"/",element:e.jsx(xb,{}),children:[e.jsx(Me,{index:!0,element:e.jsx(kh,{to:"/notes?view=projects"})}),e.jsx(Me,{path:"notes",element:e.jsx(vy,{})}),e.jsx(Me,{path:"stack",element:e.jsx(by,{})}),e.jsx(Me,{path:"docs",element:e.jsx(yy,{})}),e.jsx(Me,{path:"deployment",element:e.jsx(jy,{})}),e.jsx(Me,{path:"public",element:e.jsx(wy,{})}),e.jsx(Me,{path:"settings",element:e.jsx(Ey,{})}),e.jsx(Me,{path:"ideas",element:e.jsx(Py,{})}),e.jsx(Me,{path:"discover",element:e.jsx(Ly,{})}),e.jsx(Me,{path:"discover/project/:identifier",element:e.jsx(cm,{})}),e.jsx(Me,{path:"discover/user/:identifier",element:e.jsx(dm,{})}),e.jsx(Me,{path:"project/:identifier",element:e.jsx(cm,{})}),e.jsx(Me,{path:"user/:identifier",element:e.jsx(dm,{})}),e.jsx(Me,{path:"billing",element:e.jsx(ib,{})}),e.jsx(Me,{path:"account-settings",element:e.jsx(_y,{})}),e.jsx(Me,{path:"admin",element:e.jsx(Iy,{})}),e.jsx(Me,{path:"support",element:e.jsx(By,{})}),e.jsx(Me,{path:"help",element:e.jsx(Fy,{})})]}),e.jsx(Me,{path:"*",element:e.jsx(kh,{to:"/login"})})]})})}));Tx.createRoot(document.getElementById("root")).render(e.jsx(rn.StrictMode,{children:e.jsx(Uy,{})}));
